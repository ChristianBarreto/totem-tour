[debug] [2024-10-18T11:40:27.494Z] ----------------------------------------------------------------------
[debug] [2024-10-18T11:40:27.497Z] Command:       C:\Program Files\nodejs\node.exe C:\Users\chris\AppData\Roaming\npm\node_modules\firebase-tools\lib\bin\firebase.js emulators:start --only functions
[debug] [2024-10-18T11:40:27.498Z] CLI Version:   13.18.0
[debug] [2024-10-18T11:40:27.498Z] Platform:      win32
[debug] [2024-10-18T11:40:27.498Z] Node Version:  v20.10.0
[debug] [2024-10-18T11:40:27.498Z] Time:          Fri Oct 18 2024 08:40:27 GMT-0300 (Horário Padrão de Brasília)
[debug] [2024-10-18T11:40:27.498Z] ----------------------------------------------------------------------
[debug] 
[debug] [2024-10-18T11:40:27.628Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2024-10-18T11:40:27.629Z] > authorizing via signed-in user (christiannabasbarreto@gmail.com)
[info] i  emulators: Starting emulators: functions {"metadata":{"emulator":{"name":"hub"},"message":"Starting emulators: functions"}}
[debug] [2024-10-18T11:40:27.638Z] [logging] Logging Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2024-10-18T11:40:27.638Z] assigned listening specs for emulators {"user":{"hub":[{"address":"127.0.0.1","family":"IPv4","port":4400},{"address":"::1","family":"IPv6","port":4400}],"ui":[{"address":"127.0.0.1","family":"IPv4","port":4000},{"address":"::1","family":"IPv6","port":4000}],"logging":[{"address":"127.0.0.1","family":"IPv4","port":4500}]},"metadata":{"message":"assigned listening specs for emulators"}}
[debug] [2024-10-18T11:40:27.646Z] [hub] writing locator at C:\Users\chris\AppData\Local\Temp\hub-totem-tour.json
[debug] [2024-10-18T11:40:27.671Z] [functions] Functions Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2024-10-18T11:40:27.671Z] [eventarc] Eventarc Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2024-10-18T11:40:27.671Z] [tasks] Cloud Tasks Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2024-10-18T11:40:27.671Z] late-assigned ports for functions and eventarc emulators {"user":{"hub":[{"address":"127.0.0.1","family":"IPv4","port":4400},{"address":"::1","family":"IPv6","port":4400}],"ui":[{"address":"127.0.0.1","family":"IPv4","port":4000},{"address":"::1","family":"IPv6","port":4000}],"logging":[{"address":"127.0.0.1","family":"IPv4","port":4500}],"functions":[{"address":"127.0.0.1","family":"IPv4","port":5001}],"eventarc":[{"address":"127.0.0.1","family":"IPv4","port":9299}],"tasks":[{"address":"127.0.0.1","family":"IPv4","port":9499}]},"metadata":{"message":"late-assigned ports for functions and eventarc emulators"}}
[warn] !  functions: The following emulators are not running, calls to these services from the Functions emulator will affect production: auth, firestore, database, hosting, pubsub, storage, dataconnect {"metadata":{"emulator":{"name":"functions"},"message":"The following emulators are not running, calls to these services from the Functions emulator will affect production: \u001b[1mauth, firestore, database, hosting, pubsub, storage, dataconnect\u001b[22m"}}
[debug] [2024-10-18T11:40:27.676Z] defaultcredentials: writing to file C:\Users\chris\AppData\Roaming\firebase\christiannabasbarreto_gmail_com_application_default_credentials.json
[debug] [2024-10-18T11:40:27.680Z] Setting GAC to C:\Users\chris\AppData\Roaming\firebase\christiannabasbarreto_gmail_com_application_default_credentials.json {"metadata":{"emulator":{"name":"functions"},"message":"Setting GAC to C:\\Users\\chris\\AppData\\Roaming\\firebase\\christiannabasbarreto_gmail_com_application_default_credentials.json"}}
[debug] [2024-10-18T11:40:27.682Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/totem-tour/adminSdkConfig [none]
[debug] [2024-10-18T11:40:28.452Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/totem-tour/adminSdkConfig 200
[debug] [2024-10-18T11:40:28.452Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/totem-tour/adminSdkConfig {"projectId":"totem-tour","storageBucket":"totem-tour.appspot.com","locationId":"southamerica-east1"}
[debug] [2024-10-18T11:40:28.481Z] Ignoring unsupported arg: auto_download {"metadata":{"emulator":{"name":"ui"},"message":"Ignoring unsupported arg: auto_download"}}
[debug] [2024-10-18T11:40:28.481Z] Ignoring unsupported arg: port {"metadata":{"emulator":{"name":"ui"},"message":"Ignoring unsupported arg: port"}}
[debug] [2024-10-18T11:40:28.481Z] Starting Emulator UI with command {"binary":"node","args":["C:\\Users\\chris\\.cache\\firebase\\emulators\\ui-v1.13.0\\server\\server.mjs"],"optionalArgs":[],"joinArgs":false,"shell":false} {"metadata":{"emulator":{"name":"ui"},"message":"Starting Emulator UI with command {\"binary\":\"node\",\"args\":[\"C:\\\\Users\\\\chris\\\\.cache\\\\firebase\\\\emulators\\\\ui-v1.13.0\\\\server\\\\server.mjs\"],\"optionalArgs\":[],\"joinArgs\":false,\"shell\":false}"}}
[info] i  ui: Emulator UI logging to ui-debug.log {"metadata":{"emulator":{"name":"ui"},"message":"Emulator UI logging to \u001b[1mui-debug.log\u001b[22m"}}
[debug] [2024-10-18T11:40:28.655Z] Web / API server started at 127.0.0.1:4000
 {"metadata":{"emulator":{"name":"ui"},"message":"Web / API server started at 127.0.0.1:4000\n"}}
[debug] [2024-10-18T11:40:28.655Z] Web / API server started at ::1:4000
 {"metadata":{"emulator":{"name":"ui"},"message":"Web / API server started at ::1:4000\n"}}
[info] i  functions: Watching "C:\Users\chris\projects\resourses\totem-tour\functions" for Cloud Functions... {"metadata":{"emulator":{"name":"functions"},"message":"Watching \"C:\\Users\\chris\\projects\\resourses\\totem-tour\\functions\" for Cloud Functions..."}}
[debug] [2024-10-18T11:40:28.743Z] Validating nodejs source
[warn] !  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] !  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2024-10-18T11:40:30.002Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "lint": "eslint --ext .js,.ts .",
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "lib/index.js",
  "dependencies": {
    "@types/mercadopago": "^1.5.11",
    "axios": "^1.7.7",
    "dayjs": "^1.11.13",
    "dotenv": "^16.4.5",
    "firebase": "^10.14.0",
    "firebase-admin": "^12.1.0",
    "firebase-functions": "^5.0.0",
    "mercadopago": "https://github.com/ChristianBarreto/sdk-nodejs/tarball/dist"
  },
  "devDependencies": {
    "@typescript-eslint/eslint-plugin": "^5.12.0",
    "@typescript-eslint/parser": "^5.12.0",
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-import": "^2.25.4",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^4.9.0"
  },
  "private": true
}
[debug] [2024-10-18T11:40:30.002Z] Building nodejs source
[debug] [2024-10-18T11:40:30.003Z] Failed to find version of module node: reached end of search path C:\Users\chris\projects\resourses\totem-tour\functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "20". Using node@20 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-10-18T11:40:30.007Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-10-18T11:40:30.015Z] Found firebase-functions binary at 'C:\Users\chris\projects\resourses\totem-tour\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8645

[info] PRODUCTION false

[info] MP-KEY APP_USR-5803744304383341-101217-a2eda4ca0653c5d7dd87b55c9836c834-2032016489

[debug] [2024-10-18T11:40:30.633Z] Got response from /__/functions.yaml {"endpoints":{"totem":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"totem"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] +  functions: Loaded functions definitions from source: totem. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: totem."}}
[info] +  functions[us-central1-totem]: http function initialized (http://127.0.0.1:5001/totem-tour/us-central1/totem). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://127.0.0.1:5001/totem-tour/us-central1/totem)."}}
[info] 
┌─────────────────────────────────────────────────────────────┐
│ ✔  All emulators ready! It is now safe to connect your app. │
│ i  View Emulator UI at http://127.0.0.1:4000/               │
└─────────────────────────────────────────────────────────────┘

┌───────────┬────────────────┬─────────────────────────────────┐
│ Emulator  │ Host:Port      │ View in Emulator UI             │
├───────────┼────────────────┼─────────────────────────────────┤
│ Functions │ 127.0.0.1:5001 │ http://127.0.0.1:4000/functions │
└───────────┴────────────────┴─────────────────────────────────┘
  Emulator Hub running at 127.0.0.1:4400
  Other reserved ports: 4500

Issues? Report them at https://github.com/firebase/firebase-tools/issues and attach the *-debug.log files.
 
[debug] [2024-10-18T11:40:58.158Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchases/-2024-10-18T11:40:58.158Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T11:40:58.159Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchases/-2024-10-18T11:40:58.158Z"],"workRunningCount":1}
[debug] [2024-10-18T11:40:58.160Z] Accepted request GET /totem-tour/us-central1/totem/purchases/ --> us-central1-totem
[debug] [2024-10-18T11:40:58.165Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T11:40:58.165Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchases/, mapping to path=/purchases/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchases/, mapping to path=/purchases/"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-10-18T11:40:58.186Z] [worker-pool] addWorker(us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-totem)"}}
[debug] [2024-10-18T11:40:58.187Z] [worker-pool] Adding worker with key us-central1-totem, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-totem, total=1"}}
[debug] [2024-10-18T11:40:59.529Z] [runtime-status] [12112] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.5.0","resolution":"C:\\Users\\chris\\projects\\resourses\\totem-tour\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[runtime-status] [12112] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.5.0\",\"resolution\":\"C:\\\\Users\\\\chris\\\\projects\\\\resourses\\\\totem-tour\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2024-10-18T11:40:59.530Z] [runtime-status] [12112] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.1.1","resolution":"C:\\Users\\chris\\projects\\resourses\\totem-tour\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[runtime-status] [12112] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.1.1\",\"resolution\":\"C:\\\\Users\\\\chris\\\\projects\\\\resourses\\\\totem-tour\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-10-18T11:40:59.531Z] [runtime-status] [12112] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[runtime-status] [12112] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-10-18T11:40:59.531Z] [runtime-status] [12112] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.1.1","resolution":"C:\\Users\\chris\\projects\\resourses\\totem-tour\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[runtime-status] [12112] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.1.1\",\"resolution\":\"C:\\\\Users\\\\chris\\\\projects\\\\resourses\\\\totem-tour\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-10-18T11:40:59.816Z] [runtime-status] [12112] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[runtime-status] [12112] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-10-18T11:40:59.816Z] [runtime-status] [12112] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"5.1.1","resolution":"C:\\Users\\chris\\projects\\resourses\\totem-tour\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[runtime-status] [12112] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"5.1.1\",\"resolution\":\"C:\\\\Users\\\\chris\\\\projects\\\\resourses\\\\totem-tour\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2024-10-18T11:40:59.816Z] [runtime-status] [12112] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.1.1","resolution":"C:\\Users\\chris\\projects\\resourses\\totem-tour\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[runtime-status] [12112] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.1.1\",\"resolution\":\"C:\\\\Users\\\\chris\\\\projects\\\\resourses\\\\totem-tour\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-10-18T11:40:59.818Z] [runtime-status] [12112] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.5.0","resolution":"C:\\Users\\chris\\projects\\resourses\\totem-tour\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[runtime-status] [12112] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.5.0\",\"resolution\":\"C:\\\\Users\\\\chris\\\\projects\\\\resourses\\\\totem-tour\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2024-10-18T11:40:59.821Z] [runtime-status] [12112] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.1.1","resolution":"C:\\Users\\chris\\projects\\resourses\\totem-tour\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[runtime-status] [12112] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.1.1\",\"resolution\":\"C:\\\\Users\\\\chris\\\\projects\\\\resourses\\\\totem-tour\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-10-18T11:40:59.822Z] [runtime-status] [12112] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"12.5.0","resolution":"C:\\Users\\chris\\projects\\resourses\\totem-tour\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[runtime-status] [12112] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"12.5.0\",\"resolution\":\"C:\\\\Users\\\\chris\\\\projects\\\\resourses\\\\totem-tour\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[info] >  PRODUCTION false {"user":"PRODUCTION false","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m PRODUCTION false"}}
[info] >  MP-KEY APP_USR-5803744304383341-101217-a2eda4ca0653c5d7dd87b55c9836c834-2032016489 {"user":"MP-KEY APP_USR-5803744304383341-101217-a2eda4ca0653c5d7dd87b55c9836c834-2032016489","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m MP-KEY APP_USR-5803744304383341-101217-a2eda4ca0653c5d7dd87b55c9836c834-2032016489"}}
[debug] [2024-10-18T11:41:00.028Z] [runtime-status] [12112] Functions runtime initialized. {"cwd":"C:\\Users\\chris\\projects\\resourses\\totem-tour\\functions","node_version":"20.10.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[runtime-status] [12112] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\chris\\\\projects\\\\resourses\\\\totem-tour\\\\functions\",\"node_version\":\"20.10.0\"}"}}
[debug] [2024-10-18T11:41:00.029Z] [runtime-status] [12112] Listening to port: \\?\pipe\fire_emu_ae7b84035d0256c2 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[runtime-status] [12112] Listening to port: \\\\?\\pipe\\fire_emu_ae7b84035d0256c2"}}
[debug] [2024-10-18T11:41:00.050Z] [worker-us-central1-totem-3d5581e9-898d-4487-9c70-bb3bfbee604d]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-3d5581e9-898d-4487-9c70-bb3bfbee604d]: IDLE"}}
[debug] [2024-10-18T11:41:00.050Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T11:41:00.051Z] [worker-us-central1-totem-3d5581e9-898d-4487-9c70-bb3bfbee604d]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-3d5581e9-898d-4487-9c70-bb3bfbee604d]: BUSY"}}
[warn] !  Google API requested!
   - URL: "https://oauth2.googleapis.com/token"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Google API requested!\n   - URL: \"https://oauth2.googleapis.com/token\"\n   - Be careful, this may be a production service."}}
[debug] [2024-10-18T11:41:00.934Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 883.6165ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 883.6165ms"}}
[debug] [2024-10-18T11:41:00.936Z] [worker-us-central1-totem-3d5581e9-898d-4487-9c70-bb3bfbee604d]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-3d5581e9-898d-4487-9c70-bb3bfbee604d]: IDLE"}}
[debug] [2024-10-18T11:41:00.936Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T11:41:00.937Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T11:41:00.937Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T11:41:06.039Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T11:41:06.039Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T11:41:06.040Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T11:41:06.039Z"],"workRunningCount":1}
[debug] [2024-10-18T11:41:06.040Z] Accepted request GET /totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T11:41:06.044Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T11:41:06.045Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T11:41:06.045Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T11:41:06.047Z] [worker-us-central1-totem-3d5581e9-898d-4487-9c70-bb3bfbee604d]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-3d5581e9-898d-4487-9c70-bb3bfbee604d]: BUSY"}}
[debug] [2024-10-18T11:41:06.118Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 71.4265ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 71.4265ms"}}
[debug] [2024-10-18T11:41:06.119Z] [worker-us-central1-totem-3d5581e9-898d-4487-9c70-bb3bfbee604d]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-3d5581e9-898d-4487-9c70-bb3bfbee604d]: IDLE"}}
[debug] [2024-10-18T11:41:06.119Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T11:41:06.120Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T11:41:06.120Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T11:41:06.123Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T11:41:06.123Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T11:41:06.124Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T11:41:06.123Z"],"workRunningCount":1}
[debug] [2024-10-18T11:41:06.124Z] Accepted request GET /totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T11:41:06.127Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T11:41:06.127Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T11:41:06.127Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T11:41:06.128Z] [worker-us-central1-totem-3d5581e9-898d-4487-9c70-bb3bfbee604d]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-3d5581e9-898d-4487-9c70-bb3bfbee604d]: BUSY"}}
[info] >  node:internal/process/promises:289 {"user":"node:internal/process/promises:289\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m node:internal/process/promises:289\r"}}
[info] >              triggerUncaughtException(err, true /* fromPromise */); {"user":"            triggerUncaughtException(err, true /* fromPromise */);\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m             triggerUncaughtException(err, true /* fromPromise */);\r"}}
[info] >              ^ {"user":"            ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m             ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: 9 FAILED_PRECONDITION: The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/totem-tour/firestore/indexes?create_composite=ClBwcm9qZWN0cy90b3RlbS10b3VyL2RhdGFiYXNlcy8oZGVmYXVsdCkvY29sbGVjdGlvbkdyb3Vwcy9wdXJjaGFzZUl0ZW1zL2luZGV4ZXMvXxABGg4KCnB1cmNoYXNlSWQQARoICgRkYXRlEAEaDAoIX19uYW1lX18QAQ {"user":"Error: 9 FAILED_PRECONDITION: The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/totem-tour/firestore/indexes?create_composite=ClBwcm9qZWN0cy90b3RlbS10b3VyL2RhdGFiYXNlcy8oZGVmYXVsdCkvY29sbGVjdGlvbkdyb3Vwcy9wdXJjaGFzZUl0ZW1zL2luZGV4ZXMvXxABGg4KCnB1cmNoYXNlSWQQARoICgRkYXRlEAEaDAoIX19uYW1lX18QAQ\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m Error: 9 FAILED_PRECONDITION: The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/totem-tour/firestore/indexes?create_composite=ClBwcm9qZWN0cy90b3RlbS10b3VyL2RhdGFiYXNlcy8oZGVmYXVsdCkvY29sbGVjdGlvbkdyb3Vwcy9wdXJjaGFzZUl0ZW1zL2luZGV4ZXMvXxABGg4KCnB1cmNoYXNlSWQQARoICgRkYXRlEAEaDAoIX19uYW1lX18QAQ\r"}}
[info] >      at callErrorFromStatus (C:\Users\chris\projects\resourses\totem-tour\functions\node_modules\@grpc\grpc-js\build\src\call.js:31:19) {"user":"    at callErrorFromStatus (C:\\Users\\chris\\projects\\resourses\\totem-tour\\functions\\node_modules\\@grpc\\grpc-js\\build\\src\\call.js:31:19)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     at callErrorFromStatus (C:\\Users\\chris\\projects\\resourses\\totem-tour\\functions\\node_modules\\@grpc\\grpc-js\\build\\src\\call.js:31:19)\r"}}
[info] >      at Object.onReceiveStatus (C:\Users\chris\projects\resourses\totem-tour\functions\node_modules\@grpc\grpc-js\build\src\client.js:359:73) {"user":"    at Object.onReceiveStatus (C:\\Users\\chris\\projects\\resourses\\totem-tour\\functions\\node_modules\\@grpc\\grpc-js\\build\\src\\client.js:359:73)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Object.onReceiveStatus (C:\\Users\\chris\\projects\\resourses\\totem-tour\\functions\\node_modules\\@grpc\\grpc-js\\build\\src\\client.js:359:73)\r"}}
[info] >      at Object.onReceiveStatus (C:\Users\chris\projects\resourses\totem-tour\functions\node_modules\@grpc\grpc-js\build\src\client-interceptors.js:323:181) {"user":"    at Object.onReceiveStatus (C:\\Users\\chris\\projects\\resourses\\totem-tour\\functions\\node_modules\\@grpc\\grpc-js\\build\\src\\client-interceptors.js:323:181)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Object.onReceiveStatus (C:\\Users\\chris\\projects\\resourses\\totem-tour\\functions\\node_modules\\@grpc\\grpc-js\\build\\src\\client-interceptors.js:323:181)\r"}}
[info] >      at C:\Users\chris\projects\resourses\totem-tour\functions\node_modules\@grpc\grpc-js\build\src\resolving-call.js:129:78 {"user":"    at C:\\Users\\chris\\projects\\resourses\\totem-tour\\functions\\node_modules\\@grpc\\grpc-js\\build\\src\\resolving-call.js:129:78\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\chris\\projects\\resourses\\totem-tour\\functions\\node_modules\\@grpc\\grpc-js\\build\\src\\resolving-call.js:129:78\r"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:77:11) {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:77:11)\r"}}
[info] >  for call at {"user":"for call at\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m for call at\r"}}
[info] >      at ServiceClientImpl.makeServerStreamRequest (C:\Users\chris\projects\resourses\totem-tour\functions\node_modules\@grpc\grpc-js\build\src\client.js:342:32) {"user":"    at ServiceClientImpl.makeServerStreamRequest (C:\\Users\\chris\\projects\\resourses\\totem-tour\\functions\\node_modules\\@grpc\\grpc-js\\build\\src\\client.js:342:32)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     at ServiceClientImpl.makeServerStreamRequest (C:\\Users\\chris\\projects\\resourses\\totem-tour\\functions\\node_modules\\@grpc\\grpc-js\\build\\src\\client.js:342:32)\r"}}
[info] >      at ServiceClientImpl.<anonymous> (C:\Users\chris\projects\resourses\totem-tour\functions\node_modules\@grpc\grpc-js\build\src\make-client.js:105:19) {"user":"    at ServiceClientImpl.<anonymous> (C:\\Users\\chris\\projects\\resourses\\totem-tour\\functions\\node_modules\\@grpc\\grpc-js\\build\\src\\make-client.js:105:19)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     at ServiceClientImpl.<anonymous> (C:\\Users\\chris\\projects\\resourses\\totem-tour\\functions\\node_modules\\@grpc\\grpc-js\\build\\src\\make-client.js:105:19)\r"}}
[info] >      at C:\Users\chris\projects\resourses\totem-tour\functions\node_modules\@google-cloud\firestore\build\src\v1\firestore_client.js:237:29 {"user":"    at C:\\Users\\chris\\projects\\resourses\\totem-tour\\functions\\node_modules\\@google-cloud\\firestore\\build\\src\\v1\\firestore_client.js:237:29\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\chris\\projects\\resourses\\totem-tour\\functions\\node_modules\\@google-cloud\\firestore\\build\\src\\v1\\firestore_client.js:237:29\r"}}
[info] >      at C:\Users\chris\projects\resourses\totem-tour\functions\node_modules\google-gax\build\src\streamingCalls\streamingApiCaller.js:38:28 {"user":"    at C:\\Users\\chris\\projects\\resourses\\totem-tour\\functions\\node_modules\\google-gax\\build\\src\\streamingCalls\\streamingApiCaller.js:38:28\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\chris\\projects\\resourses\\totem-tour\\functions\\node_modules\\google-gax\\build\\src\\streamingCalls\\streamingApiCaller.js:38:28\r"}}
[info] >      at C:\Users\chris\projects\resourses\totem-tour\functions\node_modules\google-gax\build\src\normalCalls\timeout.js:44:16 {"user":"    at C:\\Users\\chris\\projects\\resourses\\totem-tour\\functions\\node_modules\\google-gax\\build\\src\\normalCalls\\timeout.js:44:16\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\chris\\projects\\resourses\\totem-tour\\functions\\node_modules\\google-gax\\build\\src\\normalCalls\\timeout.js:44:16\r"}}
[info] >      at Object.request (C:\Users\chris\projects\resourses\totem-tour\functions\node_modules\google-gax\build\src\streamingCalls\streaming.js:376:40) {"user":"    at Object.request (C:\\Users\\chris\\projects\\resourses\\totem-tour\\functions\\node_modules\\google-gax\\build\\src\\streamingCalls\\streaming.js:376:40)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Object.request (C:\\Users\\chris\\projects\\resourses\\totem-tour\\functions\\node_modules\\google-gax\\build\\src\\streamingCalls\\streaming.js:376:40)\r"}}
[info] >      at makeRequest (C:\Users\chris\projects\resourses\totem-tour\functions\node_modules\retry-request\index.js:159:28) {"user":"    at makeRequest (C:\\Users\\chris\\projects\\resourses\\totem-tour\\functions\\node_modules\\retry-request\\index.js:159:28)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     at makeRequest (C:\\Users\\chris\\projects\\resourses\\totem-tour\\functions\\node_modules\\retry-request\\index.js:159:28)\r"}}
[info] >      at retryRequest (C:\Users\chris\projects\resourses\totem-tour\functions\node_modules\retry-request\index.js:119:5) {"user":"    at retryRequest (C:\\Users\\chris\\projects\\resourses\\totem-tour\\functions\\node_modules\\retry-request\\index.js:119:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     at retryRequest (C:\\Users\\chris\\projects\\resourses\\totem-tour\\functions\\node_modules\\retry-request\\index.js:119:5)\r"}}
[info] >      at StreamProxy.setStream (C:\Users\chris\projects\resourses\totem-tour\functions\node_modules\google-gax\build\src\streamingCalls\streaming.js:367:37) {"user":"    at StreamProxy.setStream (C:\\Users\\chris\\projects\\resourses\\totem-tour\\functions\\node_modules\\google-gax\\build\\src\\streamingCalls\\streaming.js:367:37)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     at StreamProxy.setStream (C:\\Users\\chris\\projects\\resourses\\totem-tour\\functions\\node_modules\\google-gax\\build\\src\\streamingCalls\\streaming.js:367:37)\r"}}
[info] >      at StreamingApiCaller.call (C:\Users\chris\projects\resourses\totem-tour\functions\node_modules\google-gax\build\src\streamingCalls\streamingApiCaller.js:54:16) {"user":"    at StreamingApiCaller.call (C:\\Users\\chris\\projects\\resourses\\totem-tour\\functions\\node_modules\\google-gax\\build\\src\\streamingCalls\\streamingApiCaller.js:54:16)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     at StreamingApiCaller.call (C:\\Users\\chris\\projects\\resourses\\totem-tour\\functions\\node_modules\\google-gax\\build\\src\\streamingCalls\\streamingApiCaller.js:54:16)\r"}}
[info] >  Caused by: Error {"user":"Caused by: Error\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m Caused by: Error\r"}}
[info] >      at QueryUtil._getResponse (C:\Users\chris\projects\resourses\totem-tour\functions\node_modules\@google-cloud\firestore\build\src\reference\query-util.js:43:23) {"user":"    at QueryUtil._getResponse (C:\\Users\\chris\\projects\\resourses\\totem-tour\\functions\\node_modules\\@google-cloud\\firestore\\build\\src\\reference\\query-util.js:43:23)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     at QueryUtil._getResponse (C:\\Users\\chris\\projects\\resourses\\totem-tour\\functions\\node_modules\\@google-cloud\\firestore\\build\\src\\reference\\query-util.js:43:23)\r"}}
[info] >      at Query._getResponse (C:\Users\chris\projects\resourses\totem-tour\functions\node_modules\@google-cloud\firestore\build\src\reference\query.js:784:32) {"user":"    at Query._getResponse (C:\\Users\\chris\\projects\\resourses\\totem-tour\\functions\\node_modules\\@google-cloud\\firestore\\build\\src\\reference\\query.js:784:32)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Query._getResponse (C:\\Users\\chris\\projects\\resourses\\totem-tour\\functions\\node_modules\\@google-cloud\\firestore\\build\\src\\reference\\query.js:784:32)\r"}}
[info] >      at Query._get (C:\Users\chris\projects\resourses\totem-tour\functions\node_modules\@google-cloud\firestore\build\src\reference\query.js:777:35) {"user":"    at Query._get (C:\\Users\\chris\\projects\\resourses\\totem-tour\\functions\\node_modules\\@google-cloud\\firestore\\build\\src\\reference\\query.js:777:35)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Query._get (C:\\Users\\chris\\projects\\resourses\\totem-tour\\functions\\node_modules\\@google-cloud\\firestore\\build\\src\\reference\\query.js:777:35)\r"}}
[info] >      at C:\Users\chris\projects\resourses\totem-tour\functions\node_modules\@google-cloud\firestore\build\src\reference\query.js:745:43 {"user":"    at C:\\Users\\chris\\projects\\resourses\\totem-tour\\functions\\node_modules\\@google-cloud\\firestore\\build\\src\\reference\\query.js:745:43\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\chris\\projects\\resourses\\totem-tour\\functions\\node_modules\\@google-cloud\\firestore\\build\\src\\reference\\query.js:745:43\r"}}
[info] >      at DisabledTraceUtil.startActiveSpan (C:\Users\chris\projects\resourses\totem-tour\functions\node_modules\@google-cloud\firestore\build\src\telemetry\disabled-trace-util.js:16:16) {"user":"    at DisabledTraceUtil.startActiveSpan (C:\\Users\\chris\\projects\\resourses\\totem-tour\\functions\\node_modules\\@google-cloud\\firestore\\build\\src\\telemetry\\disabled-trace-util.js:16:16)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     at DisabledTraceUtil.startActiveSpan (C:\\Users\\chris\\projects\\resourses\\totem-tour\\functions\\node_modules\\@google-cloud\\firestore\\build\\src\\telemetry\\disabled-trace-util.js:16:16)\r"}}
[info] >      at Query.get (C:\Users\chris\projects\resourses\totem-tour\functions\node_modules\@google-cloud\firestore\build\src\reference\query.js:744:43) {"user":"    at Query.get (C:\\Users\\chris\\projects\\resourses\\totem-tour\\functions\\node_modules\\@google-cloud\\firestore\\build\\src\\reference\\query.js:744:43)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Query.get (C:\\Users\\chris\\projects\\resourses\\totem-tour\\functions\\node_modules\\@google-cloud\\firestore\\build\\src\\reference\\query.js:744:43)\r"}}
[info] >      at C:\Users\chris\projects\resourses\totem-tour\functions\lib\index.js:243:10 {"user":"    at C:\\Users\\chris\\projects\\resourses\\totem-tour\\functions\\lib\\index.js:243:10\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\chris\\projects\\resourses\\totem-tour\\functions\\lib\\index.js:243:10\r"}}
[info] >      at Layer.handle [as handle_request] (C:\Users\chris\projects\resourses\totem-tour\functions\node_modules\express\lib\router\layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (C:\\Users\\chris\\projects\\resourses\\totem-tour\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (C:\\Users\\chris\\projects\\resourses\\totem-tour\\functions\\node_modules\\express\\lib\\router\\layer.js:95:5)\r"}}
[info] >      at next (C:\Users\chris\projects\resourses\totem-tour\functions\node_modules\express\lib\router\route.js:149:13) {"user":"    at next (C:\\Users\\chris\\projects\\resourses\\totem-tour\\functions\\node_modules\\express\\lib\\router\\route.js:149:13)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (C:\\Users\\chris\\projects\\resourses\\totem-tour\\functions\\node_modules\\express\\lib\\router\\route.js:149:13)\r"}}
[info] >      at Route.dispatch (C:\Users\chris\projects\resourses\totem-tour\functions\node_modules\express\lib\router\route.js:119:3) { {"user":"    at Route.dispatch (C:\\Users\\chris\\projects\\resourses\\totem-tour\\functions\\node_modules\\express\\lib\\router\\route.js:119:3) {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (C:\\Users\\chris\\projects\\resourses\\totem-tour\\functions\\node_modules\\express\\lib\\router\\route.js:119:3) {\r"}}
[info] >    code: 9, {"user":"  code: 9,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 9,\r"}}
[info] >    details: 'The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/totem-tour/firestore/indexes?create_composite=ClBwcm9qZWN0cy90b3RlbS10b3VyL2RhdGFiYXNlcy8oZGVmYXVsdCkvY29sbGVjdGlvbkdyb3Vwcy9wdXJjaGFzZUl0ZW1zL2luZGV4ZXMvXxABGg4KCnB1cmNoYXNlSWQQARoICgRkYXRlEAEaDAoIX19uYW1lX18QAQ', {"user":"  details: 'The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/totem-tour/firestore/indexes?create_composite=ClBwcm9qZWN0cy90b3RlbS10b3VyL2RhdGFiYXNlcy8oZGVmYXVsdCkvY29sbGVjdGlvbkdyb3Vwcy9wdXJjaGFzZUl0ZW1zL2luZGV4ZXMvXxABGg4KCnB1cmNoYXNlSWQQARoICgRkYXRlEAEaDAoIX19uYW1lX18QAQ',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   details: 'The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/totem-tour/firestore/indexes?create_composite=ClBwcm9qZWN0cy90b3RlbS10b3VyL2RhdGFiYXNlcy8oZGVmYXVsdCkvY29sbGVjdGlvbkdyb3Vwcy9wdXJjaGFzZUl0ZW1zL2luZGV4ZXMvXxABGg4KCnB1cmNoYXNlSWQQARoICgRkYXRlEAEaDAoIX19uYW1lX18QAQ',\r"}}
[info] >    metadata: Metadata { {"user":"  metadata: Metadata {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   metadata: Metadata {\r"}}
[info] >      internalRepr: Map(1) { 'x-debug-tracking-id' => [ '9258773796615357035;o=1' ] }, {"user":"    internalRepr: Map(1) { 'x-debug-tracking-id' => [ '9258773796615357035;o=1' ] },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     internalRepr: Map(1) { 'x-debug-tracking-id' => [ '9258773796615357035;o=1' ] },\r"}}
[info] >      options: {} {"user":"    options: {}\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     options: {}\r"}}
[info] >    } {"user":"  }\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   }\r"}}
[info] >  } {"user":"}\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m }\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Node.js v20.10.0 {"user":"Node.js v20.10.0\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v20.10.0\r"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2024-10-18T11:41:06.222Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T11:41:06.224Z] [worker-us-central1-totem-3d5581e9-898d-4487-9c70-bb3bfbee604d]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-3d5581e9-898d-4487-9c70-bb3bfbee604d]: exited"}}
[debug] [2024-10-18T11:41:06.224Z] [worker-us-central1-totem-3d5581e9-898d-4487-9c70-bb3bfbee604d]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-3d5581e9-898d-4487-9c70-bb3bfbee604d]: FINISHED"}}
[debug] [2024-10-18T11:41:32.705Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/products-2024-10-18T11:41:32.705Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T11:41:32.705Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/products-2024-10-18T11:41:32.705Z"],"workRunningCount":1}
[debug] [2024-10-18T11:41:32.706Z] Accepted request GET /totem-tour/us-central1/totem/products --> us-central1-totem
[debug] [2024-10-18T11:41:32.709Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T11:41:32.709Z] [functions] Got req.url=/totem-tour/us-central1/totem/products, mapping to path=/products {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/products, mapping to path=/products"}}
[debug] [2024-10-18T11:41:32.709Z] [worker-pool] Cleaned up workers for us-central1-totem: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-totem: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-10-18T11:41:32.733Z] [worker-pool] addWorker(us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-totem)"}}
[debug] [2024-10-18T11:41:32.733Z] [worker-pool] Adding worker with key us-central1-totem, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-totem, total=1"}}
[debug] [2024-10-18T11:41:34.431Z] [runtime-status] [31568] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.5.0","resolution":"C:\\Users\\chris\\projects\\resourses\\totem-tour\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[runtime-status] [31568] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.5.0\",\"resolution\":\"C:\\\\Users\\\\chris\\\\projects\\\\resourses\\\\totem-tour\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2024-10-18T11:41:34.432Z] [runtime-status] [31568] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.1.1","resolution":"C:\\Users\\chris\\projects\\resourses\\totem-tour\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[runtime-status] [31568] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.1.1\",\"resolution\":\"C:\\\\Users\\\\chris\\\\projects\\\\resourses\\\\totem-tour\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-10-18T11:41:34.433Z] [runtime-status] [31568] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[runtime-status] [31568] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-10-18T11:41:34.433Z] [runtime-status] [31568] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.1.1","resolution":"C:\\Users\\chris\\projects\\resourses\\totem-tour\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[runtime-status] [31568] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.1.1\",\"resolution\":\"C:\\\\Users\\\\chris\\\\projects\\\\resourses\\\\totem-tour\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-10-18T11:41:34.730Z] [runtime-status] [31568] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[runtime-status] [31568] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-10-18T11:41:34.731Z] [runtime-status] [31568] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"5.1.1","resolution":"C:\\Users\\chris\\projects\\resourses\\totem-tour\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[runtime-status] [31568] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"5.1.1\",\"resolution\":\"C:\\\\Users\\\\chris\\\\projects\\\\resourses\\\\totem-tour\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2024-10-18T11:41:34.731Z] [runtime-status] [31568] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.1.1","resolution":"C:\\Users\\chris\\projects\\resourses\\totem-tour\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[runtime-status] [31568] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.1.1\",\"resolution\":\"C:\\\\Users\\\\chris\\\\projects\\\\resourses\\\\totem-tour\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-10-18T11:41:34.733Z] [runtime-status] [31568] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.5.0","resolution":"C:\\Users\\chris\\projects\\resourses\\totem-tour\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[runtime-status] [31568] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.5.0\",\"resolution\":\"C:\\\\Users\\\\chris\\\\projects\\\\resourses\\\\totem-tour\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2024-10-18T11:41:34.735Z] [runtime-status] [31568] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.1.1","resolution":"C:\\Users\\chris\\projects\\resourses\\totem-tour\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[runtime-status] [31568] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.1.1\",\"resolution\":\"C:\\\\Users\\\\chris\\\\projects\\\\resourses\\\\totem-tour\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-10-18T11:41:34.735Z] [runtime-status] [31568] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"12.5.0","resolution":"C:\\Users\\chris\\projects\\resourses\\totem-tour\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[runtime-status] [31568] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"12.5.0\",\"resolution\":\"C:\\\\Users\\\\chris\\\\projects\\\\resourses\\\\totem-tour\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[info] >  PRODUCTION false {"user":"PRODUCTION false","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m PRODUCTION false"}}
[info] >  MP-KEY APP_USR-5803744304383341-101217-a2eda4ca0653c5d7dd87b55c9836c834-2032016489 {"user":"MP-KEY APP_USR-5803744304383341-101217-a2eda4ca0653c5d7dd87b55c9836c834-2032016489","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m MP-KEY APP_USR-5803744304383341-101217-a2eda4ca0653c5d7dd87b55c9836c834-2032016489"}}
[debug] [2024-10-18T11:41:34.954Z] [runtime-status] [31568] Functions runtime initialized. {"cwd":"C:\\Users\\chris\\projects\\resourses\\totem-tour\\functions","node_version":"20.10.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[runtime-status] [31568] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\chris\\\\projects\\\\resourses\\\\totem-tour\\\\functions\",\"node_version\":\"20.10.0\"}"}}
[debug] [2024-10-18T11:41:34.955Z] [runtime-status] [31568] Listening to port: \\?\pipe\fire_emu_47fd9a8719bfe991 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[runtime-status] [31568] Listening to port: \\\\?\\pipe\\fire_emu_47fd9a8719bfe991"}}
[debug] [2024-10-18T11:41:34.995Z] [worker-us-central1-totem-54d27de1-ff98-4e82-a5dd-a1bca19d4051]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-54d27de1-ff98-4e82-a5dd-a1bca19d4051]: IDLE"}}
[debug] [2024-10-18T11:41:34.996Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T11:41:34.996Z] [worker-us-central1-totem-54d27de1-ff98-4e82-a5dd-a1bca19d4051]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-54d27de1-ff98-4e82-a5dd-a1bca19d4051]: BUSY"}}
[warn] !  Google API requested!
   - URL: "https://oauth2.googleapis.com/token"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Google API requested!\n   - URL: \"https://oauth2.googleapis.com/token\"\n   - Be careful, this may be a production service."}}
[debug] [2024-10-18T11:41:36.004Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 1008.3381ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 1008.3381ms"}}
[debug] [2024-10-18T11:41:36.007Z] [worker-us-central1-totem-54d27de1-ff98-4e82-a5dd-a1bca19d4051]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-54d27de1-ff98-4e82-a5dd-a1bca19d4051]: IDLE"}}
[debug] [2024-10-18T11:41:36.008Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T11:41:36.008Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T11:41:36.008Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T11:41:36.013Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/cities-2024-10-18T11:41:36.013Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T11:41:36.013Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/cities-2024-10-18T11:41:36.013Z"],"workRunningCount":1}
[debug] [2024-10-18T11:41:36.013Z] Accepted request GET /totem-tour/us-central1/totem/cities --> us-central1-totem
[debug] [2024-10-18T11:41:36.014Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T11:41:36.014Z] [functions] Got req.url=/totem-tour/us-central1/totem/cities, mapping to path=/cities {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/cities, mapping to path=/cities"}}
[debug] [2024-10-18T11:41:36.014Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T11:41:36.015Z] [worker-us-central1-totem-54d27de1-ff98-4e82-a5dd-a1bca19d4051]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-54d27de1-ff98-4e82-a5dd-a1bca19d4051]: BUSY"}}
[debug] [2024-10-18T11:41:36.073Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 59.1219ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 59.1219ms"}}
[debug] [2024-10-18T11:41:36.075Z] [worker-us-central1-totem-54d27de1-ff98-4e82-a5dd-a1bca19d4051]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-54d27de1-ff98-4e82-a5dd-a1bca19d4051]: IDLE"}}
[debug] [2024-10-18T11:41:36.075Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T11:41:36.075Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T11:41:36.075Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T11:43:51.493Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T11:43:51.493Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T11:43:51.494Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T11:43:51.493Z"],"workRunningCount":1}
[debug] [2024-10-18T11:43:51.494Z] Accepted request GET /totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T11:43:51.497Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T11:43:51.497Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T11:43:51.498Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T11:43:51.500Z] [worker-us-central1-totem-54d27de1-ff98-4e82-a5dd-a1bca19d4051]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-54d27de1-ff98-4e82-a5dd-a1bca19d4051]: BUSY"}}
[debug] [2024-10-18T11:43:51.617Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 117.4499ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 117.4499ms"}}
[debug] [2024-10-18T11:43:51.618Z] [worker-us-central1-totem-54d27de1-ff98-4e82-a5dd-a1bca19d4051]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-54d27de1-ff98-4e82-a5dd-a1bca19d4051]: IDLE"}}
[debug] [2024-10-18T11:43:51.618Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T11:43:51.618Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T11:43:51.618Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T11:43:51.623Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T11:43:51.622Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T11:43:51.623Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T11:43:51.622Z"],"workRunningCount":1}
[debug] [2024-10-18T11:43:51.623Z] Accepted request GET /totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T11:43:51.628Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T11:43:51.628Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T11:43:51.629Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T11:43:51.629Z] [worker-us-central1-totem-54d27de1-ff98-4e82-a5dd-a1bca19d4051]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-54d27de1-ff98-4e82-a5dd-a1bca19d4051]: BUSY"}}
[info] >  QuerySnapshot { {"user":"QuerySnapshot {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m QuerySnapshot {"}}
[info] >    _query: Query { {"user":"  _query: Query {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _query: Query {"}}
[info] >      _firestore: Firestore { {"user":"    _firestore: Firestore {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _firestore: Firestore {"}}
[info] >        _settings: [Object], {"user":"      _settings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settings: [Object],"}}
[info] >        _settingsFrozen: true, {"user":"      _settingsFrozen: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settingsFrozen: true,"}}
[info] >        _serializer: [Serializer], {"user":"      _serializer: [Serializer],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer],"}}
[info] >        _projectId: 'totem-tour', {"user":"      _projectId: 'totem-tour',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _projectId: 'totem-tour',"}}
[info] >        _databaseId: '(default)', {"user":"      _databaseId: '(default)',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _databaseId: '(default)',"}}
[info] >        registeredListenersCount: 0, {"user":"      registeredListenersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       registeredListenersCount: 0,"}}
[info] >        bulkWritersCount: 0, {"user":"      bulkWritersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       bulkWritersCount: 0,"}}
[info] >        _traceUtil: DisabledTraceUtil {}, {"user":"      _traceUtil: DisabledTraceUtil {},","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _traceUtil: DisabledTraceUtil {},"}}
[info] >        _backoffSettings: [Object], {"user":"      _backoffSettings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _backoffSettings: [Object],"}}
[info] >        _clientPool: [ClientPool], {"user":"      _clientPool: [ClientPool],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _clientPool: [ClientPool],"}}
[info] >        _gax: [Object] {"user":"      _gax: [Object]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _gax: [Object]"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _queryOptions: QueryOptions { {"user":"    _queryOptions: QueryOptions {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryOptions: QueryOptions {"}}
[info] >        parentPath: [ResourcePath], {"user":"      parentPath: [ResourcePath],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       parentPath: [ResourcePath],"}}
[info] >        collectionId: 'purchaseItems', {"user":"      collectionId: 'purchaseItems',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       collectionId: 'purchaseItems',"}}
[info] >        converter: [Object], {"user":"      converter: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       converter: [Object],"}}
[info] >        allDescendants: false, {"user":"      allDescendants: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allDescendants: false,"}}
[info] >        filters: [Array], {"user":"      filters: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       filters: [Array],"}}
[info] >        fieldOrders: [Array], {"user":"      fieldOrders: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       fieldOrders: [Array],"}}
[info] >        startAt: undefined, {"user":"      startAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       startAt: undefined,"}}
[info] >        endAt: undefined, {"user":"      endAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       endAt: undefined,"}}
[info] >        limit: undefined, {"user":"      limit: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limit: undefined,"}}
[info] >        limitType: undefined, {"user":"      limitType: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limitType: undefined,"}}
[info] >        offset: undefined, {"user":"      offset: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       offset: undefined,"}}
[info] >        projection: undefined, {"user":"      projection: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       projection: undefined,"}}
[info] >        kindless: false, {"user":"      kindless: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       kindless: false,"}}
[info] >        requireConsistency: true {"user":"      requireConsistency: true","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       requireConsistency: true"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _serializer: Serializer { {"user":"    _serializer: Serializer {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _serializer: Serializer {"}}
[info] >        createReference: [Function (anonymous)], {"user":"      createReference: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createReference: [Function (anonymous)],"}}
[info] >        createInteger: [Function (anonymous)], {"user":"      createInteger: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createInteger: [Function (anonymous)],"}}
[info] >        allowUndefined: false {"user":"      allowUndefined: false","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allowUndefined: false"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _allowUndefined: false, {"user":"    _allowUndefined: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _allowUndefined: false,"}}
[info] >      _queryUtil: QueryUtil { {"user":"    _queryUtil: QueryUtil {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryUtil: QueryUtil {"}}
[info] >        _firestore: [Firestore], {"user":"      _firestore: [Firestore],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _firestore: [Firestore],"}}
[info] >        _queryOptions: [QueryOptions], {"user":"      _queryOptions: [QueryOptions],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _queryOptions: [QueryOptions],"}}
[info] >        _serializer: [Serializer] {"user":"      _serializer: [Serializer]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer]"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    _readTime: Timestamp { _seconds: 1729251831, _nanoseconds: 262399000 }, {"user":"  _readTime: Timestamp { _seconds: 1729251831, _nanoseconds: 262399000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _readTime: Timestamp { _seconds: 1729251831, _nanoseconds: 262399000 },"}}
[info] >    _size: 1, {"user":"  _size: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _size: 1,"}}
[info] >    _materializedDocs: null, {"user":"  _materializedDocs: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedDocs: null,"}}
[info] >    _materializedChanges: null, {"user":"  _materializedChanges: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedChanges: null,"}}
[info] >    _docs: [Function (anonymous)], {"user":"  _docs: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _docs: [Function (anonymous)],"}}
[info] >    _changes: [Function (anonymous)] {"user":"  _changes: [Function (anonymous)]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _changes: [Function (anonymous)]"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2024-10-18T11:43:51.714Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 84.7195ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 84.7195ms"}}
[debug] [2024-10-18T11:43:51.715Z] [worker-us-central1-totem-54d27de1-ff98-4e82-a5dd-a1bca19d4051]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-54d27de1-ff98-4e82-a5dd-a1bca19d4051]: IDLE"}}
[debug] [2024-10-18T11:43:51.716Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T11:43:51.716Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T11:43:51.716Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] >  [ {"user":"[","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ["}}
[info] >    { {"user":"  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   {"}}
[info] >      id: 'AIxFbug16kvF6PQU0ybK', {"user":"    id: 'AIxFbug16kvF6PQU0ybK',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     id: 'AIxFbug16kvF6PQU0ybK',"}}
[info] >      productId: '2PHnd6lM4TG6lP6Y5fOc', {"user":"    productId: '2PHnd6lM4TG6lP6Y5fOc',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     productId: '2PHnd6lM4TG6lP6Y5fOc',"}}
[info] >      qty: 1, {"user":"    qty: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     qty: 1,"}}
[info] >      netPrice: 1, {"user":"    netPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     netPrice: 1,"}}
[info] >      partnerComm: 1, {"user":"    partnerComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     partnerComm: 1,"}}
[info] >      companyComm: 1, {"user":"    companyComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     companyComm: 1,"}}
[info] >      pricePerPerson: 1, {"user":"    pricePerPerson: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     pricePerPerson: 1,"}}
[info] >      minTotalPrice: 1, {"user":"    minTotalPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     minTotalPrice: 1,"}}
[info] >      totalPrice: 3, {"user":"    totalPrice: 3,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totalPrice: 3,"}}
[info] >      date: '2024-10-18', {"user":"    date: '2024-10-18',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: '2024-10-18',"}}
[info] >      cityId: 'OiCHcy7zKcp2uU3zlMPU', {"user":"    cityId: 'OiCHcy7zKcp2uU3zlMPU',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     cityId: 'OiCHcy7zKcp2uU3zlMPU',"}}
[info] >      totemId: '1LoQvuu4KzHC1ux7qfOR', {"user":"    totemId: '1LoQvuu4KzHC1ux7qfOR',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totemId: '1LoQvuu4KzHC1ux7qfOR',"}}
[info] >      purchaseId: 'zuDSRe9m9p2oU9O4Kz1o', {"user":"    purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',"}}
[info] >      customerId: 'rMuIfSk9AarUm73FZVtC', {"user":"    customerId: 'rMuIfSk9AarUm73FZVtC',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     customerId: 'rMuIfSk9AarUm73FZVtC',"}}
[info] >      timestamp: 1729177549038 {"user":"    timestamp: 1729177549038","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     timestamp: 1729177549038"}}
[info] >    } {"user":"  }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   }"}}
[info] >  ] {"user":"]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ]"}}
[debug] [2024-10-18T11:44:17.269Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T11:44:17.268Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T11:44:17.269Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T11:44:17.268Z"],"workRunningCount":1}
[debug] [2024-10-18T11:44:17.269Z] Accepted request GET /totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T11:44:17.275Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T11:44:17.275Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T11:44:17.275Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T11:44:17.276Z] [worker-us-central1-totem-54d27de1-ff98-4e82-a5dd-a1bca19d4051]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-54d27de1-ff98-4e82-a5dd-a1bca19d4051]: BUSY"}}
[debug] [2024-10-18T11:44:17.320Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 44.3181ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 44.3181ms"}}
[debug] [2024-10-18T11:44:17.321Z] [worker-us-central1-totem-54d27de1-ff98-4e82-a5dd-a1bca19d4051]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-54d27de1-ff98-4e82-a5dd-a1bca19d4051]: IDLE"}}
[debug] [2024-10-18T11:44:17.321Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T11:44:17.322Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T11:44:17.322Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T11:44:17.327Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T11:44:17.327Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T11:44:17.327Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T11:44:17.327Z"],"workRunningCount":1}
[debug] [2024-10-18T11:44:17.328Z] Accepted request GET /totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T11:44:17.330Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T11:44:17.330Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T11:44:17.330Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T11:44:17.331Z] [worker-us-central1-totem-54d27de1-ff98-4e82-a5dd-a1bca19d4051]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-54d27de1-ff98-4e82-a5dd-a1bca19d4051]: BUSY"}}
[info] >  QuerySnapshot { {"user":"QuerySnapshot {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m QuerySnapshot {"}}
[info] >    _query: Query { {"user":"  _query: Query {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _query: Query {"}}
[info] >      _firestore: Firestore { {"user":"    _firestore: Firestore {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _firestore: Firestore {"}}
[info] >        _settings: [Object], {"user":"      _settings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settings: [Object],"}}
[info] >        _settingsFrozen: true, {"user":"      _settingsFrozen: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settingsFrozen: true,"}}
[info] >        _serializer: [Serializer], {"user":"      _serializer: [Serializer],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer],"}}
[info] >        _projectId: 'totem-tour', {"user":"      _projectId: 'totem-tour',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _projectId: 'totem-tour',"}}
[info] >        _databaseId: '(default)', {"user":"      _databaseId: '(default)',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _databaseId: '(default)',"}}
[info] >        registeredListenersCount: 0, {"user":"      registeredListenersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       registeredListenersCount: 0,"}}
[info] >        bulkWritersCount: 0, {"user":"      bulkWritersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       bulkWritersCount: 0,"}}
[info] >        _traceUtil: DisabledTraceUtil {}, {"user":"      _traceUtil: DisabledTraceUtil {},","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _traceUtil: DisabledTraceUtil {},"}}
[info] >        _backoffSettings: [Object], {"user":"      _backoffSettings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _backoffSettings: [Object],"}}
[info] >        _clientPool: [ClientPool], {"user":"      _clientPool: [ClientPool],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _clientPool: [ClientPool],"}}
[info] >        _gax: [Object] {"user":"      _gax: [Object]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _gax: [Object]"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _queryOptions: QueryOptions { {"user":"    _queryOptions: QueryOptions {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryOptions: QueryOptions {"}}
[info] >        parentPath: [ResourcePath], {"user":"      parentPath: [ResourcePath],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       parentPath: [ResourcePath],"}}
[info] >        collectionId: 'purchaseItems', {"user":"      collectionId: 'purchaseItems',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       collectionId: 'purchaseItems',"}}
[info] >        converter: [Object], {"user":"      converter: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       converter: [Object],"}}
[info] >        allDescendants: false, {"user":"      allDescendants: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allDescendants: false,"}}
[info] >        filters: [Array], {"user":"      filters: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       filters: [Array],"}}
[info] >        fieldOrders: [Array], {"user":"      fieldOrders: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       fieldOrders: [Array],"}}
[info] >        startAt: undefined, {"user":"      startAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       startAt: undefined,"}}
[info] >        endAt: undefined, {"user":"      endAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       endAt: undefined,"}}
[info] >        limit: undefined, {"user":"      limit: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limit: undefined,"}}
[info] >        limitType: undefined, {"user":"      limitType: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limitType: undefined,"}}
[info] >        offset: undefined, {"user":"      offset: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       offset: undefined,"}}
[info] >        projection: undefined, {"user":"      projection: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       projection: undefined,"}}
[info] >        kindless: false, {"user":"      kindless: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       kindless: false,"}}
[info] >        requireConsistency: true {"user":"      requireConsistency: true","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       requireConsistency: true"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _serializer: Serializer { {"user":"    _serializer: Serializer {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _serializer: Serializer {"}}
[info] >        createReference: [Function (anonymous)], {"user":"      createReference: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createReference: [Function (anonymous)],"}}
[info] >        createInteger: [Function (anonymous)], {"user":"      createInteger: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createInteger: [Function (anonymous)],"}}
[info] >        allowUndefined: false {"user":"      allowUndefined: false","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allowUndefined: false"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _allowUndefined: false, {"user":"    _allowUndefined: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _allowUndefined: false,"}}
[info] >      _queryUtil: QueryUtil { {"user":"    _queryUtil: QueryUtil {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryUtil: QueryUtil {"}}
[info] >        _firestore: [Firestore], {"user":"      _firestore: [Firestore],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _firestore: [Firestore],"}}
[info] >        _queryOptions: [QueryOptions], {"user":"      _queryOptions: [QueryOptions],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _queryOptions: [QueryOptions],"}}
[info] >        _serializer: [Serializer] {"user":"      _serializer: [Serializer]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer]"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    _readTime: Timestamp { _seconds: 1729251856, _nanoseconds: 952897000 }, {"user":"  _readTime: Timestamp { _seconds: 1729251856, _nanoseconds: 952897000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _readTime: Timestamp { _seconds: 1729251856, _nanoseconds: 952897000 },"}}
[info] >    _size: 1, {"user":"  _size: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _size: 1,"}}
[info] >    _materializedDocs: null, {"user":"  _materializedDocs: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedDocs: null,"}}
[info] >    _materializedChanges: null, {"user":"  _materializedChanges: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedChanges: null,"}}
[info] >    _docs: [Function (anonymous)], {"user":"  _docs: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _docs: [Function (anonymous)],"}}
[info] >    _changes: [Function (anonymous)] {"user":"  _changes: [Function (anonymous)]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _changes: [Function (anonymous)]"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2024-10-18T11:44:17.402Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 71.0601ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 71.0601ms"}}
[debug] [2024-10-18T11:44:17.402Z] [worker-us-central1-totem-54d27de1-ff98-4e82-a5dd-a1bca19d4051]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-54d27de1-ff98-4e82-a5dd-a1bca19d4051]: IDLE"}}
[debug] [2024-10-18T11:44:17.403Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T11:44:17.403Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T11:44:17.403Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] >  [ {"user":"[","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ["}}
[info] >    { {"user":"  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   {"}}
[info] >      id: 'AIxFbug16kvF6PQU0ybK', {"user":"    id: 'AIxFbug16kvF6PQU0ybK',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     id: 'AIxFbug16kvF6PQU0ybK',"}}
[info] >      productId: '2PHnd6lM4TG6lP6Y5fOc', {"user":"    productId: '2PHnd6lM4TG6lP6Y5fOc',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     productId: '2PHnd6lM4TG6lP6Y5fOc',"}}
[info] >      qty: 1, {"user":"    qty: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     qty: 1,"}}
[info] >      netPrice: 1, {"user":"    netPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     netPrice: 1,"}}
[info] >      partnerComm: 1, {"user":"    partnerComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     partnerComm: 1,"}}
[info] >      companyComm: 1, {"user":"    companyComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     companyComm: 1,"}}
[info] >      pricePerPerson: 1, {"user":"    pricePerPerson: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     pricePerPerson: 1,"}}
[info] >      minTotalPrice: 1, {"user":"    minTotalPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     minTotalPrice: 1,"}}
[info] >      totalPrice: 3, {"user":"    totalPrice: 3,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totalPrice: 3,"}}
[info] >      date: '2024-10-18', {"user":"    date: '2024-10-18',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: '2024-10-18',"}}
[info] >      cityId: 'OiCHcy7zKcp2uU3zlMPU', {"user":"    cityId: 'OiCHcy7zKcp2uU3zlMPU',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     cityId: 'OiCHcy7zKcp2uU3zlMPU',"}}
[info] >      totemId: '1LoQvuu4KzHC1ux7qfOR', {"user":"    totemId: '1LoQvuu4KzHC1ux7qfOR',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totemId: '1LoQvuu4KzHC1ux7qfOR',"}}
[info] >      purchaseId: 'zuDSRe9m9p2oU9O4Kz1o', {"user":"    purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',"}}
[info] >      customerId: 'rMuIfSk9AarUm73FZVtC', {"user":"    customerId: 'rMuIfSk9AarUm73FZVtC',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     customerId: 'rMuIfSk9AarUm73FZVtC',"}}
[info] >      timestamp: 1729177549038 {"user":"    timestamp: 1729177549038","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     timestamp: 1729177549038"}}
[info] >    } {"user":"  }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   }"}}
[info] >  ] {"user":"]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ]"}}
[debug] [2024-10-18T11:44:20.255Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T11:44:20.255Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T11:44:20.255Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T11:44:20.255Z"],"workRunningCount":1}
[debug] [2024-10-18T11:44:20.255Z] Accepted request GET /totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T11:44:20.256Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T11:44:20.256Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T11:44:20.256Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T11:44:20.257Z] [worker-us-central1-totem-54d27de1-ff98-4e82-a5dd-a1bca19d4051]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-54d27de1-ff98-4e82-a5dd-a1bca19d4051]: BUSY"}}
[debug] [2024-10-18T11:44:20.310Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 52.7583ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 52.7583ms"}}
[debug] [2024-10-18T11:44:20.311Z] [worker-us-central1-totem-54d27de1-ff98-4e82-a5dd-a1bca19d4051]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-54d27de1-ff98-4e82-a5dd-a1bca19d4051]: IDLE"}}
[debug] [2024-10-18T11:44:20.311Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T11:44:20.311Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T11:44:20.312Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T11:44:20.316Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T11:44:20.316Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T11:44:20.316Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T11:44:20.316Z"],"workRunningCount":1}
[debug] [2024-10-18T11:44:20.316Z] Accepted request GET /totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T11:44:20.317Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T11:44:20.318Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T11:44:20.318Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T11:44:20.319Z] [worker-us-central1-totem-54d27de1-ff98-4e82-a5dd-a1bca19d4051]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-54d27de1-ff98-4e82-a5dd-a1bca19d4051]: BUSY"}}
[info] >  QuerySnapshot { {"user":"QuerySnapshot {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m QuerySnapshot {"}}
[info] >    _query: Query { {"user":"  _query: Query {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _query: Query {"}}
[info] >      _firestore: Firestore { {"user":"    _firestore: Firestore {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _firestore: Firestore {"}}
[info] >        _settings: [Object], {"user":"      _settings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settings: [Object],"}}
[info] >        _settingsFrozen: true, {"user":"      _settingsFrozen: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settingsFrozen: true,"}}
[info] >        _serializer: [Serializer], {"user":"      _serializer: [Serializer],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer],"}}
[info] >        _projectId: 'totem-tour', {"user":"      _projectId: 'totem-tour',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _projectId: 'totem-tour',"}}
[info] >        _databaseId: '(default)', {"user":"      _databaseId: '(default)',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _databaseId: '(default)',"}}
[info] >        registeredListenersCount: 0, {"user":"      registeredListenersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       registeredListenersCount: 0,"}}
[info] >        bulkWritersCount: 0, {"user":"      bulkWritersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       bulkWritersCount: 0,"}}
[info] >        _traceUtil: DisabledTraceUtil {}, {"user":"      _traceUtil: DisabledTraceUtil {},","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _traceUtil: DisabledTraceUtil {},"}}
[info] >        _backoffSettings: [Object], {"user":"      _backoffSettings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _backoffSettings: [Object],"}}
[info] >        _clientPool: [ClientPool], {"user":"      _clientPool: [ClientPool],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _clientPool: [ClientPool],"}}
[info] >        _gax: [Object] {"user":"      _gax: [Object]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _gax: [Object]"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _queryOptions: QueryOptions { {"user":"    _queryOptions: QueryOptions {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryOptions: QueryOptions {"}}
[info] >        parentPath: [ResourcePath], {"user":"      parentPath: [ResourcePath],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       parentPath: [ResourcePath],"}}
[info] >        collectionId: 'purchaseItems', {"user":"      collectionId: 'purchaseItems',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       collectionId: 'purchaseItems',"}}
[info] >        converter: [Object], {"user":"      converter: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       converter: [Object],"}}
[info] >        allDescendants: false, {"user":"      allDescendants: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allDescendants: false,"}}
[info] >        filters: [Array], {"user":"      filters: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       filters: [Array],"}}
[info] >        fieldOrders: [Array], {"user":"      fieldOrders: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       fieldOrders: [Array],"}}
[info] >        startAt: undefined, {"user":"      startAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       startAt: undefined,"}}
[info] >        endAt: undefined, {"user":"      endAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       endAt: undefined,"}}
[info] >        limit: undefined, {"user":"      limit: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limit: undefined,"}}
[info] >        limitType: undefined, {"user":"      limitType: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limitType: undefined,"}}
[info] >        offset: undefined, {"user":"      offset: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       offset: undefined,"}}
[info] >        projection: undefined, {"user":"      projection: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       projection: undefined,"}}
[info] >        kindless: false, {"user":"      kindless: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       kindless: false,"}}
[info] >        requireConsistency: true {"user":"      requireConsistency: true","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       requireConsistency: true"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _serializer: Serializer { {"user":"    _serializer: Serializer {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _serializer: Serializer {"}}
[info] >        createReference: [Function (anonymous)], {"user":"      createReference: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createReference: [Function (anonymous)],"}}
[info] >        createInteger: [Function (anonymous)], {"user":"      createInteger: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createInteger: [Function (anonymous)],"}}
[info] >        allowUndefined: false {"user":"      allowUndefined: false","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allowUndefined: false"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _allowUndefined: false, {"user":"    _allowUndefined: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _allowUndefined: false,"}}
[info] >      _queryUtil: QueryUtil { {"user":"    _queryUtil: QueryUtil {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryUtil: QueryUtil {"}}
[info] >        _firestore: [Firestore], {"user":"      _firestore: [Firestore],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _firestore: [Firestore],"}}
[info] >        _queryOptions: [QueryOptions], {"user":"      _queryOptions: [QueryOptions],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _queryOptions: [QueryOptions],"}}
[info] >        _serializer: [Serializer] {"user":"      _serializer: [Serializer]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer]"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    _readTime: Timestamp { _seconds: 1729251859, _nanoseconds: 956055000 }, {"user":"  _readTime: Timestamp { _seconds: 1729251859, _nanoseconds: 956055000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _readTime: Timestamp { _seconds: 1729251859, _nanoseconds: 956055000 },"}}
[info] >    _size: 1, {"user":"  _size: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _size: 1,"}}
[info] >    _materializedDocs: null, {"user":"  _materializedDocs: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedDocs: null,"}}
[info] >    _materializedChanges: null, {"user":"  _materializedChanges: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedChanges: null,"}}
[info] >    _docs: [Function (anonymous)], {"user":"  _docs: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _docs: [Function (anonymous)],"}}
[info] >    _changes: [Function (anonymous)] {"user":"  _changes: [Function (anonymous)]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _changes: [Function (anonymous)]"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2024-10-18T11:44:20.403Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 84.7156ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 84.7156ms"}}
[debug] [2024-10-18T11:44:20.404Z] [worker-us-central1-totem-54d27de1-ff98-4e82-a5dd-a1bca19d4051]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-54d27de1-ff98-4e82-a5dd-a1bca19d4051]: IDLE"}}
[debug] [2024-10-18T11:44:20.404Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T11:44:20.405Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T11:44:20.405Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] >  [ {"user":"[","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ["}}
[info] >    { {"user":"  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   {"}}
[info] >      id: 'AIxFbug16kvF6PQU0ybK', {"user":"    id: 'AIxFbug16kvF6PQU0ybK',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     id: 'AIxFbug16kvF6PQU0ybK',"}}
[info] >      productId: '2PHnd6lM4TG6lP6Y5fOc', {"user":"    productId: '2PHnd6lM4TG6lP6Y5fOc',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     productId: '2PHnd6lM4TG6lP6Y5fOc',"}}
[info] >      qty: 1, {"user":"    qty: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     qty: 1,"}}
[info] >      netPrice: 1, {"user":"    netPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     netPrice: 1,"}}
[info] >      partnerComm: 1, {"user":"    partnerComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     partnerComm: 1,"}}
[info] >      companyComm: 1, {"user":"    companyComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     companyComm: 1,"}}
[info] >      pricePerPerson: 1, {"user":"    pricePerPerson: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     pricePerPerson: 1,"}}
[info] >      minTotalPrice: 1, {"user":"    minTotalPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     minTotalPrice: 1,"}}
[info] >      totalPrice: 3, {"user":"    totalPrice: 3,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totalPrice: 3,"}}
[info] >      date: '2024-10-18', {"user":"    date: '2024-10-18',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: '2024-10-18',"}}
[info] >      cityId: 'OiCHcy7zKcp2uU3zlMPU', {"user":"    cityId: 'OiCHcy7zKcp2uU3zlMPU',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     cityId: 'OiCHcy7zKcp2uU3zlMPU',"}}
[info] >      totemId: '1LoQvuu4KzHC1ux7qfOR', {"user":"    totemId: '1LoQvuu4KzHC1ux7qfOR',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totemId: '1LoQvuu4KzHC1ux7qfOR',"}}
[info] >      purchaseId: 'zuDSRe9m9p2oU9O4Kz1o', {"user":"    purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',"}}
[info] >      customerId: 'rMuIfSk9AarUm73FZVtC', {"user":"    customerId: 'rMuIfSk9AarUm73FZVtC',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     customerId: 'rMuIfSk9AarUm73FZVtC',"}}
[info] >      timestamp: 1729177549038 {"user":"    timestamp: 1729177549038","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     timestamp: 1729177549038"}}
[info] >    } {"user":"  }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   }"}}
[info] >  ] {"user":"]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ]"}}
[debug] [2024-10-18T11:44:21.263Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T11:44:21.263Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T11:44:21.264Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T11:44:21.263Z"],"workRunningCount":1}
[debug] [2024-10-18T11:44:21.265Z] Accepted request GET /totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T11:44:21.268Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T11:44:21.269Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T11:44:21.270Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T11:44:21.273Z] [worker-us-central1-totem-54d27de1-ff98-4e82-a5dd-a1bca19d4051]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-54d27de1-ff98-4e82-a5dd-a1bca19d4051]: BUSY"}}
[debug] [2024-10-18T11:44:21.327Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 54.2042ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 54.2042ms"}}
[debug] [2024-10-18T11:44:21.327Z] [worker-us-central1-totem-54d27de1-ff98-4e82-a5dd-a1bca19d4051]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-54d27de1-ff98-4e82-a5dd-a1bca19d4051]: IDLE"}}
[debug] [2024-10-18T11:44:21.328Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T11:44:21.328Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T11:44:21.328Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T11:44:21.332Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T11:44:21.332Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T11:44:21.332Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T11:44:21.332Z"],"workRunningCount":1}
[debug] [2024-10-18T11:44:21.332Z] Accepted request GET /totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T11:44:21.333Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T11:44:21.333Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T11:44:21.333Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T11:44:21.334Z] [worker-us-central1-totem-54d27de1-ff98-4e82-a5dd-a1bca19d4051]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-54d27de1-ff98-4e82-a5dd-a1bca19d4051]: BUSY"}}
[info] >  QuerySnapshot { {"user":"QuerySnapshot {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m QuerySnapshot {"}}
[info] >    _query: Query { {"user":"  _query: Query {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _query: Query {"}}
[info] >      _firestore: Firestore { {"user":"    _firestore: Firestore {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _firestore: Firestore {"}}
[info] >        _settings: [Object], {"user":"      _settings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settings: [Object],"}}
[info] >        _settingsFrozen: true, {"user":"      _settingsFrozen: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settingsFrozen: true,"}}
[info] >        _serializer: [Serializer], {"user":"      _serializer: [Serializer],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer],"}}
[info] >        _projectId: 'totem-tour', {"user":"      _projectId: 'totem-tour',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _projectId: 'totem-tour',"}}
[info] >        _databaseId: '(default)', {"user":"      _databaseId: '(default)',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _databaseId: '(default)',"}}
[info] >        registeredListenersCount: 0, {"user":"      registeredListenersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       registeredListenersCount: 0,"}}
[info] >        bulkWritersCount: 0, {"user":"      bulkWritersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       bulkWritersCount: 0,"}}
[info] >        _traceUtil: DisabledTraceUtil {}, {"user":"      _traceUtil: DisabledTraceUtil {},","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _traceUtil: DisabledTraceUtil {},"}}
[info] >        _backoffSettings: [Object], {"user":"      _backoffSettings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _backoffSettings: [Object],"}}
[info] >        _clientPool: [ClientPool], {"user":"      _clientPool: [ClientPool],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _clientPool: [ClientPool],"}}
[info] >        _gax: [Object] {"user":"      _gax: [Object]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _gax: [Object]"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _queryOptions: QueryOptions { {"user":"    _queryOptions: QueryOptions {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryOptions: QueryOptions {"}}
[info] >        parentPath: [ResourcePath], {"user":"      parentPath: [ResourcePath],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       parentPath: [ResourcePath],"}}
[info] >        collectionId: 'purchaseItems', {"user":"      collectionId: 'purchaseItems',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       collectionId: 'purchaseItems',"}}
[info] >        converter: [Object], {"user":"      converter: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       converter: [Object],"}}
[info] >        allDescendants: false, {"user":"      allDescendants: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allDescendants: false,"}}
[info] >        filters: [Array], {"user":"      filters: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       filters: [Array],"}}
[info] >        fieldOrders: [Array], {"user":"      fieldOrders: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       fieldOrders: [Array],"}}
[info] >        startAt: undefined, {"user":"      startAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       startAt: undefined,"}}
[info] >        endAt: undefined, {"user":"      endAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       endAt: undefined,"}}
[info] >        limit: undefined, {"user":"      limit: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limit: undefined,"}}
[info] >        limitType: undefined, {"user":"      limitType: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limitType: undefined,"}}
[info] >        offset: undefined, {"user":"      offset: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       offset: undefined,"}}
[info] >        projection: undefined, {"user":"      projection: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       projection: undefined,"}}
[info] >        kindless: false, {"user":"      kindless: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       kindless: false,"}}
[info] >        requireConsistency: true {"user":"      requireConsistency: true","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       requireConsistency: true"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _serializer: Serializer { {"user":"    _serializer: Serializer {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _serializer: Serializer {"}}
[info] >        createReference: [Function (anonymous)], {"user":"      createReference: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createReference: [Function (anonymous)],"}}
[info] >        createInteger: [Function (anonymous)], {"user":"      createInteger: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createInteger: [Function (anonymous)],"}}
[info] >        allowUndefined: false {"user":"      allowUndefined: false","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allowUndefined: false"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _allowUndefined: false, {"user":"    _allowUndefined: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _allowUndefined: false,"}}
[info] >      _queryUtil: QueryUtil { {"user":"    _queryUtil: QueryUtil {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryUtil: QueryUtil {"}}
[info] >        _firestore: [Firestore], {"user":"      _firestore: [Firestore],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _firestore: [Firestore],"}}
[info] >        _queryOptions: [QueryOptions], {"user":"      _queryOptions: [QueryOptions],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _queryOptions: [QueryOptions],"}}
[info] >        _serializer: [Serializer] {"user":"      _serializer: [Serializer]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer]"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    _readTime: Timestamp { _seconds: 1729251860, _nanoseconds: 957792000 }, {"user":"  _readTime: Timestamp { _seconds: 1729251860, _nanoseconds: 957792000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _readTime: Timestamp { _seconds: 1729251860, _nanoseconds: 957792000 },"}}
[info] >    _size: 1, {"user":"  _size: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _size: 1,"}}
[info] >    _materializedDocs: null, {"user":"  _materializedDocs: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedDocs: null,"}}
[info] >    _materializedChanges: null, {"user":"  _materializedChanges: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedChanges: null,"}}
[info] >    _docs: [Function (anonymous)], {"user":"  _docs: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _docs: [Function (anonymous)],"}}
[info] >    _changes: [Function (anonymous)] {"user":"  _changes: [Function (anonymous)]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _changes: [Function (anonymous)]"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2024-10-18T11:44:21.402Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 68.296ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 68.296ms"}}
[debug] [2024-10-18T11:44:21.403Z] [worker-us-central1-totem-54d27de1-ff98-4e82-a5dd-a1bca19d4051]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-54d27de1-ff98-4e82-a5dd-a1bca19d4051]: IDLE"}}
[debug] [2024-10-18T11:44:21.403Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T11:44:21.403Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T11:44:21.403Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] >  [ {"user":"[","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ["}}
[info] >    { {"user":"  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   {"}}
[info] >      id: 'AIxFbug16kvF6PQU0ybK', {"user":"    id: 'AIxFbug16kvF6PQU0ybK',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     id: 'AIxFbug16kvF6PQU0ybK',"}}
[info] >      productId: '2PHnd6lM4TG6lP6Y5fOc', {"user":"    productId: '2PHnd6lM4TG6lP6Y5fOc',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     productId: '2PHnd6lM4TG6lP6Y5fOc',"}}
[info] >      qty: 1, {"user":"    qty: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     qty: 1,"}}
[info] >      netPrice: 1, {"user":"    netPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     netPrice: 1,"}}
[info] >      partnerComm: 1, {"user":"    partnerComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     partnerComm: 1,"}}
[info] >      companyComm: 1, {"user":"    companyComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     companyComm: 1,"}}
[info] >      pricePerPerson: 1, {"user":"    pricePerPerson: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     pricePerPerson: 1,"}}
[info] >      minTotalPrice: 1, {"user":"    minTotalPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     minTotalPrice: 1,"}}
[info] >      totalPrice: 3, {"user":"    totalPrice: 3,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totalPrice: 3,"}}
[info] >      date: '2024-10-18', {"user":"    date: '2024-10-18',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: '2024-10-18',"}}
[info] >      cityId: 'OiCHcy7zKcp2uU3zlMPU', {"user":"    cityId: 'OiCHcy7zKcp2uU3zlMPU',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     cityId: 'OiCHcy7zKcp2uU3zlMPU',"}}
[info] >      totemId: '1LoQvuu4KzHC1ux7qfOR', {"user":"    totemId: '1LoQvuu4KzHC1ux7qfOR',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totemId: '1LoQvuu4KzHC1ux7qfOR',"}}
[info] >      purchaseId: 'zuDSRe9m9p2oU9O4Kz1o', {"user":"    purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',"}}
[info] >      customerId: 'rMuIfSk9AarUm73FZVtC', {"user":"    customerId: 'rMuIfSk9AarUm73FZVtC',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     customerId: 'rMuIfSk9AarUm73FZVtC',"}}
[info] >      timestamp: 1729177549038 {"user":"    timestamp: 1729177549038","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     timestamp: 1729177549038"}}
[info] >    } {"user":"  }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   }"}}
[info] >  ] {"user":"]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ]"}}
[debug] [2024-10-18T11:44:25.275Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T11:44:25.275Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T11:44:25.276Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T11:44:25.275Z"],"workRunningCount":1}
[debug] [2024-10-18T11:44:25.276Z] Accepted request GET /totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T11:44:25.278Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T11:44:25.279Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T11:44:25.279Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T11:44:25.281Z] [worker-us-central1-totem-54d27de1-ff98-4e82-a5dd-a1bca19d4051]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-54d27de1-ff98-4e82-a5dd-a1bca19d4051]: BUSY"}}
[debug] [2024-10-18T11:44:25.328Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 46.8672ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 46.8672ms"}}
[debug] [2024-10-18T11:44:25.329Z] [worker-us-central1-totem-54d27de1-ff98-4e82-a5dd-a1bca19d4051]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-54d27de1-ff98-4e82-a5dd-a1bca19d4051]: IDLE"}}
[debug] [2024-10-18T11:44:25.330Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T11:44:25.330Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T11:44:25.330Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T11:44:25.335Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T11:44:25.335Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T11:44:25.336Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T11:44:25.335Z"],"workRunningCount":1}
[debug] [2024-10-18T11:44:25.336Z] Accepted request GET /totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T11:44:25.338Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T11:44:25.338Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T11:44:25.338Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T11:44:25.340Z] [worker-us-central1-totem-54d27de1-ff98-4e82-a5dd-a1bca19d4051]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-54d27de1-ff98-4e82-a5dd-a1bca19d4051]: BUSY"}}
[info] >  QuerySnapshot { {"user":"QuerySnapshot {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m QuerySnapshot {"}}
[info] >    _query: Query { {"user":"  _query: Query {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _query: Query {"}}
[info] >      _firestore: Firestore { {"user":"    _firestore: Firestore {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _firestore: Firestore {"}}
[info] >        _settings: [Object], {"user":"      _settings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settings: [Object],"}}
[info] >        _settingsFrozen: true, {"user":"      _settingsFrozen: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settingsFrozen: true,"}}
[info] >        _serializer: [Serializer], {"user":"      _serializer: [Serializer],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer],"}}
[info] >        _projectId: 'totem-tour', {"user":"      _projectId: 'totem-tour',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _projectId: 'totem-tour',"}}
[info] >        _databaseId: '(default)', {"user":"      _databaseId: '(default)',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _databaseId: '(default)',"}}
[info] >        registeredListenersCount: 0, {"user":"      registeredListenersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       registeredListenersCount: 0,"}}
[info] >        bulkWritersCount: 0, {"user":"      bulkWritersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       bulkWritersCount: 0,"}}
[info] >        _traceUtil: DisabledTraceUtil {}, {"user":"      _traceUtil: DisabledTraceUtil {},","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _traceUtil: DisabledTraceUtil {},"}}
[info] >        _backoffSettings: [Object], {"user":"      _backoffSettings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _backoffSettings: [Object],"}}
[info] >        _clientPool: [ClientPool], {"user":"      _clientPool: [ClientPool],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _clientPool: [ClientPool],"}}
[info] >        _gax: [Object] {"user":"      _gax: [Object]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _gax: [Object]"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _queryOptions: QueryOptions { {"user":"    _queryOptions: QueryOptions {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryOptions: QueryOptions {"}}
[info] >        parentPath: [ResourcePath], {"user":"      parentPath: [ResourcePath],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       parentPath: [ResourcePath],"}}
[info] >        collectionId: 'purchaseItems', {"user":"      collectionId: 'purchaseItems',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       collectionId: 'purchaseItems',"}}
[info] >        converter: [Object], {"user":"      converter: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       converter: [Object],"}}
[info] >        allDescendants: false, {"user":"      allDescendants: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allDescendants: false,"}}
[info] >        filters: [Array], {"user":"      filters: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       filters: [Array],"}}
[info] >        fieldOrders: [Array], {"user":"      fieldOrders: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       fieldOrders: [Array],"}}
[info] >        startAt: undefined, {"user":"      startAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       startAt: undefined,"}}
[info] >        endAt: undefined, {"user":"      endAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       endAt: undefined,"}}
[info] >        limit: undefined, {"user":"      limit: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limit: undefined,"}}
[info] >        limitType: undefined, {"user":"      limitType: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limitType: undefined,"}}
[info] >        offset: undefined, {"user":"      offset: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       offset: undefined,"}}
[info] >        projection: undefined, {"user":"      projection: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       projection: undefined,"}}
[info] >        kindless: false, {"user":"      kindless: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       kindless: false,"}}
[info] >        requireConsistency: true {"user":"      requireConsistency: true","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       requireConsistency: true"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _serializer: Serializer { {"user":"    _serializer: Serializer {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _serializer: Serializer {"}}
[info] >        createReference: [Function (anonymous)], {"user":"      createReference: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createReference: [Function (anonymous)],"}}
[info] >        createInteger: [Function (anonymous)], {"user":"      createInteger: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createInteger: [Function (anonymous)],"}}
[info] >        allowUndefined: false {"user":"      allowUndefined: false","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allowUndefined: false"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _allowUndefined: false, {"user":"    _allowUndefined: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _allowUndefined: false,"}}
[info] >      _queryUtil: QueryUtil { {"user":"    _queryUtil: QueryUtil {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryUtil: QueryUtil {"}}
[info] >        _firestore: [Firestore], {"user":"      _firestore: [Firestore],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _firestore: [Firestore],"}}
[info] >        _queryOptions: [QueryOptions], {"user":"      _queryOptions: [QueryOptions],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _queryOptions: [QueryOptions],"}}
[info] >        _serializer: [Serializer] {"user":"      _serializer: [Serializer]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer]"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    _readTime: Timestamp { _seconds: 1729251864, _nanoseconds: 965676000 }, {"user":"  _readTime: Timestamp { _seconds: 1729251864, _nanoseconds: 965676000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _readTime: Timestamp { _seconds: 1729251864, _nanoseconds: 965676000 },"}}
[info] >    _size: 1, {"user":"  _size: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _size: 1,"}}
[info] >    _materializedDocs: null, {"user":"  _materializedDocs: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedDocs: null,"}}
[info] >    _materializedChanges: null, {"user":"  _materializedChanges: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedChanges: null,"}}
[info] >    _docs: [Function (anonymous)], {"user":"  _docs: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _docs: [Function (anonymous)],"}}
[info] >    _changes: [Function (anonymous)] {"user":"  _changes: [Function (anonymous)]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _changes: [Function (anonymous)]"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2024-10-18T11:44:25.425Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 85.7581ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 85.7581ms"}}
[debug] [2024-10-18T11:44:25.426Z] [worker-us-central1-totem-54d27de1-ff98-4e82-a5dd-a1bca19d4051]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-54d27de1-ff98-4e82-a5dd-a1bca19d4051]: IDLE"}}
[debug] [2024-10-18T11:44:25.426Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T11:44:25.427Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T11:44:25.427Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] >  [ {"user":"[","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ["}}
[info] >    { {"user":"  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   {"}}
[info] >      id: 'AIxFbug16kvF6PQU0ybK', {"user":"    id: 'AIxFbug16kvF6PQU0ybK',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     id: 'AIxFbug16kvF6PQU0ybK',"}}
[info] >      productId: '2PHnd6lM4TG6lP6Y5fOc', {"user":"    productId: '2PHnd6lM4TG6lP6Y5fOc',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     productId: '2PHnd6lM4TG6lP6Y5fOc',"}}
[info] >      qty: 1, {"user":"    qty: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     qty: 1,"}}
[info] >      netPrice: 1, {"user":"    netPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     netPrice: 1,"}}
[info] >      partnerComm: 1, {"user":"    partnerComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     partnerComm: 1,"}}
[info] >      companyComm: 1, {"user":"    companyComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     companyComm: 1,"}}
[info] >      pricePerPerson: 1, {"user":"    pricePerPerson: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     pricePerPerson: 1,"}}
[info] >      minTotalPrice: 1, {"user":"    minTotalPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     minTotalPrice: 1,"}}
[info] >      totalPrice: 3, {"user":"    totalPrice: 3,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totalPrice: 3,"}}
[info] >      date: '2024-10-18', {"user":"    date: '2024-10-18',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: '2024-10-18',"}}
[info] >      cityId: 'OiCHcy7zKcp2uU3zlMPU', {"user":"    cityId: 'OiCHcy7zKcp2uU3zlMPU',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     cityId: 'OiCHcy7zKcp2uU3zlMPU',"}}
[info] >      totemId: '1LoQvuu4KzHC1ux7qfOR', {"user":"    totemId: '1LoQvuu4KzHC1ux7qfOR',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totemId: '1LoQvuu4KzHC1ux7qfOR',"}}
[info] >      purchaseId: 'zuDSRe9m9p2oU9O4Kz1o', {"user":"    purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',"}}
[info] >      customerId: 'rMuIfSk9AarUm73FZVtC', {"user":"    customerId: 'rMuIfSk9AarUm73FZVtC',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     customerId: 'rMuIfSk9AarUm73FZVtC',"}}
[info] >      timestamp: 1729177549038 {"user":"    timestamp: 1729177549038","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     timestamp: 1729177549038"}}
[info] >    } {"user":"  }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   }"}}
[info] >  ] {"user":"]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ]"}}
[debug] [2024-10-18T11:44:29.260Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T11:44:29.260Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T11:44:29.261Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T11:44:29.260Z"],"workRunningCount":1}
[debug] [2024-10-18T11:44:29.261Z] Accepted request GET /totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T11:44:29.264Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T11:44:29.265Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T11:44:29.266Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T11:44:29.268Z] [worker-us-central1-totem-54d27de1-ff98-4e82-a5dd-a1bca19d4051]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-54d27de1-ff98-4e82-a5dd-a1bca19d4051]: BUSY"}}
[debug] [2024-10-18T11:44:29.312Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 44.1485ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 44.1485ms"}}
[debug] [2024-10-18T11:44:29.312Z] [worker-us-central1-totem-54d27de1-ff98-4e82-a5dd-a1bca19d4051]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-54d27de1-ff98-4e82-a5dd-a1bca19d4051]: IDLE"}}
[debug] [2024-10-18T11:44:29.313Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T11:44:29.313Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T11:44:29.313Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T11:44:29.319Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T11:44:29.319Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T11:44:29.319Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T11:44:29.319Z"],"workRunningCount":1}
[debug] [2024-10-18T11:44:29.319Z] Accepted request GET /totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T11:44:29.320Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T11:44:29.320Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T11:44:29.320Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T11:44:29.321Z] [worker-us-central1-totem-54d27de1-ff98-4e82-a5dd-a1bca19d4051]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-54d27de1-ff98-4e82-a5dd-a1bca19d4051]: BUSY"}}
[info] >  QuerySnapshot { {"user":"QuerySnapshot {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m QuerySnapshot {"}}
[info] >    _query: Query { {"user":"  _query: Query {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _query: Query {"}}
[info] >      _firestore: Firestore { {"user":"    _firestore: Firestore {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _firestore: Firestore {"}}
[info] >        _settings: [Object], {"user":"      _settings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settings: [Object],"}}
[info] >        _settingsFrozen: true, {"user":"      _settingsFrozen: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settingsFrozen: true,"}}
[info] >        _serializer: [Serializer], {"user":"      _serializer: [Serializer],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer],"}}
[info] >        _projectId: 'totem-tour', {"user":"      _projectId: 'totem-tour',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _projectId: 'totem-tour',"}}
[info] >        _databaseId: '(default)', {"user":"      _databaseId: '(default)',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _databaseId: '(default)',"}}
[info] >        registeredListenersCount: 0, {"user":"      registeredListenersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       registeredListenersCount: 0,"}}
[info] >        bulkWritersCount: 0, {"user":"      bulkWritersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       bulkWritersCount: 0,"}}
[info] >        _traceUtil: DisabledTraceUtil {}, {"user":"      _traceUtil: DisabledTraceUtil {},","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _traceUtil: DisabledTraceUtil {},"}}
[info] >        _backoffSettings: [Object], {"user":"      _backoffSettings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _backoffSettings: [Object],"}}
[info] >        _clientPool: [ClientPool], {"user":"      _clientPool: [ClientPool],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _clientPool: [ClientPool],"}}
[info] >        _gax: [Object] {"user":"      _gax: [Object]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _gax: [Object]"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _queryOptions: QueryOptions { {"user":"    _queryOptions: QueryOptions {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryOptions: QueryOptions {"}}
[info] >        parentPath: [ResourcePath], {"user":"      parentPath: [ResourcePath],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       parentPath: [ResourcePath],"}}
[info] >        collectionId: 'purchaseItems', {"user":"      collectionId: 'purchaseItems',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       collectionId: 'purchaseItems',"}}
[info] >        converter: [Object], {"user":"      converter: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       converter: [Object],"}}
[info] >        allDescendants: false, {"user":"      allDescendants: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allDescendants: false,"}}
[info] >        filters: [Array], {"user":"      filters: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       filters: [Array],"}}
[info] >        fieldOrders: [Array], {"user":"      fieldOrders: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       fieldOrders: [Array],"}}
[info] >        startAt: undefined, {"user":"      startAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       startAt: undefined,"}}
[info] >        endAt: undefined, {"user":"      endAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       endAt: undefined,"}}
[info] >        limit: undefined, {"user":"      limit: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limit: undefined,"}}
[info] >        limitType: undefined, {"user":"      limitType: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limitType: undefined,"}}
[info] >        offset: undefined, {"user":"      offset: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       offset: undefined,"}}
[info] >        projection: undefined, {"user":"      projection: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       projection: undefined,"}}
[info] >        kindless: false, {"user":"      kindless: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       kindless: false,"}}
[info] >        requireConsistency: true {"user":"      requireConsistency: true","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       requireConsistency: true"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _serializer: Serializer { {"user":"    _serializer: Serializer {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _serializer: Serializer {"}}
[info] >        createReference: [Function (anonymous)], {"user":"      createReference: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createReference: [Function (anonymous)],"}}
[info] >        createInteger: [Function (anonymous)], {"user":"      createInteger: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createInteger: [Function (anonymous)],"}}
[info] >        allowUndefined: false {"user":"      allowUndefined: false","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allowUndefined: false"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _allowUndefined: false, {"user":"    _allowUndefined: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _allowUndefined: false,"}}
[info] >      _queryUtil: QueryUtil { {"user":"    _queryUtil: QueryUtil {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryUtil: QueryUtil {"}}
[info] >        _firestore: [Firestore], {"user":"      _firestore: [Firestore],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _firestore: [Firestore],"}}
[info] >        _queryOptions: [QueryOptions], {"user":"      _queryOptions: [QueryOptions],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _queryOptions: [QueryOptions],"}}
[info] >        _serializer: [Serializer] {"user":"      _serializer: [Serializer]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer]"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    _readTime: Timestamp { _seconds: 1729251868, _nanoseconds: 941514000 }, {"user":"  _readTime: Timestamp { _seconds: 1729251868, _nanoseconds: 941514000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _readTime: Timestamp { _seconds: 1729251868, _nanoseconds: 941514000 },"}}
[info] >    _size: 1, {"user":"  _size: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _size: 1,"}}
[info] >    _materializedDocs: null, {"user":"  _materializedDocs: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedDocs: null,"}}
[info] >    _materializedChanges: null, {"user":"  _materializedChanges: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedChanges: null,"}}
[info] >    _docs: [Function (anonymous)], {"user":"  _docs: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _docs: [Function (anonymous)],"}}
[info] >    _changes: [Function (anonymous)] {"user":"  _changes: [Function (anonymous)]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _changes: [Function (anonymous)]"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2024-10-18T11:44:29.391Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 70.3524ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 70.3524ms"}}
[debug] [2024-10-18T11:44:29.391Z] [worker-us-central1-totem-54d27de1-ff98-4e82-a5dd-a1bca19d4051]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-54d27de1-ff98-4e82-a5dd-a1bca19d4051]: IDLE"}}
[debug] [2024-10-18T11:44:29.392Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T11:44:29.392Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T11:44:29.392Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] >  [ {"user":"[","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ["}}
[info] >    { {"user":"  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   {"}}
[info] >      id: 'AIxFbug16kvF6PQU0ybK', {"user":"    id: 'AIxFbug16kvF6PQU0ybK',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     id: 'AIxFbug16kvF6PQU0ybK',"}}
[info] >      productId: '2PHnd6lM4TG6lP6Y5fOc', {"user":"    productId: '2PHnd6lM4TG6lP6Y5fOc',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     productId: '2PHnd6lM4TG6lP6Y5fOc',"}}
[info] >      qty: 1, {"user":"    qty: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     qty: 1,"}}
[info] >      netPrice: 1, {"user":"    netPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     netPrice: 1,"}}
[info] >      partnerComm: 1, {"user":"    partnerComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     partnerComm: 1,"}}
[info] >      companyComm: 1, {"user":"    companyComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     companyComm: 1,"}}
[info] >      pricePerPerson: 1, {"user":"    pricePerPerson: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     pricePerPerson: 1,"}}
[info] >      minTotalPrice: 1, {"user":"    minTotalPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     minTotalPrice: 1,"}}
[info] >      totalPrice: 3, {"user":"    totalPrice: 3,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totalPrice: 3,"}}
[info] >      date: '2024-10-18', {"user":"    date: '2024-10-18',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: '2024-10-18',"}}
[info] >      cityId: 'OiCHcy7zKcp2uU3zlMPU', {"user":"    cityId: 'OiCHcy7zKcp2uU3zlMPU',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     cityId: 'OiCHcy7zKcp2uU3zlMPU',"}}
[info] >      totemId: '1LoQvuu4KzHC1ux7qfOR', {"user":"    totemId: '1LoQvuu4KzHC1ux7qfOR',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totemId: '1LoQvuu4KzHC1ux7qfOR',"}}
[info] >      purchaseId: 'zuDSRe9m9p2oU9O4Kz1o', {"user":"    purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',"}}
[info] >      customerId: 'rMuIfSk9AarUm73FZVtC', {"user":"    customerId: 'rMuIfSk9AarUm73FZVtC',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     customerId: 'rMuIfSk9AarUm73FZVtC',"}}
[info] >      timestamp: 1729177549038 {"user":"    timestamp: 1729177549038","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     timestamp: 1729177549038"}}
[info] >    } {"user":"  }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   }"}}
[info] >  ] {"user":"]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ]"}}
[debug] [2024-10-18T11:44:31.264Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T11:44:31.264Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T11:44:31.265Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T11:44:31.264Z"],"workRunningCount":1}
[debug] [2024-10-18T11:44:31.265Z] Accepted request GET /totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T11:44:31.266Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T11:44:31.267Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T11:44:31.267Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T11:44:31.269Z] [worker-us-central1-totem-54d27de1-ff98-4e82-a5dd-a1bca19d4051]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-54d27de1-ff98-4e82-a5dd-a1bca19d4051]: BUSY"}}
[debug] [2024-10-18T11:44:31.302Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 33.3659ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 33.3659ms"}}
[debug] [2024-10-18T11:44:31.303Z] [worker-us-central1-totem-54d27de1-ff98-4e82-a5dd-a1bca19d4051]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-54d27de1-ff98-4e82-a5dd-a1bca19d4051]: IDLE"}}
[debug] [2024-10-18T11:44:31.303Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T11:44:31.303Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T11:44:31.303Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T11:44:31.306Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T11:44:31.306Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T11:44:31.307Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T11:44:31.306Z"],"workRunningCount":1}
[debug] [2024-10-18T11:44:31.307Z] Accepted request GET /totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T11:44:31.307Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T11:44:31.308Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T11:44:31.308Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T11:44:31.309Z] [worker-us-central1-totem-54d27de1-ff98-4e82-a5dd-a1bca19d4051]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-54d27de1-ff98-4e82-a5dd-a1bca19d4051]: BUSY"}}
[info] >  QuerySnapshot { {"user":"QuerySnapshot {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m QuerySnapshot {"}}
[info] >    _query: Query { {"user":"  _query: Query {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _query: Query {"}}
[info] >      _firestore: Firestore { {"user":"    _firestore: Firestore {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _firestore: Firestore {"}}
[info] >        _settings: [Object], {"user":"      _settings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settings: [Object],"}}
[info] >        _settingsFrozen: true, {"user":"      _settingsFrozen: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settingsFrozen: true,"}}
[info] >        _serializer: [Serializer], {"user":"      _serializer: [Serializer],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer],"}}
[info] >        _projectId: 'totem-tour', {"user":"      _projectId: 'totem-tour',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _projectId: 'totem-tour',"}}
[info] >        _databaseId: '(default)', {"user":"      _databaseId: '(default)',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _databaseId: '(default)',"}}
[info] >        registeredListenersCount: 0, {"user":"      registeredListenersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       registeredListenersCount: 0,"}}
[info] >        bulkWritersCount: 0, {"user":"      bulkWritersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       bulkWritersCount: 0,"}}
[info] >        _traceUtil: DisabledTraceUtil {}, {"user":"      _traceUtil: DisabledTraceUtil {},","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _traceUtil: DisabledTraceUtil {},"}}
[info] >        _backoffSettings: [Object], {"user":"      _backoffSettings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _backoffSettings: [Object],"}}
[info] >        _clientPool: [ClientPool], {"user":"      _clientPool: [ClientPool],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _clientPool: [ClientPool],"}}
[info] >        _gax: [Object] {"user":"      _gax: [Object]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _gax: [Object]"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _queryOptions: QueryOptions { {"user":"    _queryOptions: QueryOptions {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryOptions: QueryOptions {"}}
[info] >        parentPath: [ResourcePath], {"user":"      parentPath: [ResourcePath],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       parentPath: [ResourcePath],"}}
[info] >        collectionId: 'purchaseItems', {"user":"      collectionId: 'purchaseItems',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       collectionId: 'purchaseItems',"}}
[info] >        converter: [Object], {"user":"      converter: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       converter: [Object],"}}
[info] >        allDescendants: false, {"user":"      allDescendants: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allDescendants: false,"}}
[info] >        filters: [Array], {"user":"      filters: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       filters: [Array],"}}
[info] >        fieldOrders: [Array], {"user":"      fieldOrders: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       fieldOrders: [Array],"}}
[info] >        startAt: undefined, {"user":"      startAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       startAt: undefined,"}}
[info] >        endAt: undefined, {"user":"      endAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       endAt: undefined,"}}
[info] >        limit: undefined, {"user":"      limit: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limit: undefined,"}}
[info] >        limitType: undefined, {"user":"      limitType: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limitType: undefined,"}}
[info] >        offset: undefined, {"user":"      offset: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       offset: undefined,"}}
[info] >        projection: undefined, {"user":"      projection: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       projection: undefined,"}}
[info] >        kindless: false, {"user":"      kindless: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       kindless: false,"}}
[info] >        requireConsistency: true {"user":"      requireConsistency: true","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       requireConsistency: true"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _serializer: Serializer { {"user":"    _serializer: Serializer {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _serializer: Serializer {"}}
[info] >        createReference: [Function (anonymous)], {"user":"      createReference: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createReference: [Function (anonymous)],"}}
[info] >        createInteger: [Function (anonymous)], {"user":"      createInteger: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createInteger: [Function (anonymous)],"}}
[info] >        allowUndefined: false {"user":"      allowUndefined: false","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allowUndefined: false"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _allowUndefined: false, {"user":"    _allowUndefined: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _allowUndefined: false,"}}
[info] >      _queryUtil: QueryUtil { {"user":"    _queryUtil: QueryUtil {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryUtil: QueryUtil {"}}
[info] >        _firestore: [Firestore], {"user":"      _firestore: [Firestore],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _firestore: [Firestore],"}}
[info] >        _queryOptions: [QueryOptions], {"user":"      _queryOptions: [QueryOptions],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _queryOptions: [QueryOptions],"}}
[info] >        _serializer: [Serializer] {"user":"      _serializer: [Serializer]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer]"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    _readTime: Timestamp { _seconds: 1729251870, _nanoseconds: 928394000 }, {"user":"  _readTime: Timestamp { _seconds: 1729251870, _nanoseconds: 928394000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _readTime: Timestamp { _seconds: 1729251870, _nanoseconds: 928394000 },"}}
[info] >    _size: 1, {"user":"  _size: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _size: 1,"}}
[info] >    _materializedDocs: null, {"user":"  _materializedDocs: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedDocs: null,"}}
[info] >    _materializedChanges: null, {"user":"  _materializedChanges: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedChanges: null,"}}
[info] >    _docs: [Function (anonymous)], {"user":"  _docs: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _docs: [Function (anonymous)],"}}
[info] >    _changes: [Function (anonymous)] {"user":"  _changes: [Function (anonymous)]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _changes: [Function (anonymous)]"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2024-10-18T11:44:31.376Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 67.4532ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 67.4532ms"}}
[debug] [2024-10-18T11:44:31.376Z] [worker-us-central1-totem-54d27de1-ff98-4e82-a5dd-a1bca19d4051]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-54d27de1-ff98-4e82-a5dd-a1bca19d4051]: IDLE"}}
[debug] [2024-10-18T11:44:31.377Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T11:44:31.377Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T11:44:31.377Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] >  [ {"user":"[","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ["}}
[info] >    { {"user":"  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   {"}}
[info] >      id: 'AIxFbug16kvF6PQU0ybK', {"user":"    id: 'AIxFbug16kvF6PQU0ybK',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     id: 'AIxFbug16kvF6PQU0ybK',"}}
[info] >      productId: '2PHnd6lM4TG6lP6Y5fOc', {"user":"    productId: '2PHnd6lM4TG6lP6Y5fOc',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     productId: '2PHnd6lM4TG6lP6Y5fOc',"}}
[info] >      qty: 1, {"user":"    qty: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     qty: 1,"}}
[info] >      netPrice: 1, {"user":"    netPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     netPrice: 1,"}}
[info] >      partnerComm: 1, {"user":"    partnerComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     partnerComm: 1,"}}
[info] >      companyComm: 1, {"user":"    companyComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     companyComm: 1,"}}
[info] >      pricePerPerson: 1, {"user":"    pricePerPerson: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     pricePerPerson: 1,"}}
[info] >      minTotalPrice: 1, {"user":"    minTotalPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     minTotalPrice: 1,"}}
[info] >      totalPrice: 3, {"user":"    totalPrice: 3,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totalPrice: 3,"}}
[info] >      date: '2024-10-18', {"user":"    date: '2024-10-18',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: '2024-10-18',"}}
[info] >      cityId: 'OiCHcy7zKcp2uU3zlMPU', {"user":"    cityId: 'OiCHcy7zKcp2uU3zlMPU',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     cityId: 'OiCHcy7zKcp2uU3zlMPU',"}}
[info] >      totemId: '1LoQvuu4KzHC1ux7qfOR', {"user":"    totemId: '1LoQvuu4KzHC1ux7qfOR',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totemId: '1LoQvuu4KzHC1ux7qfOR',"}}
[info] >      purchaseId: 'zuDSRe9m9p2oU9O4Kz1o', {"user":"    purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',"}}
[info] >      customerId: 'rMuIfSk9AarUm73FZVtC', {"user":"    customerId: 'rMuIfSk9AarUm73FZVtC',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     customerId: 'rMuIfSk9AarUm73FZVtC',"}}
[info] >      timestamp: 1729177549038 {"user":"    timestamp: 1729177549038","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     timestamp: 1729177549038"}}
[info] >    } {"user":"  }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   }"}}
[info] >  ] {"user":"]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ]"}}
[debug] [2024-10-18T11:44:33.256Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T11:44:33.256Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T11:44:33.256Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T11:44:33.256Z"],"workRunningCount":1}
[debug] [2024-10-18T11:44:33.256Z] Accepted request GET /totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T11:44:33.257Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T11:44:33.257Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T11:44:33.257Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T11:44:33.258Z] [worker-us-central1-totem-54d27de1-ff98-4e82-a5dd-a1bca19d4051]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-54d27de1-ff98-4e82-a5dd-a1bca19d4051]: BUSY"}}
[debug] [2024-10-18T11:44:33.293Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 35.7468ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 35.7468ms"}}
[debug] [2024-10-18T11:44:33.294Z] [worker-us-central1-totem-54d27de1-ff98-4e82-a5dd-a1bca19d4051]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-54d27de1-ff98-4e82-a5dd-a1bca19d4051]: IDLE"}}
[debug] [2024-10-18T11:44:33.294Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T11:44:33.295Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T11:44:33.295Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T11:44:33.298Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T11:44:33.298Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T11:44:33.299Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T11:44:33.298Z"],"workRunningCount":1}
[debug] [2024-10-18T11:44:33.299Z] Accepted request GET /totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T11:44:33.300Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T11:44:33.300Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T11:44:33.300Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T11:44:33.301Z] [worker-us-central1-totem-54d27de1-ff98-4e82-a5dd-a1bca19d4051]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-54d27de1-ff98-4e82-a5dd-a1bca19d4051]: BUSY"}}
[info] >  QuerySnapshot { {"user":"QuerySnapshot {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m QuerySnapshot {"}}
[info] >    _query: Query { {"user":"  _query: Query {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _query: Query {"}}
[info] >      _firestore: Firestore { {"user":"    _firestore: Firestore {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _firestore: Firestore {"}}
[info] >        _settings: [Object], {"user":"      _settings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settings: [Object],"}}
[info] >        _settingsFrozen: true, {"user":"      _settingsFrozen: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settingsFrozen: true,"}}
[info] >        _serializer: [Serializer], {"user":"      _serializer: [Serializer],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer],"}}
[info] >        _projectId: 'totem-tour', {"user":"      _projectId: 'totem-tour',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _projectId: 'totem-tour',"}}
[info] >        _databaseId: '(default)', {"user":"      _databaseId: '(default)',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _databaseId: '(default)',"}}
[info] >        registeredListenersCount: 0, {"user":"      registeredListenersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       registeredListenersCount: 0,"}}
[info] >        bulkWritersCount: 0, {"user":"      bulkWritersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       bulkWritersCount: 0,"}}
[info] >        _traceUtil: DisabledTraceUtil {}, {"user":"      _traceUtil: DisabledTraceUtil {},","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _traceUtil: DisabledTraceUtil {},"}}
[info] >        _backoffSettings: [Object], {"user":"      _backoffSettings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _backoffSettings: [Object],"}}
[info] >        _clientPool: [ClientPool], {"user":"      _clientPool: [ClientPool],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _clientPool: [ClientPool],"}}
[info] >        _gax: [Object] {"user":"      _gax: [Object]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _gax: [Object]"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _queryOptions: QueryOptions { {"user":"    _queryOptions: QueryOptions {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryOptions: QueryOptions {"}}
[info] >        parentPath: [ResourcePath], {"user":"      parentPath: [ResourcePath],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       parentPath: [ResourcePath],"}}
[info] >        collectionId: 'purchaseItems', {"user":"      collectionId: 'purchaseItems',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       collectionId: 'purchaseItems',"}}
[info] >        converter: [Object], {"user":"      converter: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       converter: [Object],"}}
[info] >        allDescendants: false, {"user":"      allDescendants: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allDescendants: false,"}}
[info] >        filters: [Array], {"user":"      filters: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       filters: [Array],"}}
[info] >        fieldOrders: [Array], {"user":"      fieldOrders: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       fieldOrders: [Array],"}}
[info] >        startAt: undefined, {"user":"      startAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       startAt: undefined,"}}
[info] >        endAt: undefined, {"user":"      endAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       endAt: undefined,"}}
[info] >        limit: undefined, {"user":"      limit: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limit: undefined,"}}
[info] >        limitType: undefined, {"user":"      limitType: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limitType: undefined,"}}
[info] >        offset: undefined, {"user":"      offset: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       offset: undefined,"}}
[info] >        projection: undefined, {"user":"      projection: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       projection: undefined,"}}
[info] >        kindless: false, {"user":"      kindless: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       kindless: false,"}}
[info] >        requireConsistency: true {"user":"      requireConsistency: true","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       requireConsistency: true"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _serializer: Serializer { {"user":"    _serializer: Serializer {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _serializer: Serializer {"}}
[info] >        createReference: [Function (anonymous)], {"user":"      createReference: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createReference: [Function (anonymous)],"}}
[info] >        createInteger: [Function (anonymous)], {"user":"      createInteger: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createInteger: [Function (anonymous)],"}}
[info] >        allowUndefined: false {"user":"      allowUndefined: false","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allowUndefined: false"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _allowUndefined: false, {"user":"    _allowUndefined: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _allowUndefined: false,"}}
[info] >      _queryUtil: QueryUtil { {"user":"    _queryUtil: QueryUtil {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryUtil: QueryUtil {"}}
[info] >        _firestore: [Firestore], {"user":"      _firestore: [Firestore],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _firestore: [Firestore],"}}
[info] >        _queryOptions: [QueryOptions], {"user":"      _queryOptions: [QueryOptions],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _queryOptions: [QueryOptions],"}}
[info] >        _serializer: [Serializer] {"user":"      _serializer: [Serializer]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer]"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    _readTime: Timestamp { _seconds: 1729251872, _nanoseconds: 914141000 }, {"user":"  _readTime: Timestamp { _seconds: 1729251872, _nanoseconds: 914141000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _readTime: Timestamp { _seconds: 1729251872, _nanoseconds: 914141000 },"}}
[info] >    _size: 1, {"user":"  _size: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _size: 1,"}}
[info] >    _materializedDocs: null, {"user":"  _materializedDocs: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedDocs: null,"}}
[info] >    _materializedChanges: null, {"user":"  _materializedChanges: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedChanges: null,"}}
[info] >    _docs: [Function (anonymous)], {"user":"  _docs: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _docs: [Function (anonymous)],"}}
[info] >    _changes: [Function (anonymous)] {"user":"  _changes: [Function (anonymous)]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _changes: [Function (anonymous)]"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2024-10-18T11:44:33.363Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 62.087ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 62.087ms"}}
[debug] [2024-10-18T11:44:33.364Z] [worker-us-central1-totem-54d27de1-ff98-4e82-a5dd-a1bca19d4051]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-54d27de1-ff98-4e82-a5dd-a1bca19d4051]: IDLE"}}
[debug] [2024-10-18T11:44:33.364Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T11:44:33.364Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T11:44:33.364Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] >  [ {"user":"[","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ["}}
[info] >    { {"user":"  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   {"}}
[info] >      id: 'AIxFbug16kvF6PQU0ybK', {"user":"    id: 'AIxFbug16kvF6PQU0ybK',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     id: 'AIxFbug16kvF6PQU0ybK',"}}
[info] >      productId: '2PHnd6lM4TG6lP6Y5fOc', {"user":"    productId: '2PHnd6lM4TG6lP6Y5fOc',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     productId: '2PHnd6lM4TG6lP6Y5fOc',"}}
[info] >      qty: 1, {"user":"    qty: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     qty: 1,"}}
[info] >      netPrice: 1, {"user":"    netPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     netPrice: 1,"}}
[info] >      partnerComm: 1, {"user":"    partnerComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     partnerComm: 1,"}}
[info] >      companyComm: 1, {"user":"    companyComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     companyComm: 1,"}}
[info] >      pricePerPerson: 1, {"user":"    pricePerPerson: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     pricePerPerson: 1,"}}
[info] >      minTotalPrice: 1, {"user":"    minTotalPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     minTotalPrice: 1,"}}
[info] >      totalPrice: 3, {"user":"    totalPrice: 3,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totalPrice: 3,"}}
[info] >      date: '2024-10-18', {"user":"    date: '2024-10-18',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: '2024-10-18',"}}
[info] >      cityId: 'OiCHcy7zKcp2uU3zlMPU', {"user":"    cityId: 'OiCHcy7zKcp2uU3zlMPU',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     cityId: 'OiCHcy7zKcp2uU3zlMPU',"}}
[info] >      totemId: '1LoQvuu4KzHC1ux7qfOR', {"user":"    totemId: '1LoQvuu4KzHC1ux7qfOR',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totemId: '1LoQvuu4KzHC1ux7qfOR',"}}
[info] >      purchaseId: 'zuDSRe9m9p2oU9O4Kz1o', {"user":"    purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',"}}
[info] >      customerId: 'rMuIfSk9AarUm73FZVtC', {"user":"    customerId: 'rMuIfSk9AarUm73FZVtC',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     customerId: 'rMuIfSk9AarUm73FZVtC',"}}
[info] >      timestamp: 1729177549038 {"user":"    timestamp: 1729177549038","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     timestamp: 1729177549038"}}
[info] >    } {"user":"  }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   }"}}
[info] >  ] {"user":"]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ]"}}
[debug] [2024-10-18T11:44:35.241Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T11:44:35.241Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T11:44:35.241Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T11:44:35.241Z"],"workRunningCount":1}
[debug] [2024-10-18T11:44:35.241Z] Accepted request GET /totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T11:44:35.243Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T11:44:35.243Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T11:44:35.243Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T11:44:35.244Z] [worker-us-central1-totem-54d27de1-ff98-4e82-a5dd-a1bca19d4051]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-54d27de1-ff98-4e82-a5dd-a1bca19d4051]: BUSY"}}
[debug] [2024-10-18T11:44:35.275Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 31.8218ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 31.8218ms"}}
[debug] [2024-10-18T11:44:35.276Z] [worker-us-central1-totem-54d27de1-ff98-4e82-a5dd-a1bca19d4051]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-54d27de1-ff98-4e82-a5dd-a1bca19d4051]: IDLE"}}
[debug] [2024-10-18T11:44:35.276Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T11:44:35.276Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T11:44:35.276Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T11:44:35.280Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T11:44:35.280Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T11:44:35.280Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T11:44:35.280Z"],"workRunningCount":1}
[debug] [2024-10-18T11:44:35.280Z] Accepted request GET /totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T11:44:35.281Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T11:44:35.281Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T11:44:35.281Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T11:44:35.282Z] [worker-us-central1-totem-54d27de1-ff98-4e82-a5dd-a1bca19d4051]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-54d27de1-ff98-4e82-a5dd-a1bca19d4051]: BUSY"}}
[info] >  QuerySnapshot { {"user":"QuerySnapshot {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m QuerySnapshot {"}}
[info] >    _query: Query { {"user":"  _query: Query {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _query: Query {"}}
[info] >      _firestore: Firestore { {"user":"    _firestore: Firestore {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _firestore: Firestore {"}}
[info] >        _settings: [Object], {"user":"      _settings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settings: [Object],"}}
[info] >        _settingsFrozen: true, {"user":"      _settingsFrozen: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settingsFrozen: true,"}}
[info] >        _serializer: [Serializer], {"user":"      _serializer: [Serializer],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer],"}}
[info] >        _projectId: 'totem-tour', {"user":"      _projectId: 'totem-tour',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _projectId: 'totem-tour',"}}
[info] >        _databaseId: '(default)', {"user":"      _databaseId: '(default)',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _databaseId: '(default)',"}}
[info] >        registeredListenersCount: 0, {"user":"      registeredListenersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       registeredListenersCount: 0,"}}
[info] >        bulkWritersCount: 0, {"user":"      bulkWritersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       bulkWritersCount: 0,"}}
[info] >        _traceUtil: DisabledTraceUtil {}, {"user":"      _traceUtil: DisabledTraceUtil {},","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _traceUtil: DisabledTraceUtil {},"}}
[info] >        _backoffSettings: [Object], {"user":"      _backoffSettings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _backoffSettings: [Object],"}}
[info] >        _clientPool: [ClientPool], {"user":"      _clientPool: [ClientPool],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _clientPool: [ClientPool],"}}
[info] >        _gax: [Object] {"user":"      _gax: [Object]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _gax: [Object]"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _queryOptions: QueryOptions { {"user":"    _queryOptions: QueryOptions {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryOptions: QueryOptions {"}}
[info] >        parentPath: [ResourcePath], {"user":"      parentPath: [ResourcePath],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       parentPath: [ResourcePath],"}}
[info] >        collectionId: 'purchaseItems', {"user":"      collectionId: 'purchaseItems',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       collectionId: 'purchaseItems',"}}
[info] >        converter: [Object], {"user":"      converter: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       converter: [Object],"}}
[info] >        allDescendants: false, {"user":"      allDescendants: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allDescendants: false,"}}
[info] >        filters: [Array], {"user":"      filters: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       filters: [Array],"}}
[info] >        fieldOrders: [Array], {"user":"      fieldOrders: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       fieldOrders: [Array],"}}
[info] >        startAt: undefined, {"user":"      startAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       startAt: undefined,"}}
[info] >        endAt: undefined, {"user":"      endAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       endAt: undefined,"}}
[info] >        limit: undefined, {"user":"      limit: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limit: undefined,"}}
[info] >        limitType: undefined, {"user":"      limitType: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limitType: undefined,"}}
[info] >        offset: undefined, {"user":"      offset: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       offset: undefined,"}}
[info] >        projection: undefined, {"user":"      projection: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       projection: undefined,"}}
[info] >        kindless: false, {"user":"      kindless: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       kindless: false,"}}
[info] >        requireConsistency: true {"user":"      requireConsistency: true","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       requireConsistency: true"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _serializer: Serializer { {"user":"    _serializer: Serializer {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _serializer: Serializer {"}}
[info] >        createReference: [Function (anonymous)], {"user":"      createReference: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createReference: [Function (anonymous)],"}}
[info] >        createInteger: [Function (anonymous)], {"user":"      createInteger: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createInteger: [Function (anonymous)],"}}
[info] >        allowUndefined: false {"user":"      allowUndefined: false","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allowUndefined: false"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _allowUndefined: false, {"user":"    _allowUndefined: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _allowUndefined: false,"}}
[info] >      _queryUtil: QueryUtil { {"user":"    _queryUtil: QueryUtil {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryUtil: QueryUtil {"}}
[info] >        _firestore: [Firestore], {"user":"      _firestore: [Firestore],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _firestore: [Firestore],"}}
[info] >        _queryOptions: [QueryOptions], {"user":"      _queryOptions: [QueryOptions],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _queryOptions: [QueryOptions],"}}
[info] >        _serializer: [Serializer] {"user":"      _serializer: [Serializer]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer]"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    _readTime: Timestamp { _seconds: 1729251874, _nanoseconds: 898317000 }, {"user":"  _readTime: Timestamp { _seconds: 1729251874, _nanoseconds: 898317000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _readTime: Timestamp { _seconds: 1729251874, _nanoseconds: 898317000 },"}}
[info] >    _size: 1, {"user":"  _size: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _size: 1,"}}
[info] >    _materializedDocs: null, {"user":"  _materializedDocs: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedDocs: null,"}}
[info] >    _materializedChanges: null, {"user":"  _materializedChanges: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedChanges: null,"}}
[info] >    _docs: [Function (anonymous)], {"user":"  _docs: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _docs: [Function (anonymous)],"}}
[info] >    _changes: [Function (anonymous)] {"user":"  _changes: [Function (anonymous)]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _changes: [Function (anonymous)]"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2024-10-18T11:44:35.347Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 65.0374ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 65.0374ms"}}
[debug] [2024-10-18T11:44:35.347Z] [worker-us-central1-totem-54d27de1-ff98-4e82-a5dd-a1bca19d4051]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-54d27de1-ff98-4e82-a5dd-a1bca19d4051]: IDLE"}}
[debug] [2024-10-18T11:44:35.347Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T11:44:35.347Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T11:44:35.347Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] >  [ {"user":"[","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ["}}
[info] >    { {"user":"  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   {"}}
[info] >      id: 'AIxFbug16kvF6PQU0ybK', {"user":"    id: 'AIxFbug16kvF6PQU0ybK',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     id: 'AIxFbug16kvF6PQU0ybK',"}}
[info] >      productId: '2PHnd6lM4TG6lP6Y5fOc', {"user":"    productId: '2PHnd6lM4TG6lP6Y5fOc',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     productId: '2PHnd6lM4TG6lP6Y5fOc',"}}
[info] >      qty: 1, {"user":"    qty: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     qty: 1,"}}
[info] >      netPrice: 1, {"user":"    netPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     netPrice: 1,"}}
[info] >      partnerComm: 1, {"user":"    partnerComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     partnerComm: 1,"}}
[info] >      companyComm: 1, {"user":"    companyComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     companyComm: 1,"}}
[info] >      pricePerPerson: 1, {"user":"    pricePerPerson: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     pricePerPerson: 1,"}}
[info] >      minTotalPrice: 1, {"user":"    minTotalPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     minTotalPrice: 1,"}}
[info] >      totalPrice: 3, {"user":"    totalPrice: 3,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totalPrice: 3,"}}
[info] >      date: '2024-10-18', {"user":"    date: '2024-10-18',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: '2024-10-18',"}}
[info] >      cityId: 'OiCHcy7zKcp2uU3zlMPU', {"user":"    cityId: 'OiCHcy7zKcp2uU3zlMPU',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     cityId: 'OiCHcy7zKcp2uU3zlMPU',"}}
[info] >      totemId: '1LoQvuu4KzHC1ux7qfOR', {"user":"    totemId: '1LoQvuu4KzHC1ux7qfOR',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totemId: '1LoQvuu4KzHC1ux7qfOR',"}}
[info] >      purchaseId: 'zuDSRe9m9p2oU9O4Kz1o', {"user":"    purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',"}}
[info] >      customerId: 'rMuIfSk9AarUm73FZVtC', {"user":"    customerId: 'rMuIfSk9AarUm73FZVtC',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     customerId: 'rMuIfSk9AarUm73FZVtC',"}}
[info] >      timestamp: 1729177549038 {"user":"    timestamp: 1729177549038","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     timestamp: 1729177549038"}}
[info] >    } {"user":"  }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   }"}}
[info] >  ] {"user":"]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ]"}}
[debug] [2024-10-18T11:44:39.243Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T11:44:39.243Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T11:44:39.243Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T11:44:39.243Z"],"workRunningCount":1}
[debug] [2024-10-18T11:44:39.243Z] Accepted request GET /totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T11:44:39.244Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T11:44:39.244Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T11:44:39.244Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T11:44:39.245Z] [worker-us-central1-totem-54d27de1-ff98-4e82-a5dd-a1bca19d4051]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-54d27de1-ff98-4e82-a5dd-a1bca19d4051]: BUSY"}}
[debug] [2024-10-18T11:44:39.285Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 40.2306ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 40.2306ms"}}
[debug] [2024-10-18T11:44:39.285Z] [worker-us-central1-totem-54d27de1-ff98-4e82-a5dd-a1bca19d4051]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-54d27de1-ff98-4e82-a5dd-a1bca19d4051]: IDLE"}}
[debug] [2024-10-18T11:44:39.285Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T11:44:39.286Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T11:44:39.286Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T11:44:39.289Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T11:44:39.289Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T11:44:39.289Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T11:44:39.289Z"],"workRunningCount":1}
[debug] [2024-10-18T11:44:39.289Z] Accepted request GET /totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T11:44:39.290Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T11:44:39.290Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T11:44:39.290Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T11:44:39.291Z] [worker-us-central1-totem-54d27de1-ff98-4e82-a5dd-a1bca19d4051]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-54d27de1-ff98-4e82-a5dd-a1bca19d4051]: BUSY"}}
[info] >  QuerySnapshot { {"user":"QuerySnapshot {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m QuerySnapshot {"}}
[info] >    _query: Query { {"user":"  _query: Query {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _query: Query {"}}
[info] >      _firestore: Firestore { {"user":"    _firestore: Firestore {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _firestore: Firestore {"}}
[info] >        _settings: [Object], {"user":"      _settings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settings: [Object],"}}
[info] >        _settingsFrozen: true, {"user":"      _settingsFrozen: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settingsFrozen: true,"}}
[info] >        _serializer: [Serializer], {"user":"      _serializer: [Serializer],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer],"}}
[info] >        _projectId: 'totem-tour', {"user":"      _projectId: 'totem-tour',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _projectId: 'totem-tour',"}}
[info] >        _databaseId: '(default)', {"user":"      _databaseId: '(default)',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _databaseId: '(default)',"}}
[info] >        registeredListenersCount: 0, {"user":"      registeredListenersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       registeredListenersCount: 0,"}}
[info] >        bulkWritersCount: 0, {"user":"      bulkWritersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       bulkWritersCount: 0,"}}
[info] >        _traceUtil: DisabledTraceUtil {}, {"user":"      _traceUtil: DisabledTraceUtil {},","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _traceUtil: DisabledTraceUtil {},"}}
[info] >        _backoffSettings: [Object], {"user":"      _backoffSettings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _backoffSettings: [Object],"}}
[info] >        _clientPool: [ClientPool], {"user":"      _clientPool: [ClientPool],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _clientPool: [ClientPool],"}}
[info] >        _gax: [Object] {"user":"      _gax: [Object]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _gax: [Object]"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _queryOptions: QueryOptions { {"user":"    _queryOptions: QueryOptions {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryOptions: QueryOptions {"}}
[info] >        parentPath: [ResourcePath], {"user":"      parentPath: [ResourcePath],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       parentPath: [ResourcePath],"}}
[info] >        collectionId: 'purchaseItems', {"user":"      collectionId: 'purchaseItems',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       collectionId: 'purchaseItems',"}}
[info] >        converter: [Object], {"user":"      converter: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       converter: [Object],"}}
[info] >        allDescendants: false, {"user":"      allDescendants: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allDescendants: false,"}}
[info] >        filters: [Array], {"user":"      filters: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       filters: [Array],"}}
[info] >        fieldOrders: [Array], {"user":"      fieldOrders: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       fieldOrders: [Array],"}}
[info] >        startAt: undefined, {"user":"      startAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       startAt: undefined,"}}
[info] >        endAt: undefined, {"user":"      endAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       endAt: undefined,"}}
[info] >        limit: undefined, {"user":"      limit: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limit: undefined,"}}
[info] >        limitType: undefined, {"user":"      limitType: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limitType: undefined,"}}
[info] >        offset: undefined, {"user":"      offset: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       offset: undefined,"}}
[info] >        projection: undefined, {"user":"      projection: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       projection: undefined,"}}
[info] >        kindless: false, {"user":"      kindless: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       kindless: false,"}}
[info] >        requireConsistency: true {"user":"      requireConsistency: true","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       requireConsistency: true"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _serializer: Serializer { {"user":"    _serializer: Serializer {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _serializer: Serializer {"}}
[info] >        createReference: [Function (anonymous)], {"user":"      createReference: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createReference: [Function (anonymous)],"}}
[info] >        createInteger: [Function (anonymous)], {"user":"      createInteger: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createInteger: [Function (anonymous)],"}}
[info] >        allowUndefined: false {"user":"      allowUndefined: false","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allowUndefined: false"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _allowUndefined: false, {"user":"    _allowUndefined: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _allowUndefined: false,"}}
[info] >      _queryUtil: QueryUtil { {"user":"    _queryUtil: QueryUtil {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryUtil: QueryUtil {"}}
[info] >        _firestore: [Firestore], {"user":"      _firestore: [Firestore],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _firestore: [Firestore],"}}
[info] >        _queryOptions: [QueryOptions], {"user":"      _queryOptions: [QueryOptions],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _queryOptions: [QueryOptions],"}}
[info] >        _serializer: [Serializer] {"user":"      _serializer: [Serializer]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer]"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    _readTime: Timestamp { _seconds: 1729251878, _nanoseconds: 918613000 }, {"user":"  _readTime: Timestamp { _seconds: 1729251878, _nanoseconds: 918613000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _readTime: Timestamp { _seconds: 1729251878, _nanoseconds: 918613000 },"}}
[info] >    _size: 1, {"user":"  _size: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _size: 1,"}}
[info] >    _materializedDocs: null, {"user":"  _materializedDocs: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedDocs: null,"}}
[info] >    _materializedChanges: null, {"user":"  _materializedChanges: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedChanges: null,"}}
[info] >    _docs: [Function (anonymous)], {"user":"  _docs: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _docs: [Function (anonymous)],"}}
[info] >    _changes: [Function (anonymous)] {"user":"  _changes: [Function (anonymous)]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _changes: [Function (anonymous)]"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2024-10-18T11:44:39.365Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 74.2941ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 74.2941ms"}}
[debug] [2024-10-18T11:44:39.366Z] [worker-us-central1-totem-54d27de1-ff98-4e82-a5dd-a1bca19d4051]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-54d27de1-ff98-4e82-a5dd-a1bca19d4051]: IDLE"}}
[debug] [2024-10-18T11:44:39.366Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T11:44:39.366Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T11:44:39.366Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] >  [ {"user":"[","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ["}}
[info] >    { {"user":"  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   {"}}
[info] >      id: 'AIxFbug16kvF6PQU0ybK', {"user":"    id: 'AIxFbug16kvF6PQU0ybK',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     id: 'AIxFbug16kvF6PQU0ybK',"}}
[info] >      productId: '2PHnd6lM4TG6lP6Y5fOc', {"user":"    productId: '2PHnd6lM4TG6lP6Y5fOc',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     productId: '2PHnd6lM4TG6lP6Y5fOc',"}}
[info] >      qty: 1, {"user":"    qty: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     qty: 1,"}}
[info] >      netPrice: 1, {"user":"    netPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     netPrice: 1,"}}
[info] >      partnerComm: 1, {"user":"    partnerComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     partnerComm: 1,"}}
[info] >      companyComm: 1, {"user":"    companyComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     companyComm: 1,"}}
[info] >      pricePerPerson: 1, {"user":"    pricePerPerson: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     pricePerPerson: 1,"}}
[info] >      minTotalPrice: 1, {"user":"    minTotalPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     minTotalPrice: 1,"}}
[info] >      totalPrice: 3, {"user":"    totalPrice: 3,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totalPrice: 3,"}}
[info] >      date: '2024-10-18', {"user":"    date: '2024-10-18',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: '2024-10-18',"}}
[info] >      cityId: 'OiCHcy7zKcp2uU3zlMPU', {"user":"    cityId: 'OiCHcy7zKcp2uU3zlMPU',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     cityId: 'OiCHcy7zKcp2uU3zlMPU',"}}
[info] >      totemId: '1LoQvuu4KzHC1ux7qfOR', {"user":"    totemId: '1LoQvuu4KzHC1ux7qfOR',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totemId: '1LoQvuu4KzHC1ux7qfOR',"}}
[info] >      purchaseId: 'zuDSRe9m9p2oU9O4Kz1o', {"user":"    purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',"}}
[info] >      customerId: 'rMuIfSk9AarUm73FZVtC', {"user":"    customerId: 'rMuIfSk9AarUm73FZVtC',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     customerId: 'rMuIfSk9AarUm73FZVtC',"}}
[info] >      timestamp: 1729177549038 {"user":"    timestamp: 1729177549038","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     timestamp: 1729177549038"}}
[info] >    } {"user":"  }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   }"}}
[info] >  ] {"user":"]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ]"}}
[debug] [2024-10-18T11:44:41.690Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T11:44:41.690Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T11:44:41.691Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T11:44:41.690Z"],"workRunningCount":1}
[debug] [2024-10-18T11:44:41.691Z] Accepted request GET /totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T11:44:41.692Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T11:44:41.693Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T11:44:41.693Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T11:44:41.695Z] [worker-us-central1-totem-54d27de1-ff98-4e82-a5dd-a1bca19d4051]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-54d27de1-ff98-4e82-a5dd-a1bca19d4051]: BUSY"}}
[debug] [2024-10-18T11:44:41.736Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 41.2998ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 41.2998ms"}}
[debug] [2024-10-18T11:44:41.737Z] [worker-us-central1-totem-54d27de1-ff98-4e82-a5dd-a1bca19d4051]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-54d27de1-ff98-4e82-a5dd-a1bca19d4051]: IDLE"}}
[debug] [2024-10-18T11:44:41.737Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T11:44:41.737Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T11:44:41.737Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T11:44:41.741Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T11:44:41.741Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T11:44:41.741Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T11:44:41.741Z"],"workRunningCount":1}
[debug] [2024-10-18T11:44:41.741Z] Accepted request GET /totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T11:44:41.742Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T11:44:41.743Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T11:44:41.743Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T11:44:41.743Z] [worker-us-central1-totem-54d27de1-ff98-4e82-a5dd-a1bca19d4051]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-54d27de1-ff98-4e82-a5dd-a1bca19d4051]: BUSY"}}
[info] >  QuerySnapshot { {"user":"QuerySnapshot {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m QuerySnapshot {"}}
[info] >    _query: Query { {"user":"  _query: Query {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _query: Query {"}}
[info] >      _firestore: Firestore { {"user":"    _firestore: Firestore {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _firestore: Firestore {"}}
[info] >        _settings: [Object], {"user":"      _settings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settings: [Object],"}}
[info] >        _settingsFrozen: true, {"user":"      _settingsFrozen: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settingsFrozen: true,"}}
[info] >        _serializer: [Serializer], {"user":"      _serializer: [Serializer],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer],"}}
[info] >        _projectId: 'totem-tour', {"user":"      _projectId: 'totem-tour',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _projectId: 'totem-tour',"}}
[info] >        _databaseId: '(default)', {"user":"      _databaseId: '(default)',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _databaseId: '(default)',"}}
[info] >        registeredListenersCount: 0, {"user":"      registeredListenersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       registeredListenersCount: 0,"}}
[info] >        bulkWritersCount: 0, {"user":"      bulkWritersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       bulkWritersCount: 0,"}}
[info] >        _traceUtil: DisabledTraceUtil {}, {"user":"      _traceUtil: DisabledTraceUtil {},","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _traceUtil: DisabledTraceUtil {},"}}
[info] >        _backoffSettings: [Object], {"user":"      _backoffSettings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _backoffSettings: [Object],"}}
[info] >        _clientPool: [ClientPool], {"user":"      _clientPool: [ClientPool],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _clientPool: [ClientPool],"}}
[info] >        _gax: [Object] {"user":"      _gax: [Object]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _gax: [Object]"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _queryOptions: QueryOptions { {"user":"    _queryOptions: QueryOptions {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryOptions: QueryOptions {"}}
[info] >        parentPath: [ResourcePath], {"user":"      parentPath: [ResourcePath],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       parentPath: [ResourcePath],"}}
[info] >        collectionId: 'purchaseItems', {"user":"      collectionId: 'purchaseItems',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       collectionId: 'purchaseItems',"}}
[info] >        converter: [Object], {"user":"      converter: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       converter: [Object],"}}
[info] >        allDescendants: false, {"user":"      allDescendants: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allDescendants: false,"}}
[info] >        filters: [Array], {"user":"      filters: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       filters: [Array],"}}
[info] >        fieldOrders: [Array], {"user":"      fieldOrders: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       fieldOrders: [Array],"}}
[info] >        startAt: undefined, {"user":"      startAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       startAt: undefined,"}}
[info] >        endAt: undefined, {"user":"      endAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       endAt: undefined,"}}
[info] >        limit: undefined, {"user":"      limit: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limit: undefined,"}}
[info] >        limitType: undefined, {"user":"      limitType: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limitType: undefined,"}}
[info] >        offset: undefined, {"user":"      offset: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       offset: undefined,"}}
[info] >        projection: undefined, {"user":"      projection: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       projection: undefined,"}}
[info] >        kindless: false, {"user":"      kindless: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       kindless: false,"}}
[info] >        requireConsistency: true {"user":"      requireConsistency: true","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       requireConsistency: true"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _serializer: Serializer { {"user":"    _serializer: Serializer {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _serializer: Serializer {"}}
[info] >        createReference: [Function (anonymous)], {"user":"      createReference: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createReference: [Function (anonymous)],"}}
[info] >        createInteger: [Function (anonymous)], {"user":"      createInteger: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createInteger: [Function (anonymous)],"}}
[info] >        allowUndefined: false {"user":"      allowUndefined: false","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allowUndefined: false"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _allowUndefined: false, {"user":"    _allowUndefined: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _allowUndefined: false,"}}
[info] >      _queryUtil: QueryUtil { {"user":"    _queryUtil: QueryUtil {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryUtil: QueryUtil {"}}
[info] >        _firestore: [Firestore], {"user":"      _firestore: [Firestore],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _firestore: [Firestore],"}}
[info] >        _queryOptions: [QueryOptions], {"user":"      _queryOptions: [QueryOptions],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _queryOptions: [QueryOptions],"}}
[info] >        _serializer: [Serializer] {"user":"      _serializer: [Serializer]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer]"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    _readTime: Timestamp { _seconds: 1729251881, _nanoseconds: 367149000 }, {"user":"  _readTime: Timestamp { _seconds: 1729251881, _nanoseconds: 367149000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _readTime: Timestamp { _seconds: 1729251881, _nanoseconds: 367149000 },"}}
[info] >    _size: 1, {"user":"  _size: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _size: 1,"}}
[info] >    _materializedDocs: null, {"user":"  _materializedDocs: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedDocs: null,"}}
[info] >    _materializedChanges: null, {"user":"  _materializedChanges: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedChanges: null,"}}
[info] >    _docs: [Function (anonymous)], {"user":"  _docs: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _docs: [Function (anonymous)],"}}
[info] >    _changes: [Function (anonymous)] {"user":"  _changes: [Function (anonymous)]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _changes: [Function (anonymous)]"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2024-10-18T11:44:41.847Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 104.1762ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 104.1762ms"}}
[debug] [2024-10-18T11:44:41.849Z] [worker-us-central1-totem-54d27de1-ff98-4e82-a5dd-a1bca19d4051]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-54d27de1-ff98-4e82-a5dd-a1bca19d4051]: IDLE"}}
[debug] [2024-10-18T11:44:41.849Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T11:44:41.849Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T11:44:41.849Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] >  [ {"user":"[","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ["}}
[info] >    { {"user":"  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   {"}}
[info] >      id: 'AIxFbug16kvF6PQU0ybK', {"user":"    id: 'AIxFbug16kvF6PQU0ybK',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     id: 'AIxFbug16kvF6PQU0ybK',"}}
[info] >      productId: '2PHnd6lM4TG6lP6Y5fOc', {"user":"    productId: '2PHnd6lM4TG6lP6Y5fOc',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     productId: '2PHnd6lM4TG6lP6Y5fOc',"}}
[info] >      qty: 1, {"user":"    qty: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     qty: 1,"}}
[info] >      netPrice: 1, {"user":"    netPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     netPrice: 1,"}}
[info] >      partnerComm: 1, {"user":"    partnerComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     partnerComm: 1,"}}
[info] >      companyComm: 1, {"user":"    companyComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     companyComm: 1,"}}
[info] >      pricePerPerson: 1, {"user":"    pricePerPerson: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     pricePerPerson: 1,"}}
[info] >      minTotalPrice: 1, {"user":"    minTotalPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     minTotalPrice: 1,"}}
[info] >      totalPrice: 3, {"user":"    totalPrice: 3,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totalPrice: 3,"}}
[info] >      date: '2024-10-18', {"user":"    date: '2024-10-18',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: '2024-10-18',"}}
[info] >      cityId: 'OiCHcy7zKcp2uU3zlMPU', {"user":"    cityId: 'OiCHcy7zKcp2uU3zlMPU',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     cityId: 'OiCHcy7zKcp2uU3zlMPU',"}}
[info] >      totemId: '1LoQvuu4KzHC1ux7qfOR', {"user":"    totemId: '1LoQvuu4KzHC1ux7qfOR',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totemId: '1LoQvuu4KzHC1ux7qfOR',"}}
[info] >      purchaseId: 'zuDSRe9m9p2oU9O4Kz1o', {"user":"    purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',"}}
[info] >      customerId: 'rMuIfSk9AarUm73FZVtC', {"user":"    customerId: 'rMuIfSk9AarUm73FZVtC',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     customerId: 'rMuIfSk9AarUm73FZVtC',"}}
[info] >      timestamp: 1729177549038 {"user":"    timestamp: 1729177549038","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     timestamp: 1729177549038"}}
[info] >    } {"user":"  }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   }"}}
[info] >  ] {"user":"]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ]"}}
[debug] [2024-10-18T11:45:04.303Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T11:45:04.303Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T11:45:04.304Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T11:45:04.303Z"],"workRunningCount":1}
[debug] [2024-10-18T11:45:04.304Z] Accepted request GET /totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T11:45:04.311Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T11:45:04.312Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T11:45:04.312Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T11:45:04.313Z] [worker-us-central1-totem-54d27de1-ff98-4e82-a5dd-a1bca19d4051]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-54d27de1-ff98-4e82-a5dd-a1bca19d4051]: BUSY"}}
[debug] [2024-10-18T11:45:04.356Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 43.8334ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 43.8334ms"}}
[debug] [2024-10-18T11:45:04.357Z] [worker-us-central1-totem-54d27de1-ff98-4e82-a5dd-a1bca19d4051]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-54d27de1-ff98-4e82-a5dd-a1bca19d4051]: IDLE"}}
[debug] [2024-10-18T11:45:04.358Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T11:45:04.358Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T11:45:04.358Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T11:45:04.361Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T11:45:04.361Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T11:45:04.362Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T11:45:04.361Z"],"workRunningCount":1}
[debug] [2024-10-18T11:45:04.362Z] Accepted request GET /totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T11:45:04.365Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T11:45:04.365Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T11:45:04.366Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T11:45:04.366Z] [worker-us-central1-totem-54d27de1-ff98-4e82-a5dd-a1bca19d4051]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-54d27de1-ff98-4e82-a5dd-a1bca19d4051]: BUSY"}}
[info] >  QuerySnapshot { {"user":"QuerySnapshot {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m QuerySnapshot {"}}
[info] >    _query: Query { {"user":"  _query: Query {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _query: Query {"}}
[info] >      _firestore: Firestore { {"user":"    _firestore: Firestore {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _firestore: Firestore {"}}
[info] >        _settings: [Object], {"user":"      _settings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settings: [Object],"}}
[info] >        _settingsFrozen: true, {"user":"      _settingsFrozen: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settingsFrozen: true,"}}
[info] >        _serializer: [Serializer], {"user":"      _serializer: [Serializer],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer],"}}
[info] >        _projectId: 'totem-tour', {"user":"      _projectId: 'totem-tour',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _projectId: 'totem-tour',"}}
[info] >        _databaseId: '(default)', {"user":"      _databaseId: '(default)',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _databaseId: '(default)',"}}
[info] >        registeredListenersCount: 0, {"user":"      registeredListenersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       registeredListenersCount: 0,"}}
[info] >        bulkWritersCount: 0, {"user":"      bulkWritersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       bulkWritersCount: 0,"}}
[info] >        _traceUtil: DisabledTraceUtil {}, {"user":"      _traceUtil: DisabledTraceUtil {},","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _traceUtil: DisabledTraceUtil {},"}}
[info] >        _backoffSettings: [Object], {"user":"      _backoffSettings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _backoffSettings: [Object],"}}
[info] >        _clientPool: [ClientPool], {"user":"      _clientPool: [ClientPool],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _clientPool: [ClientPool],"}}
[info] >        _gax: [Object] {"user":"      _gax: [Object]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _gax: [Object]"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _queryOptions: QueryOptions { {"user":"    _queryOptions: QueryOptions {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryOptions: QueryOptions {"}}
[info] >        parentPath: [ResourcePath], {"user":"      parentPath: [ResourcePath],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       parentPath: [ResourcePath],"}}
[info] >        collectionId: 'purchaseItems', {"user":"      collectionId: 'purchaseItems',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       collectionId: 'purchaseItems',"}}
[info] >        converter: [Object], {"user":"      converter: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       converter: [Object],"}}
[info] >        allDescendants: false, {"user":"      allDescendants: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allDescendants: false,"}}
[info] >        filters: [Array], {"user":"      filters: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       filters: [Array],"}}
[info] >        fieldOrders: [Array], {"user":"      fieldOrders: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       fieldOrders: [Array],"}}
[info] >        startAt: undefined, {"user":"      startAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       startAt: undefined,"}}
[info] >        endAt: undefined, {"user":"      endAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       endAt: undefined,"}}
[info] >        limit: undefined, {"user":"      limit: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limit: undefined,"}}
[info] >        limitType: undefined, {"user":"      limitType: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limitType: undefined,"}}
[info] >        offset: undefined, {"user":"      offset: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       offset: undefined,"}}
[info] >        projection: undefined, {"user":"      projection: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       projection: undefined,"}}
[info] >        kindless: false, {"user":"      kindless: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       kindless: false,"}}
[info] >        requireConsistency: true {"user":"      requireConsistency: true","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       requireConsistency: true"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _serializer: Serializer { {"user":"    _serializer: Serializer {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _serializer: Serializer {"}}
[info] >        createReference: [Function (anonymous)], {"user":"      createReference: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createReference: [Function (anonymous)],"}}
[info] >        createInteger: [Function (anonymous)], {"user":"      createInteger: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createInteger: [Function (anonymous)],"}}
[info] >        allowUndefined: false {"user":"      allowUndefined: false","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allowUndefined: false"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _allowUndefined: false, {"user":"    _allowUndefined: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _allowUndefined: false,"}}
[info] >      _queryUtil: QueryUtil { {"user":"    _queryUtil: QueryUtil {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryUtil: QueryUtil {"}}
[info] >        _firestore: [Firestore], {"user":"      _firestore: [Firestore],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _firestore: [Firestore],"}}
[info] >        _queryOptions: [QueryOptions], {"user":"      _queryOptions: [QueryOptions],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _queryOptions: [QueryOptions],"}}
[info] >        _serializer: [Serializer] {"user":"      _serializer: [Serializer]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer]"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    _readTime: Timestamp { _seconds: 1729251904, _nanoseconds: 5511000 }, {"user":"  _readTime: Timestamp { _seconds: 1729251904, _nanoseconds: 5511000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _readTime: Timestamp { _seconds: 1729251904, _nanoseconds: 5511000 },"}}
[info] >    _size: 1, {"user":"  _size: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _size: 1,"}}
[info] >    _materializedDocs: null, {"user":"  _materializedDocs: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedDocs: null,"}}
[info] >    _materializedChanges: null, {"user":"  _materializedChanges: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedChanges: null,"}}
[info] >    _docs: [Function (anonymous)], {"user":"  _docs: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _docs: [Function (anonymous)],"}}
[info] >    _changes: [Function (anonymous)] {"user":"  _changes: [Function (anonymous)]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _changes: [Function (anonymous)]"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2024-10-18T11:45:04.453Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 87.3344ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 87.3344ms"}}
[debug] [2024-10-18T11:45:04.454Z] [worker-us-central1-totem-54d27de1-ff98-4e82-a5dd-a1bca19d4051]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-54d27de1-ff98-4e82-a5dd-a1bca19d4051]: IDLE"}}
[debug] [2024-10-18T11:45:04.455Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T11:45:04.455Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T11:45:04.455Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] >  [ {"user":"[","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ["}}
[info] >    { {"user":"  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   {"}}
[info] >      id: 'AIxFbug16kvF6PQU0ybK', {"user":"    id: 'AIxFbug16kvF6PQU0ybK',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     id: 'AIxFbug16kvF6PQU0ybK',"}}
[info] >      productId: '2PHnd6lM4TG6lP6Y5fOc', {"user":"    productId: '2PHnd6lM4TG6lP6Y5fOc',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     productId: '2PHnd6lM4TG6lP6Y5fOc',"}}
[info] >      qty: 1, {"user":"    qty: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     qty: 1,"}}
[info] >      netPrice: 1, {"user":"    netPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     netPrice: 1,"}}
[info] >      partnerComm: 1, {"user":"    partnerComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     partnerComm: 1,"}}
[info] >      companyComm: 1, {"user":"    companyComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     companyComm: 1,"}}
[info] >      pricePerPerson: 1, {"user":"    pricePerPerson: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     pricePerPerson: 1,"}}
[info] >      minTotalPrice: 1, {"user":"    minTotalPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     minTotalPrice: 1,"}}
[info] >      totalPrice: 3, {"user":"    totalPrice: 3,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totalPrice: 3,"}}
[info] >      date: '2024-10-18', {"user":"    date: '2024-10-18',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: '2024-10-18',"}}
[info] >      cityId: 'OiCHcy7zKcp2uU3zlMPU', {"user":"    cityId: 'OiCHcy7zKcp2uU3zlMPU',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     cityId: 'OiCHcy7zKcp2uU3zlMPU',"}}
[info] >      totemId: '1LoQvuu4KzHC1ux7qfOR', {"user":"    totemId: '1LoQvuu4KzHC1ux7qfOR',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totemId: '1LoQvuu4KzHC1ux7qfOR',"}}
[info] >      purchaseId: 'zuDSRe9m9p2oU9O4Kz1o', {"user":"    purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',"}}
[info] >      customerId: 'rMuIfSk9AarUm73FZVtC', {"user":"    customerId: 'rMuIfSk9AarUm73FZVtC',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     customerId: 'rMuIfSk9AarUm73FZVtC',"}}
[info] >      timestamp: 1729177549038 {"user":"    timestamp: 1729177549038","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     timestamp: 1729177549038"}}
[info] >    } {"user":"  }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   }"}}
[info] >  ] {"user":"]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ]"}}
[debug] [2024-10-18T11:45:06.251Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T11:45:06.251Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T11:45:06.252Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T11:45:06.251Z"],"workRunningCount":1}
[debug] [2024-10-18T11:45:06.252Z] Accepted request GET /totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T11:45:06.256Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T11:45:06.256Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T11:45:06.257Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T11:45:06.258Z] [worker-us-central1-totem-54d27de1-ff98-4e82-a5dd-a1bca19d4051]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-54d27de1-ff98-4e82-a5dd-a1bca19d4051]: BUSY"}}
[debug] [2024-10-18T11:45:06.308Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 50.124ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 50.124ms"}}
[debug] [2024-10-18T11:45:06.311Z] [worker-us-central1-totem-54d27de1-ff98-4e82-a5dd-a1bca19d4051]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-54d27de1-ff98-4e82-a5dd-a1bca19d4051]: IDLE"}}
[debug] [2024-10-18T11:45:06.311Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T11:45:06.312Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T11:45:06.312Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T11:45:06.319Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T11:45:06.319Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T11:45:06.319Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T11:45:06.319Z"],"workRunningCount":1}
[debug] [2024-10-18T11:45:06.320Z] Accepted request GET /totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T11:45:06.321Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T11:45:06.321Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T11:45:06.321Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T11:45:06.322Z] [worker-us-central1-totem-54d27de1-ff98-4e82-a5dd-a1bca19d4051]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-54d27de1-ff98-4e82-a5dd-a1bca19d4051]: BUSY"}}
[info] >  QuerySnapshot { {"user":"QuerySnapshot {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m QuerySnapshot {"}}
[info] >    _query: Query { {"user":"  _query: Query {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _query: Query {"}}
[info] >      _firestore: Firestore { {"user":"    _firestore: Firestore {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _firestore: Firestore {"}}
[info] >        _settings: [Object], {"user":"      _settings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settings: [Object],"}}
[info] >        _settingsFrozen: true, {"user":"      _settingsFrozen: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settingsFrozen: true,"}}
[info] >        _serializer: [Serializer], {"user":"      _serializer: [Serializer],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer],"}}
[info] >        _projectId: 'totem-tour', {"user":"      _projectId: 'totem-tour',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _projectId: 'totem-tour',"}}
[info] >        _databaseId: '(default)', {"user":"      _databaseId: '(default)',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _databaseId: '(default)',"}}
[info] >        registeredListenersCount: 0, {"user":"      registeredListenersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       registeredListenersCount: 0,"}}
[info] >        bulkWritersCount: 0, {"user":"      bulkWritersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       bulkWritersCount: 0,"}}
[info] >        _traceUtil: DisabledTraceUtil {}, {"user":"      _traceUtil: DisabledTraceUtil {},","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _traceUtil: DisabledTraceUtil {},"}}
[info] >        _backoffSettings: [Object], {"user":"      _backoffSettings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _backoffSettings: [Object],"}}
[info] >        _clientPool: [ClientPool], {"user":"      _clientPool: [ClientPool],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _clientPool: [ClientPool],"}}
[info] >        _gax: [Object] {"user":"      _gax: [Object]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _gax: [Object]"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _queryOptions: QueryOptions { {"user":"    _queryOptions: QueryOptions {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryOptions: QueryOptions {"}}
[info] >        parentPath: [ResourcePath], {"user":"      parentPath: [ResourcePath],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       parentPath: [ResourcePath],"}}
[info] >        collectionId: 'purchaseItems', {"user":"      collectionId: 'purchaseItems',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       collectionId: 'purchaseItems',"}}
[info] >        converter: [Object], {"user":"      converter: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       converter: [Object],"}}
[info] >        allDescendants: false, {"user":"      allDescendants: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allDescendants: false,"}}
[info] >        filters: [Array], {"user":"      filters: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       filters: [Array],"}}
[info] >        fieldOrders: [Array], {"user":"      fieldOrders: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       fieldOrders: [Array],"}}
[info] >        startAt: undefined, {"user":"      startAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       startAt: undefined,"}}
[info] >        endAt: undefined, {"user":"      endAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       endAt: undefined,"}}
[info] >        limit: undefined, {"user":"      limit: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limit: undefined,"}}
[info] >        limitType: undefined, {"user":"      limitType: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limitType: undefined,"}}
[info] >        offset: undefined, {"user":"      offset: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       offset: undefined,"}}
[info] >        projection: undefined, {"user":"      projection: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       projection: undefined,"}}
[info] >        kindless: false, {"user":"      kindless: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       kindless: false,"}}
[info] >        requireConsistency: true {"user":"      requireConsistency: true","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       requireConsistency: true"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _serializer: Serializer { {"user":"    _serializer: Serializer {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _serializer: Serializer {"}}
[info] >        createReference: [Function (anonymous)], {"user":"      createReference: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createReference: [Function (anonymous)],"}}
[info] >        createInteger: [Function (anonymous)], {"user":"      createInteger: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createInteger: [Function (anonymous)],"}}
[info] >        allowUndefined: false {"user":"      allowUndefined: false","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allowUndefined: false"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _allowUndefined: false, {"user":"    _allowUndefined: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _allowUndefined: false,"}}
[info] >      _queryUtil: QueryUtil { {"user":"    _queryUtil: QueryUtil {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryUtil: QueryUtil {"}}
[info] >        _firestore: [Firestore], {"user":"      _firestore: [Firestore],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _firestore: [Firestore],"}}
[info] >        _queryOptions: [QueryOptions], {"user":"      _queryOptions: [QueryOptions],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _queryOptions: [QueryOptions],"}}
[info] >        _serializer: [Serializer] {"user":"      _serializer: [Serializer]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer]"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    _readTime: Timestamp { _seconds: 1729251905, _nanoseconds: 942771000 }, {"user":"  _readTime: Timestamp { _seconds: 1729251905, _nanoseconds: 942771000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _readTime: Timestamp { _seconds: 1729251905, _nanoseconds: 942771000 },"}}
[info] >    _size: 1, {"user":"  _size: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _size: 1,"}}
[info] >    _materializedDocs: null, {"user":"  _materializedDocs: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedDocs: null,"}}
[info] >    _materializedChanges: null, {"user":"  _materializedChanges: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedChanges: null,"}}
[info] >    _docs: [Function (anonymous)], {"user":"  _docs: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _docs: [Function (anonymous)],"}}
[info] >    _changes: [Function (anonymous)] {"user":"  _changes: [Function (anonymous)]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _changes: [Function (anonymous)]"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2024-10-18T11:45:06.395Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 73.181ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 73.181ms"}}
[debug] [2024-10-18T11:45:06.396Z] [worker-us-central1-totem-54d27de1-ff98-4e82-a5dd-a1bca19d4051]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-54d27de1-ff98-4e82-a5dd-a1bca19d4051]: IDLE"}}
[debug] [2024-10-18T11:45:06.396Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T11:45:06.396Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T11:45:06.396Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] >  [ {"user":"[","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ["}}
[info] >    { {"user":"  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   {"}}
[info] >      id: 'AIxFbug16kvF6PQU0ybK', {"user":"    id: 'AIxFbug16kvF6PQU0ybK',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     id: 'AIxFbug16kvF6PQU0ybK',"}}
[info] >      productId: '2PHnd6lM4TG6lP6Y5fOc', {"user":"    productId: '2PHnd6lM4TG6lP6Y5fOc',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     productId: '2PHnd6lM4TG6lP6Y5fOc',"}}
[info] >      qty: 1, {"user":"    qty: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     qty: 1,"}}
[info] >      netPrice: 1, {"user":"    netPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     netPrice: 1,"}}
[info] >      partnerComm: 1, {"user":"    partnerComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     partnerComm: 1,"}}
[info] >      companyComm: 1, {"user":"    companyComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     companyComm: 1,"}}
[info] >      pricePerPerson: 1, {"user":"    pricePerPerson: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     pricePerPerson: 1,"}}
[info] >      minTotalPrice: 1, {"user":"    minTotalPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     minTotalPrice: 1,"}}
[info] >      totalPrice: 3, {"user":"    totalPrice: 3,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totalPrice: 3,"}}
[info] >      date: '2024-10-18', {"user":"    date: '2024-10-18',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: '2024-10-18',"}}
[info] >      cityId: 'OiCHcy7zKcp2uU3zlMPU', {"user":"    cityId: 'OiCHcy7zKcp2uU3zlMPU',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     cityId: 'OiCHcy7zKcp2uU3zlMPU',"}}
[info] >      totemId: '1LoQvuu4KzHC1ux7qfOR', {"user":"    totemId: '1LoQvuu4KzHC1ux7qfOR',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totemId: '1LoQvuu4KzHC1ux7qfOR',"}}
[info] >      purchaseId: 'zuDSRe9m9p2oU9O4Kz1o', {"user":"    purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',"}}
[info] >      customerId: 'rMuIfSk9AarUm73FZVtC', {"user":"    customerId: 'rMuIfSk9AarUm73FZVtC',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     customerId: 'rMuIfSk9AarUm73FZVtC',"}}
[info] >      timestamp: 1729177549038 {"user":"    timestamp: 1729177549038","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     timestamp: 1729177549038"}}
[info] >    } {"user":"  }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   }"}}
[info] >  ] {"user":"]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ]"}}
[debug] [2024-10-18T11:45:37.110Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T11:45:37.110Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T11:45:37.110Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T11:45:37.110Z"],"workRunningCount":1}
[debug] [2024-10-18T11:45:37.110Z] Accepted request GET /totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T11:45:37.113Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T11:45:37.113Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T11:45:37.113Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T11:45:37.114Z] [worker-us-central1-totem-54d27de1-ff98-4e82-a5dd-a1bca19d4051]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-54d27de1-ff98-4e82-a5dd-a1bca19d4051]: BUSY"}}
[debug] [2024-10-18T11:45:37.155Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 40.7303ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 40.7303ms"}}
[debug] [2024-10-18T11:45:37.156Z] [worker-us-central1-totem-54d27de1-ff98-4e82-a5dd-a1bca19d4051]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-54d27de1-ff98-4e82-a5dd-a1bca19d4051]: IDLE"}}
[debug] [2024-10-18T11:45:37.157Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T11:45:37.157Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T11:45:37.157Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T11:45:37.160Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T11:45:37.160Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T11:45:37.160Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T11:45:37.160Z"],"workRunningCount":1}
[debug] [2024-10-18T11:45:37.160Z] Accepted request GET /totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T11:45:37.162Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T11:45:37.162Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T11:45:37.162Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T11:45:37.162Z] [worker-us-central1-totem-54d27de1-ff98-4e82-a5dd-a1bca19d4051]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-54d27de1-ff98-4e82-a5dd-a1bca19d4051]: BUSY"}}
[info] >  QuerySnapshot { {"user":"QuerySnapshot {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m QuerySnapshot {"}}
[info] >    _query: Query { {"user":"  _query: Query {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _query: Query {"}}
[info] >      _firestore: Firestore { {"user":"    _firestore: Firestore {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _firestore: Firestore {"}}
[info] >        _settings: [Object], {"user":"      _settings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settings: [Object],"}}
[info] >        _settingsFrozen: true, {"user":"      _settingsFrozen: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settingsFrozen: true,"}}
[info] >        _serializer: [Serializer], {"user":"      _serializer: [Serializer],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer],"}}
[info] >        _projectId: 'totem-tour', {"user":"      _projectId: 'totem-tour',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _projectId: 'totem-tour',"}}
[info] >        _databaseId: '(default)', {"user":"      _databaseId: '(default)',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _databaseId: '(default)',"}}
[info] >        registeredListenersCount: 0, {"user":"      registeredListenersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       registeredListenersCount: 0,"}}
[info] >        bulkWritersCount: 0, {"user":"      bulkWritersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       bulkWritersCount: 0,"}}
[info] >        _traceUtil: DisabledTraceUtil {}, {"user":"      _traceUtil: DisabledTraceUtil {},","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _traceUtil: DisabledTraceUtil {},"}}
[info] >        _backoffSettings: [Object], {"user":"      _backoffSettings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _backoffSettings: [Object],"}}
[info] >        _clientPool: [ClientPool], {"user":"      _clientPool: [ClientPool],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _clientPool: [ClientPool],"}}
[info] >        _gax: [Object] {"user":"      _gax: [Object]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _gax: [Object]"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _queryOptions: QueryOptions { {"user":"    _queryOptions: QueryOptions {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryOptions: QueryOptions {"}}
[info] >        parentPath: [ResourcePath], {"user":"      parentPath: [ResourcePath],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       parentPath: [ResourcePath],"}}
[info] >        collectionId: 'purchaseItems', {"user":"      collectionId: 'purchaseItems',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       collectionId: 'purchaseItems',"}}
[info] >        converter: [Object], {"user":"      converter: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       converter: [Object],"}}
[info] >        allDescendants: false, {"user":"      allDescendants: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allDescendants: false,"}}
[info] >        filters: [Array], {"user":"      filters: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       filters: [Array],"}}
[info] >        fieldOrders: [Array], {"user":"      fieldOrders: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       fieldOrders: [Array],"}}
[info] >        startAt: undefined, {"user":"      startAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       startAt: undefined,"}}
[info] >        endAt: undefined, {"user":"      endAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       endAt: undefined,"}}
[info] >        limit: undefined, {"user":"      limit: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limit: undefined,"}}
[info] >        limitType: undefined, {"user":"      limitType: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limitType: undefined,"}}
[info] >        offset: undefined, {"user":"      offset: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       offset: undefined,"}}
[info] >        projection: undefined, {"user":"      projection: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       projection: undefined,"}}
[info] >        kindless: false, {"user":"      kindless: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       kindless: false,"}}
[info] >        requireConsistency: true {"user":"      requireConsistency: true","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       requireConsistency: true"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _serializer: Serializer { {"user":"    _serializer: Serializer {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _serializer: Serializer {"}}
[info] >        createReference: [Function (anonymous)], {"user":"      createReference: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createReference: [Function (anonymous)],"}}
[info] >        createInteger: [Function (anonymous)], {"user":"      createInteger: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createInteger: [Function (anonymous)],"}}
[info] >        allowUndefined: false {"user":"      allowUndefined: false","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allowUndefined: false"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _allowUndefined: false, {"user":"    _allowUndefined: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _allowUndefined: false,"}}
[info] >      _queryUtil: QueryUtil { {"user":"    _queryUtil: QueryUtil {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryUtil: QueryUtil {"}}
[info] >        _firestore: [Firestore], {"user":"      _firestore: [Firestore],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _firestore: [Firestore],"}}
[info] >        _queryOptions: [QueryOptions], {"user":"      _queryOptions: [QueryOptions],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _queryOptions: [QueryOptions],"}}
[info] >        _serializer: [Serializer] {"user":"      _serializer: [Serializer]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer]"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    _readTime: Timestamp { _seconds: 1729251936, _nanoseconds: 802372000 }, {"user":"  _readTime: Timestamp { _seconds: 1729251936, _nanoseconds: 802372000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _readTime: Timestamp { _seconds: 1729251936, _nanoseconds: 802372000 },"}}
[info] >    _size: 1, {"user":"  _size: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _size: 1,"}}
[info] >    _materializedDocs: null, {"user":"  _materializedDocs: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedDocs: null,"}}
[info] >    _materializedChanges: null, {"user":"  _materializedChanges: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedChanges: null,"}}
[info] >    _docs: [Function (anonymous)], {"user":"  _docs: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _docs: [Function (anonymous)],"}}
[info] >    _changes: [Function (anonymous)] {"user":"  _changes: [Function (anonymous)]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _changes: [Function (anonymous)]"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2024-10-18T11:45:37.244Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 81.6327ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 81.6327ms"}}
[debug] [2024-10-18T11:45:37.245Z] [worker-us-central1-totem-54d27de1-ff98-4e82-a5dd-a1bca19d4051]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-54d27de1-ff98-4e82-a5dd-a1bca19d4051]: IDLE"}}
[debug] [2024-10-18T11:45:37.245Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T11:45:37.245Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T11:45:37.245Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] >  [ {"user":"[","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ["}}
[info] >    { {"user":"  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   {"}}
[info] >      id: 'AIxFbug16kvF6PQU0ybK', {"user":"    id: 'AIxFbug16kvF6PQU0ybK',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     id: 'AIxFbug16kvF6PQU0ybK',"}}
[info] >      productId: '2PHnd6lM4TG6lP6Y5fOc', {"user":"    productId: '2PHnd6lM4TG6lP6Y5fOc',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     productId: '2PHnd6lM4TG6lP6Y5fOc',"}}
[info] >      qty: 1, {"user":"    qty: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     qty: 1,"}}
[info] >      netPrice: 1, {"user":"    netPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     netPrice: 1,"}}
[info] >      partnerComm: 1, {"user":"    partnerComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     partnerComm: 1,"}}
[info] >      companyComm: 1, {"user":"    companyComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     companyComm: 1,"}}
[info] >      pricePerPerson: 1, {"user":"    pricePerPerson: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     pricePerPerson: 1,"}}
[info] >      minTotalPrice: 1, {"user":"    minTotalPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     minTotalPrice: 1,"}}
[info] >      totalPrice: 3, {"user":"    totalPrice: 3,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totalPrice: 3,"}}
[info] >      date: '2024-10-18', {"user":"    date: '2024-10-18',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: '2024-10-18',"}}
[info] >      cityId: 'OiCHcy7zKcp2uU3zlMPU', {"user":"    cityId: 'OiCHcy7zKcp2uU3zlMPU',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     cityId: 'OiCHcy7zKcp2uU3zlMPU',"}}
[info] >      totemId: '1LoQvuu4KzHC1ux7qfOR', {"user":"    totemId: '1LoQvuu4KzHC1ux7qfOR',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totemId: '1LoQvuu4KzHC1ux7qfOR',"}}
[info] >      purchaseId: 'zuDSRe9m9p2oU9O4Kz1o', {"user":"    purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',"}}
[info] >      customerId: 'rMuIfSk9AarUm73FZVtC', {"user":"    customerId: 'rMuIfSk9AarUm73FZVtC',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     customerId: 'rMuIfSk9AarUm73FZVtC',"}}
[info] >      timestamp: 1729177549038 {"user":"    timestamp: 1729177549038","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     timestamp: 1729177549038"}}
[info] >    } {"user":"  }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   }"}}
[info] >  ] {"user":"]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ]"}}
[debug] [2024-10-18T11:45:55.050Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T11:45:55.050Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T11:45:55.051Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T11:45:55.050Z"],"workRunningCount":1}
[debug] [2024-10-18T11:45:55.051Z] Accepted request GET /totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T11:45:55.053Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T11:45:55.053Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T11:45:55.053Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T11:45:55.054Z] [worker-us-central1-totem-54d27de1-ff98-4e82-a5dd-a1bca19d4051]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-54d27de1-ff98-4e82-a5dd-a1bca19d4051]: BUSY"}}
[debug] [2024-10-18T11:45:55.091Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 37.9898ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 37.9898ms"}}
[debug] [2024-10-18T11:45:55.094Z] [worker-us-central1-totem-54d27de1-ff98-4e82-a5dd-a1bca19d4051]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-54d27de1-ff98-4e82-a5dd-a1bca19d4051]: IDLE"}}
[debug] [2024-10-18T11:45:55.094Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T11:45:55.095Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T11:45:55.095Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T11:45:55.100Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T11:45:55.100Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T11:45:55.100Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T11:45:55.100Z"],"workRunningCount":1}
[debug] [2024-10-18T11:45:55.101Z] Accepted request GET /totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T11:45:55.106Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T11:45:55.106Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T11:45:55.106Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T11:45:55.108Z] [worker-us-central1-totem-54d27de1-ff98-4e82-a5dd-a1bca19d4051]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-54d27de1-ff98-4e82-a5dd-a1bca19d4051]: BUSY"}}
[info] >  QuerySnapshot { {"user":"QuerySnapshot {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m QuerySnapshot {"}}
[info] >    _query: Query { {"user":"  _query: Query {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _query: Query {"}}
[info] >      _firestore: Firestore { {"user":"    _firestore: Firestore {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _firestore: Firestore {"}}
[info] >        _settings: [Object], {"user":"      _settings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settings: [Object],"}}
[info] >        _settingsFrozen: true, {"user":"      _settingsFrozen: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settingsFrozen: true,"}}
[info] >        _serializer: [Serializer], {"user":"      _serializer: [Serializer],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer],"}}
[info] >        _projectId: 'totem-tour', {"user":"      _projectId: 'totem-tour',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _projectId: 'totem-tour',"}}
[info] >        _databaseId: '(default)', {"user":"      _databaseId: '(default)',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _databaseId: '(default)',"}}
[info] >        registeredListenersCount: 0, {"user":"      registeredListenersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       registeredListenersCount: 0,"}}
[info] >        bulkWritersCount: 0, {"user":"      bulkWritersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       bulkWritersCount: 0,"}}
[info] >        _traceUtil: DisabledTraceUtil {}, {"user":"      _traceUtil: DisabledTraceUtil {},","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _traceUtil: DisabledTraceUtil {},"}}
[info] >        _backoffSettings: [Object], {"user":"      _backoffSettings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _backoffSettings: [Object],"}}
[info] >        _clientPool: [ClientPool], {"user":"      _clientPool: [ClientPool],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _clientPool: [ClientPool],"}}
[info] >        _gax: [Object] {"user":"      _gax: [Object]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _gax: [Object]"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _queryOptions: QueryOptions { {"user":"    _queryOptions: QueryOptions {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryOptions: QueryOptions {"}}
[info] >        parentPath: [ResourcePath], {"user":"      parentPath: [ResourcePath],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       parentPath: [ResourcePath],"}}
[info] >        collectionId: 'purchaseItems', {"user":"      collectionId: 'purchaseItems',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       collectionId: 'purchaseItems',"}}
[info] >        converter: [Object], {"user":"      converter: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       converter: [Object],"}}
[info] >        allDescendants: false, {"user":"      allDescendants: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allDescendants: false,"}}
[info] >        filters: [Array], {"user":"      filters: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       filters: [Array],"}}
[info] >        fieldOrders: [Array], {"user":"      fieldOrders: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       fieldOrders: [Array],"}}
[info] >        startAt: undefined, {"user":"      startAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       startAt: undefined,"}}
[info] >        endAt: undefined, {"user":"      endAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       endAt: undefined,"}}
[info] >        limit: undefined, {"user":"      limit: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limit: undefined,"}}
[info] >        limitType: undefined, {"user":"      limitType: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limitType: undefined,"}}
[info] >        offset: undefined, {"user":"      offset: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       offset: undefined,"}}
[info] >        projection: undefined, {"user":"      projection: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       projection: undefined,"}}
[info] >        kindless: false, {"user":"      kindless: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       kindless: false,"}}
[info] >        requireConsistency: true {"user":"      requireConsistency: true","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       requireConsistency: true"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _serializer: Serializer { {"user":"    _serializer: Serializer {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _serializer: Serializer {"}}
[info] >        createReference: [Function (anonymous)], {"user":"      createReference: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createReference: [Function (anonymous)],"}}
[info] >        createInteger: [Function (anonymous)], {"user":"      createInteger: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createInteger: [Function (anonymous)],"}}
[info] >        allowUndefined: false {"user":"      allowUndefined: false","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allowUndefined: false"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _allowUndefined: false, {"user":"    _allowUndefined: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _allowUndefined: false,"}}
[info] >      _queryUtil: QueryUtil { {"user":"    _queryUtil: QueryUtil {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryUtil: QueryUtil {"}}
[info] >        _firestore: [Firestore], {"user":"      _firestore: [Firestore],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _firestore: [Firestore],"}}
[info] >        _queryOptions: [QueryOptions], {"user":"      _queryOptions: [QueryOptions],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _queryOptions: [QueryOptions],"}}
[info] >        _serializer: [Serializer] {"user":"      _serializer: [Serializer]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer]"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    _readTime: Timestamp { _seconds: 1729251954, _nanoseconds: 731998000 }, {"user":"  _readTime: Timestamp { _seconds: 1729251954, _nanoseconds: 731998000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _readTime: Timestamp { _seconds: 1729251954, _nanoseconds: 731998000 },"}}
[info] >    _size: 1, {"user":"  _size: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _size: 1,"}}
[info] >    _materializedDocs: null, {"user":"  _materializedDocs: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedDocs: null,"}}
[info] >    _materializedChanges: null, {"user":"  _materializedChanges: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedChanges: null,"}}
[info] >    _docs: [Function (anonymous)], {"user":"  _docs: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _docs: [Function (anonymous)],"}}
[info] >    _changes: [Function (anonymous)] {"user":"  _changes: [Function (anonymous)]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _changes: [Function (anonymous)]"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2024-10-18T11:45:55.177Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 69.5413ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 69.5413ms"}}
[debug] [2024-10-18T11:45:55.181Z] [worker-us-central1-totem-54d27de1-ff98-4e82-a5dd-a1bca19d4051]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-54d27de1-ff98-4e82-a5dd-a1bca19d4051]: IDLE"}}
[debug] [2024-10-18T11:45:55.181Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T11:45:55.181Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T11:45:55.181Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] >  [ {"user":"[","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ["}}
[info] >    { {"user":"  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   {"}}
[info] >      id: 'AIxFbug16kvF6PQU0ybK', {"user":"    id: 'AIxFbug16kvF6PQU0ybK',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     id: 'AIxFbug16kvF6PQU0ybK',"}}
[info] >      productId: '2PHnd6lM4TG6lP6Y5fOc', {"user":"    productId: '2PHnd6lM4TG6lP6Y5fOc',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     productId: '2PHnd6lM4TG6lP6Y5fOc',"}}
[info] >      qty: 1, {"user":"    qty: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     qty: 1,"}}
[info] >      netPrice: 1, {"user":"    netPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     netPrice: 1,"}}
[info] >      partnerComm: 1, {"user":"    partnerComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     partnerComm: 1,"}}
[info] >      companyComm: 1, {"user":"    companyComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     companyComm: 1,"}}
[info] >      pricePerPerson: 1, {"user":"    pricePerPerson: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     pricePerPerson: 1,"}}
[info] >      minTotalPrice: 1, {"user":"    minTotalPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     minTotalPrice: 1,"}}
[info] >      totalPrice: 3, {"user":"    totalPrice: 3,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totalPrice: 3,"}}
[info] >      date: '2024-10-18', {"user":"    date: '2024-10-18',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: '2024-10-18',"}}
[info] >      cityId: 'OiCHcy7zKcp2uU3zlMPU', {"user":"    cityId: 'OiCHcy7zKcp2uU3zlMPU',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     cityId: 'OiCHcy7zKcp2uU3zlMPU',"}}
[info] >      totemId: '1LoQvuu4KzHC1ux7qfOR', {"user":"    totemId: '1LoQvuu4KzHC1ux7qfOR',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totemId: '1LoQvuu4KzHC1ux7qfOR',"}}
[info] >      purchaseId: 'zuDSRe9m9p2oU9O4Kz1o', {"user":"    purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',"}}
[info] >      customerId: 'rMuIfSk9AarUm73FZVtC', {"user":"    customerId: 'rMuIfSk9AarUm73FZVtC',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     customerId: 'rMuIfSk9AarUm73FZVtC',"}}
[info] >      timestamp: 1729177549038 {"user":"    timestamp: 1729177549038","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     timestamp: 1729177549038"}}
[info] >    } {"user":"  }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   }"}}
[info] >  ] {"user":"]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ]"}}
[debug] [2024-10-18T11:46:08.246Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T11:46:08.246Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T11:46:08.247Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T11:46:08.246Z"],"workRunningCount":1}
[debug] [2024-10-18T11:46:08.247Z] Accepted request GET /totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T11:46:08.249Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T11:46:08.249Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T11:46:08.249Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T11:46:08.250Z] [worker-us-central1-totem-54d27de1-ff98-4e82-a5dd-a1bca19d4051]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-54d27de1-ff98-4e82-a5dd-a1bca19d4051]: BUSY"}}
[debug] [2024-10-18T11:46:08.292Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 41.8066ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 41.8066ms"}}
[debug] [2024-10-18T11:46:08.293Z] [worker-us-central1-totem-54d27de1-ff98-4e82-a5dd-a1bca19d4051]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-54d27de1-ff98-4e82-a5dd-a1bca19d4051]: IDLE"}}
[debug] [2024-10-18T11:46:08.293Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T11:46:08.293Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T11:46:08.293Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T11:46:08.296Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T11:46:08.296Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T11:46:08.297Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T11:46:08.296Z"],"workRunningCount":1}
[debug] [2024-10-18T11:46:08.297Z] Accepted request GET /totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T11:46:08.299Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T11:46:08.299Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T11:46:08.299Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T11:46:08.300Z] [worker-us-central1-totem-54d27de1-ff98-4e82-a5dd-a1bca19d4051]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-54d27de1-ff98-4e82-a5dd-a1bca19d4051]: BUSY"}}
[info] >  QuerySnapshot { {"user":"QuerySnapshot {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m QuerySnapshot {"}}
[info] >    _query: Query { {"user":"  _query: Query {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _query: Query {"}}
[info] >      _firestore: Firestore { {"user":"    _firestore: Firestore {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _firestore: Firestore {"}}
[info] >        _settings: [Object], {"user":"      _settings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settings: [Object],"}}
[info] >        _settingsFrozen: true, {"user":"      _settingsFrozen: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settingsFrozen: true,"}}
[info] >        _serializer: [Serializer], {"user":"      _serializer: [Serializer],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer],"}}
[info] >        _projectId: 'totem-tour', {"user":"      _projectId: 'totem-tour',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _projectId: 'totem-tour',"}}
[info] >        _databaseId: '(default)', {"user":"      _databaseId: '(default)',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _databaseId: '(default)',"}}
[info] >        registeredListenersCount: 0, {"user":"      registeredListenersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       registeredListenersCount: 0,"}}
[info] >        bulkWritersCount: 0, {"user":"      bulkWritersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       bulkWritersCount: 0,"}}
[info] >        _traceUtil: DisabledTraceUtil {}, {"user":"      _traceUtil: DisabledTraceUtil {},","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _traceUtil: DisabledTraceUtil {},"}}
[info] >        _backoffSettings: [Object], {"user":"      _backoffSettings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _backoffSettings: [Object],"}}
[info] >        _clientPool: [ClientPool], {"user":"      _clientPool: [ClientPool],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _clientPool: [ClientPool],"}}
[info] >        _gax: [Object] {"user":"      _gax: [Object]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _gax: [Object]"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _queryOptions: QueryOptions { {"user":"    _queryOptions: QueryOptions {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryOptions: QueryOptions {"}}
[info] >        parentPath: [ResourcePath], {"user":"      parentPath: [ResourcePath],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       parentPath: [ResourcePath],"}}
[info] >        collectionId: 'purchaseItems', {"user":"      collectionId: 'purchaseItems',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       collectionId: 'purchaseItems',"}}
[info] >        converter: [Object], {"user":"      converter: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       converter: [Object],"}}
[info] >        allDescendants: false, {"user":"      allDescendants: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allDescendants: false,"}}
[info] >        filters: [Array], {"user":"      filters: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       filters: [Array],"}}
[info] >        fieldOrders: [Array], {"user":"      fieldOrders: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       fieldOrders: [Array],"}}
[info] >        startAt: undefined, {"user":"      startAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       startAt: undefined,"}}
[info] >        endAt: undefined, {"user":"      endAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       endAt: undefined,"}}
[info] >        limit: undefined, {"user":"      limit: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limit: undefined,"}}
[info] >        limitType: undefined, {"user":"      limitType: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limitType: undefined,"}}
[info] >        offset: undefined, {"user":"      offset: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       offset: undefined,"}}
[info] >        projection: undefined, {"user":"      projection: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       projection: undefined,"}}
[info] >        kindless: false, {"user":"      kindless: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       kindless: false,"}}
[info] >        requireConsistency: true {"user":"      requireConsistency: true","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       requireConsistency: true"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _serializer: Serializer { {"user":"    _serializer: Serializer {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _serializer: Serializer {"}}
[info] >        createReference: [Function (anonymous)], {"user":"      createReference: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createReference: [Function (anonymous)],"}}
[info] >        createInteger: [Function (anonymous)], {"user":"      createInteger: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createInteger: [Function (anonymous)],"}}
[info] >        allowUndefined: false {"user":"      allowUndefined: false","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allowUndefined: false"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _allowUndefined: false, {"user":"    _allowUndefined: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _allowUndefined: false,"}}
[info] >      _queryUtil: QueryUtil { {"user":"    _queryUtil: QueryUtil {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryUtil: QueryUtil {"}}
[info] >        _firestore: [Firestore], {"user":"      _firestore: [Firestore],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _firestore: [Firestore],"}}
[info] >        _queryOptions: [QueryOptions], {"user":"      _queryOptions: [QueryOptions],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _queryOptions: [QueryOptions],"}}
[info] >        _serializer: [Serializer] {"user":"      _serializer: [Serializer]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer]"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    _readTime: Timestamp { _seconds: 1729251967, _nanoseconds: 918978000 }, {"user":"  _readTime: Timestamp { _seconds: 1729251967, _nanoseconds: 918978000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _readTime: Timestamp { _seconds: 1729251967, _nanoseconds: 918978000 },"}}
[info] >    _size: 1, {"user":"  _size: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _size: 1,"}}
[info] >    _materializedDocs: null, {"user":"  _materializedDocs: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedDocs: null,"}}
[info] >    _materializedChanges: null, {"user":"  _materializedChanges: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedChanges: null,"}}
[info] >    _docs: [Function (anonymous)], {"user":"  _docs: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _docs: [Function (anonymous)],"}}
[info] >    _changes: [Function (anonymous)] {"user":"  _changes: [Function (anonymous)]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _changes: [Function (anonymous)]"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2024-10-18T11:46:08.364Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 64.6515ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 64.6515ms"}}
[debug] [2024-10-18T11:46:08.365Z] [worker-us-central1-totem-54d27de1-ff98-4e82-a5dd-a1bca19d4051]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-54d27de1-ff98-4e82-a5dd-a1bca19d4051]: IDLE"}}
[debug] [2024-10-18T11:46:08.365Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T11:46:08.365Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T11:46:08.365Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] >  [ {"user":"[","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ["}}
[info] >    { {"user":"  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   {"}}
[info] >      id: 'AIxFbug16kvF6PQU0ybK', {"user":"    id: 'AIxFbug16kvF6PQU0ybK',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     id: 'AIxFbug16kvF6PQU0ybK',"}}
[info] >      productId: '2PHnd6lM4TG6lP6Y5fOc', {"user":"    productId: '2PHnd6lM4TG6lP6Y5fOc',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     productId: '2PHnd6lM4TG6lP6Y5fOc',"}}
[info] >      qty: 1, {"user":"    qty: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     qty: 1,"}}
[info] >      netPrice: 1, {"user":"    netPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     netPrice: 1,"}}
[info] >      partnerComm: 1, {"user":"    partnerComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     partnerComm: 1,"}}
[info] >      companyComm: 1, {"user":"    companyComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     companyComm: 1,"}}
[info] >      pricePerPerson: 1, {"user":"    pricePerPerson: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     pricePerPerson: 1,"}}
[info] >      minTotalPrice: 1, {"user":"    minTotalPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     minTotalPrice: 1,"}}
[info] >      totalPrice: 3, {"user":"    totalPrice: 3,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totalPrice: 3,"}}
[info] >      date: '2024-10-18', {"user":"    date: '2024-10-18',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: '2024-10-18',"}}
[info] >      cityId: 'OiCHcy7zKcp2uU3zlMPU', {"user":"    cityId: 'OiCHcy7zKcp2uU3zlMPU',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     cityId: 'OiCHcy7zKcp2uU3zlMPU',"}}
[info] >      totemId: '1LoQvuu4KzHC1ux7qfOR', {"user":"    totemId: '1LoQvuu4KzHC1ux7qfOR',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totemId: '1LoQvuu4KzHC1ux7qfOR',"}}
[info] >      purchaseId: 'zuDSRe9m9p2oU9O4Kz1o', {"user":"    purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',"}}
[info] >      customerId: 'rMuIfSk9AarUm73FZVtC', {"user":"    customerId: 'rMuIfSk9AarUm73FZVtC',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     customerId: 'rMuIfSk9AarUm73FZVtC',"}}
[info] >      timestamp: 1729177549038 {"user":"    timestamp: 1729177549038","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     timestamp: 1729177549038"}}
[info] >    } {"user":"  }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   }"}}
[info] >  ] {"user":"]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ]"}}
[debug] [2024-10-18T11:46:15.880Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T11:46:15.879Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T11:46:15.880Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T11:46:15.879Z"],"workRunningCount":1}
[debug] [2024-10-18T11:46:15.880Z] Accepted request GET /totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T11:46:15.888Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T11:46:15.888Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T11:46:15.888Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T11:46:15.890Z] [worker-us-central1-totem-54d27de1-ff98-4e82-a5dd-a1bca19d4051]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-54d27de1-ff98-4e82-a5dd-a1bca19d4051]: BUSY"}}
[debug] [2024-10-18T11:46:15.939Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 49.101ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 49.101ms"}}
[debug] [2024-10-18T11:46:15.940Z] [worker-us-central1-totem-54d27de1-ff98-4e82-a5dd-a1bca19d4051]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-54d27de1-ff98-4e82-a5dd-a1bca19d4051]: IDLE"}}
[debug] [2024-10-18T11:46:15.940Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T11:46:15.940Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T11:46:15.941Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T11:46:15.944Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T11:46:15.944Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T11:46:15.944Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T11:46:15.944Z"],"workRunningCount":1}
[debug] [2024-10-18T11:46:15.944Z] Accepted request GET /totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T11:46:15.946Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T11:46:15.947Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T11:46:15.947Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T11:46:15.947Z] [worker-us-central1-totem-54d27de1-ff98-4e82-a5dd-a1bca19d4051]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-54d27de1-ff98-4e82-a5dd-a1bca19d4051]: BUSY"}}
[info] >  QuerySnapshot { {"user":"QuerySnapshot {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m QuerySnapshot {"}}
[info] >    _query: Query { {"user":"  _query: Query {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _query: Query {"}}
[info] >      _firestore: Firestore { {"user":"    _firestore: Firestore {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _firestore: Firestore {"}}
[info] >        _settings: [Object], {"user":"      _settings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settings: [Object],"}}
[info] >        _settingsFrozen: true, {"user":"      _settingsFrozen: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settingsFrozen: true,"}}
[info] >        _serializer: [Serializer], {"user":"      _serializer: [Serializer],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer],"}}
[info] >        _projectId: 'totem-tour', {"user":"      _projectId: 'totem-tour',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _projectId: 'totem-tour',"}}
[info] >        _databaseId: '(default)', {"user":"      _databaseId: '(default)',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _databaseId: '(default)',"}}
[info] >        registeredListenersCount: 0, {"user":"      registeredListenersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       registeredListenersCount: 0,"}}
[info] >        bulkWritersCount: 0, {"user":"      bulkWritersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       bulkWritersCount: 0,"}}
[info] >        _traceUtil: DisabledTraceUtil {}, {"user":"      _traceUtil: DisabledTraceUtil {},","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _traceUtil: DisabledTraceUtil {},"}}
[info] >        _backoffSettings: [Object], {"user":"      _backoffSettings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _backoffSettings: [Object],"}}
[info] >        _clientPool: [ClientPool], {"user":"      _clientPool: [ClientPool],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _clientPool: [ClientPool],"}}
[info] >        _gax: [Object] {"user":"      _gax: [Object]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _gax: [Object]"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _queryOptions: QueryOptions { {"user":"    _queryOptions: QueryOptions {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryOptions: QueryOptions {"}}
[info] >        parentPath: [ResourcePath], {"user":"      parentPath: [ResourcePath],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       parentPath: [ResourcePath],"}}
[info] >        collectionId: 'purchaseItems', {"user":"      collectionId: 'purchaseItems',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       collectionId: 'purchaseItems',"}}
[info] >        converter: [Object], {"user":"      converter: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       converter: [Object],"}}
[info] >        allDescendants: false, {"user":"      allDescendants: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allDescendants: false,"}}
[info] >        filters: [Array], {"user":"      filters: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       filters: [Array],"}}
[info] >        fieldOrders: [Array], {"user":"      fieldOrders: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       fieldOrders: [Array],"}}
[info] >        startAt: undefined, {"user":"      startAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       startAt: undefined,"}}
[info] >        endAt: undefined, {"user":"      endAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       endAt: undefined,"}}
[info] >        limit: undefined, {"user":"      limit: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limit: undefined,"}}
[info] >        limitType: undefined, {"user":"      limitType: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limitType: undefined,"}}
[info] >        offset: undefined, {"user":"      offset: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       offset: undefined,"}}
[info] >        projection: undefined, {"user":"      projection: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       projection: undefined,"}}
[info] >        kindless: false, {"user":"      kindless: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       kindless: false,"}}
[info] >        requireConsistency: true {"user":"      requireConsistency: true","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       requireConsistency: true"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _serializer: Serializer { {"user":"    _serializer: Serializer {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _serializer: Serializer {"}}
[info] >        createReference: [Function (anonymous)], {"user":"      createReference: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createReference: [Function (anonymous)],"}}
[info] >        createInteger: [Function (anonymous)], {"user":"      createInteger: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createInteger: [Function (anonymous)],"}}
[info] >        allowUndefined: false {"user":"      allowUndefined: false","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allowUndefined: false"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _allowUndefined: false, {"user":"    _allowUndefined: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _allowUndefined: false,"}}
[info] >      _queryUtil: QueryUtil { {"user":"    _queryUtil: QueryUtil {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryUtil: QueryUtil {"}}
[info] >        _firestore: [Firestore], {"user":"      _firestore: [Firestore],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _firestore: [Firestore],"}}
[info] >        _queryOptions: [QueryOptions], {"user":"      _queryOptions: [QueryOptions],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _queryOptions: [QueryOptions],"}}
[info] >        _serializer: [Serializer] {"user":"      _serializer: [Serializer]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer]"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    _readTime: Timestamp { _seconds: 1729251975, _nanoseconds: 568038000 }, {"user":"  _readTime: Timestamp { _seconds: 1729251975, _nanoseconds: 568038000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _readTime: Timestamp { _seconds: 1729251975, _nanoseconds: 568038000 },"}}
[info] >    _size: 1, {"user":"  _size: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _size: 1,"}}
[info] >    _materializedDocs: null, {"user":"  _materializedDocs: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedDocs: null,"}}
[info] >    _materializedChanges: null, {"user":"  _materializedChanges: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedChanges: null,"}}
[info] >    _docs: [Function (anonymous)], {"user":"  _docs: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _docs: [Function (anonymous)],"}}
[info] >    _changes: [Function (anonymous)] {"user":"  _changes: [Function (anonymous)]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _changes: [Function (anonymous)]"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2024-10-18T11:46:16.012Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 64.6964ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 64.6964ms"}}
[debug] [2024-10-18T11:46:16.013Z] [worker-us-central1-totem-54d27de1-ff98-4e82-a5dd-a1bca19d4051]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-54d27de1-ff98-4e82-a5dd-a1bca19d4051]: IDLE"}}
[debug] [2024-10-18T11:46:16.013Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T11:46:16.013Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T11:46:16.013Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] >  [ {"user":"[","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ["}}
[info] >    { {"user":"  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   {"}}
[info] >      id: 'AIxFbug16kvF6PQU0ybK', {"user":"    id: 'AIxFbug16kvF6PQU0ybK',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     id: 'AIxFbug16kvF6PQU0ybK',"}}
[info] >      productId: '2PHnd6lM4TG6lP6Y5fOc', {"user":"    productId: '2PHnd6lM4TG6lP6Y5fOc',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     productId: '2PHnd6lM4TG6lP6Y5fOc',"}}
[info] >      qty: 1, {"user":"    qty: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     qty: 1,"}}
[info] >      netPrice: 1, {"user":"    netPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     netPrice: 1,"}}
[info] >      partnerComm: 1, {"user":"    partnerComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     partnerComm: 1,"}}
[info] >      companyComm: 1, {"user":"    companyComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     companyComm: 1,"}}
[info] >      pricePerPerson: 1, {"user":"    pricePerPerson: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     pricePerPerson: 1,"}}
[info] >      minTotalPrice: 1, {"user":"    minTotalPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     minTotalPrice: 1,"}}
[info] >      totalPrice: 3, {"user":"    totalPrice: 3,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totalPrice: 3,"}}
[info] >      date: '2024-10-18', {"user":"    date: '2024-10-18',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: '2024-10-18',"}}
[info] >      cityId: 'OiCHcy7zKcp2uU3zlMPU', {"user":"    cityId: 'OiCHcy7zKcp2uU3zlMPU',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     cityId: 'OiCHcy7zKcp2uU3zlMPU',"}}
[info] >      totemId: '1LoQvuu4KzHC1ux7qfOR', {"user":"    totemId: '1LoQvuu4KzHC1ux7qfOR',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totemId: '1LoQvuu4KzHC1ux7qfOR',"}}
[info] >      purchaseId: 'zuDSRe9m9p2oU9O4Kz1o', {"user":"    purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',"}}
[info] >      customerId: 'rMuIfSk9AarUm73FZVtC', {"user":"    customerId: 'rMuIfSk9AarUm73FZVtC',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     customerId: 'rMuIfSk9AarUm73FZVtC',"}}
[info] >      timestamp: 1729177549038 {"user":"    timestamp: 1729177549038","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     timestamp: 1729177549038"}}
[info] >    } {"user":"  }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   }"}}
[info] >  ] {"user":"]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ]"}}
[debug] [2024-10-18T11:46:53.246Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T11:46:53.246Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T11:46:53.247Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T11:46:53.246Z"],"workRunningCount":1}
[debug] [2024-10-18T11:46:53.247Z] Accepted request GET /totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T11:46:53.250Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T11:46:53.250Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T11:46:53.250Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T11:46:53.251Z] [worker-us-central1-totem-54d27de1-ff98-4e82-a5dd-a1bca19d4051]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-54d27de1-ff98-4e82-a5dd-a1bca19d4051]: BUSY"}}
[debug] [2024-10-18T11:46:53.353Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 102.0321ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 102.0321ms"}}
[debug] [2024-10-18T11:46:53.356Z] [worker-us-central1-totem-54d27de1-ff98-4e82-a5dd-a1bca19d4051]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-54d27de1-ff98-4e82-a5dd-a1bca19d4051]: IDLE"}}
[debug] [2024-10-18T11:46:53.356Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T11:46:53.356Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T11:46:53.356Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T11:46:53.365Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T11:46:53.365Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T11:46:53.365Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T11:46:53.365Z"],"workRunningCount":1}
[debug] [2024-10-18T11:46:53.365Z] Accepted request GET /totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T11:46:53.372Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T11:46:53.372Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T11:46:53.373Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T11:46:53.374Z] [worker-us-central1-totem-54d27de1-ff98-4e82-a5dd-a1bca19d4051]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-54d27de1-ff98-4e82-a5dd-a1bca19d4051]: BUSY"}}
[info] >  QuerySnapshot { {"user":"QuerySnapshot {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m QuerySnapshot {"}}
[info] >    _query: Query { {"user":"  _query: Query {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _query: Query {"}}
[info] >      _firestore: Firestore { {"user":"    _firestore: Firestore {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _firestore: Firestore {"}}
[info] >        _settings: [Object], {"user":"      _settings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settings: [Object],"}}
[info] >        _settingsFrozen: true, {"user":"      _settingsFrozen: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settingsFrozen: true,"}}
[info] >        _serializer: [Serializer], {"user":"      _serializer: [Serializer],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer],"}}
[info] >        _projectId: 'totem-tour', {"user":"      _projectId: 'totem-tour',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _projectId: 'totem-tour',"}}
[info] >        _databaseId: '(default)', {"user":"      _databaseId: '(default)',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _databaseId: '(default)',"}}
[info] >        registeredListenersCount: 0, {"user":"      registeredListenersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       registeredListenersCount: 0,"}}
[info] >        bulkWritersCount: 0, {"user":"      bulkWritersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       bulkWritersCount: 0,"}}
[info] >        _traceUtil: DisabledTraceUtil {}, {"user":"      _traceUtil: DisabledTraceUtil {},","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _traceUtil: DisabledTraceUtil {},"}}
[info] >        _backoffSettings: [Object], {"user":"      _backoffSettings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _backoffSettings: [Object],"}}
[info] >        _clientPool: [ClientPool], {"user":"      _clientPool: [ClientPool],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _clientPool: [ClientPool],"}}
[info] >        _gax: [Object] {"user":"      _gax: [Object]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _gax: [Object]"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _queryOptions: QueryOptions { {"user":"    _queryOptions: QueryOptions {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryOptions: QueryOptions {"}}
[info] >        parentPath: [ResourcePath], {"user":"      parentPath: [ResourcePath],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       parentPath: [ResourcePath],"}}
[info] >        collectionId: 'purchaseItems', {"user":"      collectionId: 'purchaseItems',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       collectionId: 'purchaseItems',"}}
[info] >        converter: [Object], {"user":"      converter: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       converter: [Object],"}}
[info] >        allDescendants: false, {"user":"      allDescendants: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allDescendants: false,"}}
[info] >        filters: [Array], {"user":"      filters: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       filters: [Array],"}}
[info] >        fieldOrders: [Array], {"user":"      fieldOrders: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       fieldOrders: [Array],"}}
[info] >        startAt: undefined, {"user":"      startAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       startAt: undefined,"}}
[info] >        endAt: undefined, {"user":"      endAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       endAt: undefined,"}}
[info] >        limit: undefined, {"user":"      limit: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limit: undefined,"}}
[info] >        limitType: undefined, {"user":"      limitType: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limitType: undefined,"}}
[info] >        offset: undefined, {"user":"      offset: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       offset: undefined,"}}
[info] >        projection: undefined, {"user":"      projection: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       projection: undefined,"}}
[info] >        kindless: false, {"user":"      kindless: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       kindless: false,"}}
[info] >        requireConsistency: true {"user":"      requireConsistency: true","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       requireConsistency: true"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _serializer: Serializer { {"user":"    _serializer: Serializer {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _serializer: Serializer {"}}
[info] >        createReference: [Function (anonymous)], {"user":"      createReference: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createReference: [Function (anonymous)],"}}
[info] >        createInteger: [Function (anonymous)], {"user":"      createInteger: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createInteger: [Function (anonymous)],"}}
[info] >        allowUndefined: false {"user":"      allowUndefined: false","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allowUndefined: false"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _allowUndefined: false, {"user":"    _allowUndefined: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _allowUndefined: false,"}}
[info] >      _queryUtil: QueryUtil { {"user":"    _queryUtil: QueryUtil {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryUtil: QueryUtil {"}}
[info] >        _firestore: [Firestore], {"user":"      _firestore: [Firestore],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _firestore: [Firestore],"}}
[info] >        _queryOptions: [QueryOptions], {"user":"      _queryOptions: [QueryOptions],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _queryOptions: [QueryOptions],"}}
[info] >        _serializer: [Serializer] {"user":"      _serializer: [Serializer]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer]"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    _readTime: Timestamp { _seconds: 1729252013, _nanoseconds: 7261000 }, {"user":"  _readTime: Timestamp { _seconds: 1729252013, _nanoseconds: 7261000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _readTime: Timestamp { _seconds: 1729252013, _nanoseconds: 7261000 },"}}
[info] >    _size: 1, {"user":"  _size: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _size: 1,"}}
[info] >    _materializedDocs: null, {"user":"  _materializedDocs: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedDocs: null,"}}
[info] >    _materializedChanges: null, {"user":"  _materializedChanges: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedChanges: null,"}}
[info] >    _docs: [Function (anonymous)], {"user":"  _docs: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _docs: [Function (anonymous)],"}}
[info] >    _changes: [Function (anonymous)] {"user":"  _changes: [Function (anonymous)]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _changes: [Function (anonymous)]"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2024-10-18T11:46:53.457Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 83.3753ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 83.3753ms"}}
[debug] [2024-10-18T11:46:53.458Z] [worker-us-central1-totem-54d27de1-ff98-4e82-a5dd-a1bca19d4051]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-54d27de1-ff98-4e82-a5dd-a1bca19d4051]: IDLE"}}
[debug] [2024-10-18T11:46:53.458Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T11:46:53.458Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T11:46:53.459Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] >  [ {"user":"[","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ["}}
[info] >    { {"user":"  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   {"}}
[info] >      id: 'AIxFbug16kvF6PQU0ybK', {"user":"    id: 'AIxFbug16kvF6PQU0ybK',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     id: 'AIxFbug16kvF6PQU0ybK',"}}
[info] >      productId: '2PHnd6lM4TG6lP6Y5fOc', {"user":"    productId: '2PHnd6lM4TG6lP6Y5fOc',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     productId: '2PHnd6lM4TG6lP6Y5fOc',"}}
[info] >      qty: 1, {"user":"    qty: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     qty: 1,"}}
[info] >      netPrice: 1, {"user":"    netPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     netPrice: 1,"}}
[info] >      partnerComm: 1, {"user":"    partnerComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     partnerComm: 1,"}}
[info] >      companyComm: 1, {"user":"    companyComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     companyComm: 1,"}}
[info] >      pricePerPerson: 1, {"user":"    pricePerPerson: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     pricePerPerson: 1,"}}
[info] >      minTotalPrice: 1, {"user":"    minTotalPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     minTotalPrice: 1,"}}
[info] >      totalPrice: 3, {"user":"    totalPrice: 3,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totalPrice: 3,"}}
[info] >      date: '2024-10-18', {"user":"    date: '2024-10-18',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: '2024-10-18',"}}
[info] >      cityId: 'OiCHcy7zKcp2uU3zlMPU', {"user":"    cityId: 'OiCHcy7zKcp2uU3zlMPU',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     cityId: 'OiCHcy7zKcp2uU3zlMPU',"}}
[info] >      totemId: '1LoQvuu4KzHC1ux7qfOR', {"user":"    totemId: '1LoQvuu4KzHC1ux7qfOR',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totemId: '1LoQvuu4KzHC1ux7qfOR',"}}
[info] >      purchaseId: 'zuDSRe9m9p2oU9O4Kz1o', {"user":"    purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',"}}
[info] >      customerId: 'rMuIfSk9AarUm73FZVtC', {"user":"    customerId: 'rMuIfSk9AarUm73FZVtC',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     customerId: 'rMuIfSk9AarUm73FZVtC',"}}
[info] >      timestamp: 1729177549038 {"user":"    timestamp: 1729177549038","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     timestamp: 1729177549038"}}
[info] >    } {"user":"  }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   }"}}
[info] >  ] {"user":"]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ]"}}
[debug] [2024-10-18T11:47:05.263Z] File C:\Users\chris\projects\resourses\totem-tour\functions\src\index.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\chris\\projects\\resourses\\totem-tour\\functions\\src\\index.ts changed, reloading triggers"}}
[debug] [2024-10-18T11:47:06.269Z] Validating nodejs source
[warn] !  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] !  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2024-10-18T11:47:07.555Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "lint": "eslint --ext .js,.ts .",
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "lib/index.js",
  "dependencies": {
    "@types/mercadopago": "^1.5.11",
    "axios": "^1.7.7",
    "dayjs": "^1.11.13",
    "dotenv": "^16.4.5",
    "firebase": "^10.14.0",
    "firebase-admin": "^12.1.0",
    "firebase-functions": "^5.0.0",
    "mercadopago": "https://github.com/ChristianBarreto/sdk-nodejs/tarball/dist"
  },
  "devDependencies": {
    "@typescript-eslint/eslint-plugin": "^5.12.0",
    "@typescript-eslint/parser": "^5.12.0",
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-import": "^2.25.4",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^4.9.0"
  },
  "private": true
}
[debug] [2024-10-18T11:47:07.555Z] Building nodejs source
[debug] [2024-10-18T11:47:07.555Z] Failed to find version of module node: reached end of search path C:\Users\chris\projects\resourses\totem-tour\functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "20". Using node@20 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-10-18T11:47:07.557Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-10-18T11:47:07.564Z] Found firebase-functions binary at 'C:\Users\chris\projects\resourses\totem-tour\functions\node_modules\.bin\firebase-functions'
[debug] [2024-10-18T11:47:07.578Z] File C:\Users\chris\projects\resourses\totem-tour\functions\src\index.ts changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\chris\\projects\\resourses\\totem-tour\\functions\\src\\index.ts changed, reloading triggers"}}
[info] Serving at port 8697

[info] PRODUCTION false

[info] MP-KEY APP_USR-5803744304383341-101217-a2eda4ca0653c5d7dd87b55c9836c834-2032016489

[debug] [2024-10-18T11:47:08.227Z] Got response from /__/functions.yaml {"endpoints":{"totem":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"totem"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[debug] [2024-10-18T11:47:08.586Z] Validating nodejs source
[warn] !  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] !  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2024-10-18T11:47:09.728Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "lint": "eslint --ext .js,.ts .",
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "lib/index.js",
  "dependencies": {
    "@types/mercadopago": "^1.5.11",
    "axios": "^1.7.7",
    "dayjs": "^1.11.13",
    "dotenv": "^16.4.5",
    "firebase": "^10.14.0",
    "firebase-admin": "^12.1.0",
    "firebase-functions": "^5.0.0",
    "mercadopago": "https://github.com/ChristianBarreto/sdk-nodejs/tarball/dist"
  },
  "devDependencies": {
    "@typescript-eslint/eslint-plugin": "^5.12.0",
    "@typescript-eslint/parser": "^5.12.0",
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-import": "^2.25.4",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^4.9.0"
  },
  "private": true
}
[debug] [2024-10-18T11:47:09.728Z] Building nodejs source
[debug] [2024-10-18T11:47:09.728Z] Failed to find version of module node: reached end of search path C:\Users\chris\projects\resourses\totem-tour\functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "20". Using node@20 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-10-18T11:47:09.730Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-10-18T11:47:09.738Z] Found firebase-functions binary at 'C:\Users\chris\projects\resourses\totem-tour\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8265

[info] PRODUCTION false

[info] MP-KEY APP_USR-5803744304383341-101217-a2eda4ca0653c5d7dd87b55c9836c834-2032016489

[debug] [2024-10-18T11:47:10.328Z] Got response from /__/functions.yaml {"endpoints":{"totem":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"totem"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] +  functions: Loaded functions definitions from source: totem. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: totem."}}
[debug] [2024-10-18T11:47:13.255Z] [worker-pool] Shutting down IDLE worker (us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-totem)"}}
[debug] [2024-10-18T11:47:13.255Z] [worker-us-central1-totem-54d27de1-ff98-4e82-a5dd-a1bca19d4051]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-54d27de1-ff98-4e82-a5dd-a1bca19d4051]: FINISHING"}}
[debug] [2024-10-18T11:47:13.267Z] [worker-us-central1-totem-54d27de1-ff98-4e82-a5dd-a1bca19d4051]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-54d27de1-ff98-4e82-a5dd-a1bca19d4051]: exited"}}
[debug] [2024-10-18T11:47:13.267Z] [worker-us-central1-totem-54d27de1-ff98-4e82-a5dd-a1bca19d4051]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-54d27de1-ff98-4e82-a5dd-a1bca19d4051]: FINISHED"}}
[info] +  functions: Loaded functions definitions from source: totem. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: totem."}}
[debug] [2024-10-18T11:47:32.264Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T11:47:32.264Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T11:47:32.265Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T11:47:32.264Z"],"workRunningCount":1}
[debug] [2024-10-18T11:47:32.265Z] Accepted request GET /totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T11:47:32.270Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T11:47:32.270Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T11:47:32.270Z] [worker-pool] Cleaned up workers for us-central1-totem: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-totem: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-10-18T11:47:32.292Z] [worker-pool] addWorker(us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-totem)"}}
[debug] [2024-10-18T11:47:32.292Z] [worker-pool] Adding worker with key us-central1-totem, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-totem, total=1"}}
[debug] [2024-10-18T11:47:33.853Z] [runtime-status] [24248] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.5.0","resolution":"C:\\Users\\chris\\projects\\resourses\\totem-tour\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[runtime-status] [24248] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.5.0\",\"resolution\":\"C:\\\\Users\\\\chris\\\\projects\\\\resourses\\\\totem-tour\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2024-10-18T11:47:33.854Z] [runtime-status] [24248] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.1.1","resolution":"C:\\Users\\chris\\projects\\resourses\\totem-tour\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[runtime-status] [24248] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.1.1\",\"resolution\":\"C:\\\\Users\\\\chris\\\\projects\\\\resourses\\\\totem-tour\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-10-18T11:47:33.855Z] [runtime-status] [24248] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[runtime-status] [24248] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-10-18T11:47:33.856Z] [runtime-status] [24248] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.1.1","resolution":"C:\\Users\\chris\\projects\\resourses\\totem-tour\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[runtime-status] [24248] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.1.1\",\"resolution\":\"C:\\\\Users\\\\chris\\\\projects\\\\resourses\\\\totem-tour\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-10-18T11:47:34.125Z] [runtime-status] [24248] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[runtime-status] [24248] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-10-18T11:47:34.126Z] [runtime-status] [24248] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"5.1.1","resolution":"C:\\Users\\chris\\projects\\resourses\\totem-tour\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[runtime-status] [24248] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"5.1.1\",\"resolution\":\"C:\\\\Users\\\\chris\\\\projects\\\\resourses\\\\totem-tour\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2024-10-18T11:47:34.127Z] [runtime-status] [24248] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.1.1","resolution":"C:\\Users\\chris\\projects\\resourses\\totem-tour\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[runtime-status] [24248] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.1.1\",\"resolution\":\"C:\\\\Users\\\\chris\\\\projects\\\\resourses\\\\totem-tour\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-10-18T11:47:34.128Z] [runtime-status] [24248] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.5.0","resolution":"C:\\Users\\chris\\projects\\resourses\\totem-tour\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[runtime-status] [24248] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.5.0\",\"resolution\":\"C:\\\\Users\\\\chris\\\\projects\\\\resourses\\\\totem-tour\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2024-10-18T11:47:34.130Z] [runtime-status] [24248] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.1.1","resolution":"C:\\Users\\chris\\projects\\resourses\\totem-tour\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[runtime-status] [24248] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.1.1\",\"resolution\":\"C:\\\\Users\\\\chris\\\\projects\\\\resourses\\\\totem-tour\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-10-18T11:47:34.130Z] [runtime-status] [24248] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"12.5.0","resolution":"C:\\Users\\chris\\projects\\resourses\\totem-tour\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[runtime-status] [24248] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"12.5.0\",\"resolution\":\"C:\\\\Users\\\\chris\\\\projects\\\\resourses\\\\totem-tour\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[info] >  PRODUCTION false {"user":"PRODUCTION false","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m PRODUCTION false"}}
[info] >  MP-KEY APP_USR-5803744304383341-101217-a2eda4ca0653c5d7dd87b55c9836c834-2032016489 {"user":"MP-KEY APP_USR-5803744304383341-101217-a2eda4ca0653c5d7dd87b55c9836c834-2032016489","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m MP-KEY APP_USR-5803744304383341-101217-a2eda4ca0653c5d7dd87b55c9836c834-2032016489"}}
[debug] [2024-10-18T11:47:34.318Z] [runtime-status] [24248] Functions runtime initialized. {"cwd":"C:\\Users\\chris\\projects\\resourses\\totem-tour\\functions","node_version":"20.10.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[runtime-status] [24248] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\chris\\\\projects\\\\resourses\\\\totem-tour\\\\functions\",\"node_version\":\"20.10.0\"}"}}
[debug] [2024-10-18T11:47:34.319Z] [runtime-status] [24248] Listening to port: \\?\pipe\fire_emu_a407361ef0440121 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[runtime-status] [24248] Listening to port: \\\\?\\pipe\\fire_emu_a407361ef0440121"}}
[debug] [2024-10-18T11:47:34.349Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T11:47:34.349Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T11:47:34.350Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[warn] !  Google API requested!
   - URL: "https://oauth2.googleapis.com/token"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Google API requested!\n   - URL: \"https://oauth2.googleapis.com/token\"\n   - Be careful, this may be a production service."}}
[debug] [2024-10-18T11:47:35.179Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 829.4677ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 829.4677ms"}}
[debug] [2024-10-18T11:47:35.180Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T11:47:35.180Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T11:47:35.180Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T11:47:35.180Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T11:47:35.183Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T11:47:35.183Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T11:47:35.184Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T11:47:35.183Z"],"workRunningCount":1}
[debug] [2024-10-18T11:47:35.184Z] Accepted request GET /totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T11:47:35.184Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T11:47:35.184Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T11:47:35.185Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T11:47:35.185Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[info] >  QuerySnapshot { {"user":"QuerySnapshot {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m QuerySnapshot {"}}
[info] >    _query: Query { {"user":"  _query: Query {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _query: Query {"}}
[info] >      _firestore: Firestore { {"user":"    _firestore: Firestore {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _firestore: Firestore {"}}
[info] >        _settings: [Object], {"user":"      _settings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settings: [Object],"}}
[info] >        _settingsFrozen: true, {"user":"      _settingsFrozen: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settingsFrozen: true,"}}
[info] >        _serializer: [Serializer], {"user":"      _serializer: [Serializer],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer],"}}
[info] >        _projectId: 'totem-tour', {"user":"      _projectId: 'totem-tour',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _projectId: 'totem-tour',"}}
[info] >        _databaseId: '(default)', {"user":"      _databaseId: '(default)',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _databaseId: '(default)',"}}
[info] >        registeredListenersCount: 0, {"user":"      registeredListenersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       registeredListenersCount: 0,"}}
[info] >        bulkWritersCount: 0, {"user":"      bulkWritersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       bulkWritersCount: 0,"}}
[info] >        _traceUtil: DisabledTraceUtil {}, {"user":"      _traceUtil: DisabledTraceUtil {},","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _traceUtil: DisabledTraceUtil {},"}}
[info] >        _backoffSettings: [Object], {"user":"      _backoffSettings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _backoffSettings: [Object],"}}
[info] >        _clientPool: [ClientPool], {"user":"      _clientPool: [ClientPool],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _clientPool: [ClientPool],"}}
[info] >        _gax: [Object] {"user":"      _gax: [Object]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _gax: [Object]"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _queryOptions: QueryOptions { {"user":"    _queryOptions: QueryOptions {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryOptions: QueryOptions {"}}
[info] >        parentPath: [ResourcePath], {"user":"      parentPath: [ResourcePath],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       parentPath: [ResourcePath],"}}
[info] >        collectionId: 'purchaseItems', {"user":"      collectionId: 'purchaseItems',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       collectionId: 'purchaseItems',"}}
[info] >        converter: [Object], {"user":"      converter: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       converter: [Object],"}}
[info] >        allDescendants: false, {"user":"      allDescendants: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allDescendants: false,"}}
[info] >        filters: [Array], {"user":"      filters: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       filters: [Array],"}}
[info] >        fieldOrders: [Array], {"user":"      fieldOrders: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       fieldOrders: [Array],"}}
[info] >        startAt: undefined, {"user":"      startAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       startAt: undefined,"}}
[info] >        endAt: undefined, {"user":"      endAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       endAt: undefined,"}}
[info] >        limit: undefined, {"user":"      limit: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limit: undefined,"}}
[info] >        limitType: undefined, {"user":"      limitType: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limitType: undefined,"}}
[info] >        offset: undefined, {"user":"      offset: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       offset: undefined,"}}
[info] >        projection: undefined, {"user":"      projection: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       projection: undefined,"}}
[info] >        kindless: false, {"user":"      kindless: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       kindless: false,"}}
[info] >        requireConsistency: true {"user":"      requireConsistency: true","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       requireConsistency: true"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _serializer: Serializer { {"user":"    _serializer: Serializer {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _serializer: Serializer {"}}
[info] >        createReference: [Function (anonymous)], {"user":"      createReference: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createReference: [Function (anonymous)],"}}
[info] >        createInteger: [Function (anonymous)], {"user":"      createInteger: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createInteger: [Function (anonymous)],"}}
[info] >        allowUndefined: false {"user":"      allowUndefined: false","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allowUndefined: false"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _allowUndefined: false, {"user":"    _allowUndefined: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _allowUndefined: false,"}}
[info] >      _queryUtil: QueryUtil { {"user":"    _queryUtil: QueryUtil {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryUtil: QueryUtil {"}}
[info] >        _firestore: [Firestore], {"user":"      _firestore: [Firestore],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _firestore: [Firestore],"}}
[info] >        _queryOptions: [QueryOptions], {"user":"      _queryOptions: [QueryOptions],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _queryOptions: [QueryOptions],"}}
[info] >        _serializer: [Serializer] {"user":"      _serializer: [Serializer]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer]"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    _readTime: Timestamp { _seconds: 1729252054, _nanoseconds: 826024000 }, {"user":"  _readTime: Timestamp { _seconds: 1729252054, _nanoseconds: 826024000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _readTime: Timestamp { _seconds: 1729252054, _nanoseconds: 826024000 },"}}
[info] >    _size: 1, {"user":"  _size: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _size: 1,"}}
[info] >    _materializedDocs: null, {"user":"  _materializedDocs: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedDocs: null,"}}
[info] >    _materializedChanges: null, {"user":"  _materializedChanges: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedChanges: null,"}}
[info] >    _docs: [Function (anonymous)], {"user":"  _docs: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _docs: [Function (anonymous)],"}}
[info] >    _changes: [Function (anonymous)] {"user":"  _changes: [Function (anonymous)]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _changes: [Function (anonymous)]"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2024-10-18T11:47:35.272Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 86.5368ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 86.5368ms"}}
[debug] [2024-10-18T11:47:35.272Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T11:47:35.272Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T11:47:35.272Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T11:47:35.273Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] >  [ {"user":"[","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ["}}
[info] >    { {"user":"  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   {"}}
[info] >      id: 'AIxFbug16kvF6PQU0ybK', {"user":"    id: 'AIxFbug16kvF6PQU0ybK',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     id: 'AIxFbug16kvF6PQU0ybK',"}}
[info] >      productId: '2PHnd6lM4TG6lP6Y5fOc', {"user":"    productId: '2PHnd6lM4TG6lP6Y5fOc',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     productId: '2PHnd6lM4TG6lP6Y5fOc',"}}
[info] >      qty: 1, {"user":"    qty: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     qty: 1,"}}
[info] >      netPrice: 1, {"user":"    netPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     netPrice: 1,"}}
[info] >      partnerComm: 1, {"user":"    partnerComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     partnerComm: 1,"}}
[info] >      companyComm: 1, {"user":"    companyComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     companyComm: 1,"}}
[info] >      pricePerPerson: 1, {"user":"    pricePerPerson: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     pricePerPerson: 1,"}}
[info] >      minTotalPrice: 1, {"user":"    minTotalPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     minTotalPrice: 1,"}}
[info] >      totalPrice: 3, {"user":"    totalPrice: 3,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totalPrice: 3,"}}
[info] >      date: '2024-10-18', {"user":"    date: '2024-10-18',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: '2024-10-18',"}}
[info] >      cityId: 'OiCHcy7zKcp2uU3zlMPU', {"user":"    cityId: 'OiCHcy7zKcp2uU3zlMPU',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     cityId: 'OiCHcy7zKcp2uU3zlMPU',"}}
[info] >      totemId: '1LoQvuu4KzHC1ux7qfOR', {"user":"    totemId: '1LoQvuu4KzHC1ux7qfOR',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totemId: '1LoQvuu4KzHC1ux7qfOR',"}}
[info] >      purchaseId: 'zuDSRe9m9p2oU9O4Kz1o', {"user":"    purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',"}}
[info] >      customerId: 'rMuIfSk9AarUm73FZVtC', {"user":"    customerId: 'rMuIfSk9AarUm73FZVtC',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     customerId: 'rMuIfSk9AarUm73FZVtC',"}}
[info] >      timestamp: 1729177549038 {"user":"    timestamp: 1729177549038","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     timestamp: 1729177549038"}}
[info] >    } {"user":"  }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   }"}}
[info] >  ] {"user":"]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ]"}}
[debug] [2024-10-18T11:47:36.246Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T11:47:36.246Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T11:47:36.246Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T11:47:36.246Z"],"workRunningCount":1}
[debug] [2024-10-18T11:47:36.246Z] Accepted request GET /totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T11:47:36.247Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T11:47:36.247Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T11:47:36.247Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T11:47:36.248Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[debug] [2024-10-18T11:47:36.286Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 38.2567ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 38.2567ms"}}
[debug] [2024-10-18T11:47:36.287Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T11:47:36.287Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T11:47:36.287Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T11:47:36.287Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T11:47:36.290Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T11:47:36.290Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T11:47:36.290Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T11:47:36.290Z"],"workRunningCount":1}
[debug] [2024-10-18T11:47:36.290Z] Accepted request GET /totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T11:47:36.292Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T11:47:36.292Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T11:47:36.293Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T11:47:36.293Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[info] >  QuerySnapshot { {"user":"QuerySnapshot {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m QuerySnapshot {"}}
[info] >    _query: Query { {"user":"  _query: Query {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _query: Query {"}}
[info] >      _firestore: Firestore { {"user":"    _firestore: Firestore {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _firestore: Firestore {"}}
[info] >        _settings: [Object], {"user":"      _settings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settings: [Object],"}}
[info] >        _settingsFrozen: true, {"user":"      _settingsFrozen: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settingsFrozen: true,"}}
[info] >        _serializer: [Serializer], {"user":"      _serializer: [Serializer],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer],"}}
[info] >        _projectId: 'totem-tour', {"user":"      _projectId: 'totem-tour',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _projectId: 'totem-tour',"}}
[info] >        _databaseId: '(default)', {"user":"      _databaseId: '(default)',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _databaseId: '(default)',"}}
[info] >        registeredListenersCount: 0, {"user":"      registeredListenersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       registeredListenersCount: 0,"}}
[info] >        bulkWritersCount: 0, {"user":"      bulkWritersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       bulkWritersCount: 0,"}}
[info] >        _traceUtil: DisabledTraceUtil {}, {"user":"      _traceUtil: DisabledTraceUtil {},","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _traceUtil: DisabledTraceUtil {},"}}
[info] >        _backoffSettings: [Object], {"user":"      _backoffSettings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _backoffSettings: [Object],"}}
[info] >        _clientPool: [ClientPool], {"user":"      _clientPool: [ClientPool],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _clientPool: [ClientPool],"}}
[info] >        _gax: [Object] {"user":"      _gax: [Object]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _gax: [Object]"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _queryOptions: QueryOptions { {"user":"    _queryOptions: QueryOptions {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryOptions: QueryOptions {"}}
[info] >        parentPath: [ResourcePath], {"user":"      parentPath: [ResourcePath],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       parentPath: [ResourcePath],"}}
[info] >        collectionId: 'purchaseItems', {"user":"      collectionId: 'purchaseItems',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       collectionId: 'purchaseItems',"}}
[info] >        converter: [Object], {"user":"      converter: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       converter: [Object],"}}
[info] >        allDescendants: false, {"user":"      allDescendants: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allDescendants: false,"}}
[info] >        filters: [Array], {"user":"      filters: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       filters: [Array],"}}
[info] >        fieldOrders: [Array], {"user":"      fieldOrders: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       fieldOrders: [Array],"}}
[info] >        startAt: undefined, {"user":"      startAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       startAt: undefined,"}}
[info] >        endAt: undefined, {"user":"      endAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       endAt: undefined,"}}
[info] >        limit: undefined, {"user":"      limit: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limit: undefined,"}}
[info] >        limitType: undefined, {"user":"      limitType: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limitType: undefined,"}}
[info] >        offset: undefined, {"user":"      offset: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       offset: undefined,"}}
[info] >        projection: undefined, {"user":"      projection: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       projection: undefined,"}}
[info] >        kindless: false, {"user":"      kindless: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       kindless: false,"}}
[info] >        requireConsistency: true {"user":"      requireConsistency: true","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       requireConsistency: true"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _serializer: Serializer { {"user":"    _serializer: Serializer {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _serializer: Serializer {"}}
[info] >        createReference: [Function (anonymous)], {"user":"      createReference: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createReference: [Function (anonymous)],"}}
[info] >        createInteger: [Function (anonymous)], {"user":"      createInteger: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createInteger: [Function (anonymous)],"}}
[info] >        allowUndefined: false {"user":"      allowUndefined: false","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allowUndefined: false"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _allowUndefined: false, {"user":"    _allowUndefined: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _allowUndefined: false,"}}
[info] >      _queryUtil: QueryUtil { {"user":"    _queryUtil: QueryUtil {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryUtil: QueryUtil {"}}
[info] >        _firestore: [Firestore], {"user":"      _firestore: [Firestore],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _firestore: [Firestore],"}}
[info] >        _queryOptions: [QueryOptions], {"user":"      _queryOptions: [QueryOptions],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _queryOptions: [QueryOptions],"}}
[info] >        _serializer: [Serializer] {"user":"      _serializer: [Serializer]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer]"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    _readTime: Timestamp { _seconds: 1729252055, _nanoseconds: 940489000 }, {"user":"  _readTime: Timestamp { _seconds: 1729252055, _nanoseconds: 940489000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _readTime: Timestamp { _seconds: 1729252055, _nanoseconds: 940489000 },"}}
[info] >    _size: 1, {"user":"  _size: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _size: 1,"}}
[info] >    _materializedDocs: null, {"user":"  _materializedDocs: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedDocs: null,"}}
[info] >    _materializedChanges: null, {"user":"  _materializedChanges: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedChanges: null,"}}
[info] >    _docs: [Function (anonymous)], {"user":"  _docs: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _docs: [Function (anonymous)],"}}
[info] >    _changes: [Function (anonymous)] {"user":"  _changes: [Function (anonymous)]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _changes: [Function (anonymous)]"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2024-10-18T11:47:36.403Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 110.1048ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 110.1048ms"}}
[debug] [2024-10-18T11:47:36.404Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T11:47:36.404Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T11:47:36.404Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T11:47:36.404Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] >  [ {"user":"[","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ["}}
[info] >    { {"user":"  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   {"}}
[info] >      id: 'AIxFbug16kvF6PQU0ybK', {"user":"    id: 'AIxFbug16kvF6PQU0ybK',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     id: 'AIxFbug16kvF6PQU0ybK',"}}
[info] >      productId: '2PHnd6lM4TG6lP6Y5fOc', {"user":"    productId: '2PHnd6lM4TG6lP6Y5fOc',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     productId: '2PHnd6lM4TG6lP6Y5fOc',"}}
[info] >      qty: 1, {"user":"    qty: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     qty: 1,"}}
[info] >      netPrice: 1, {"user":"    netPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     netPrice: 1,"}}
[info] >      partnerComm: 1, {"user":"    partnerComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     partnerComm: 1,"}}
[info] >      companyComm: 1, {"user":"    companyComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     companyComm: 1,"}}
[info] >      pricePerPerson: 1, {"user":"    pricePerPerson: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     pricePerPerson: 1,"}}
[info] >      minTotalPrice: 1, {"user":"    minTotalPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     minTotalPrice: 1,"}}
[info] >      totalPrice: 3, {"user":"    totalPrice: 3,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totalPrice: 3,"}}
[info] >      date: '2024-10-18', {"user":"    date: '2024-10-18',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: '2024-10-18',"}}
[info] >      cityId: 'OiCHcy7zKcp2uU3zlMPU', {"user":"    cityId: 'OiCHcy7zKcp2uU3zlMPU',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     cityId: 'OiCHcy7zKcp2uU3zlMPU',"}}
[info] >      totemId: '1LoQvuu4KzHC1ux7qfOR', {"user":"    totemId: '1LoQvuu4KzHC1ux7qfOR',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totemId: '1LoQvuu4KzHC1ux7qfOR',"}}
[info] >      purchaseId: 'zuDSRe9m9p2oU9O4Kz1o', {"user":"    purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',"}}
[info] >      customerId: 'rMuIfSk9AarUm73FZVtC', {"user":"    customerId: 'rMuIfSk9AarUm73FZVtC',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     customerId: 'rMuIfSk9AarUm73FZVtC',"}}
[info] >      timestamp: 1729177549038 {"user":"    timestamp: 1729177549038","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     timestamp: 1729177549038"}}
[info] >    } {"user":"  }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   }"}}
[info] >  ] {"user":"]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ]"}}
[debug] [2024-10-18T11:47:39.263Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T11:47:39.263Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T11:47:39.264Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T11:47:39.263Z"],"workRunningCount":1}
[debug] [2024-10-18T11:47:39.264Z] Accepted request GET /totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T11:47:39.265Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T11:47:39.265Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T11:47:39.265Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T11:47:39.266Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[debug] [2024-10-18T11:47:39.299Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 32.9954ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 32.9954ms"}}
[debug] [2024-10-18T11:47:39.300Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T11:47:39.300Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T11:47:39.301Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T11:47:39.301Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T11:47:39.304Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T11:47:39.304Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T11:47:39.305Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T11:47:39.304Z"],"workRunningCount":1}
[debug] [2024-10-18T11:47:39.305Z] Accepted request GET /totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T11:47:39.306Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T11:47:39.306Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T11:47:39.306Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T11:47:39.307Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[info] >  QuerySnapshot { {"user":"QuerySnapshot {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m QuerySnapshot {"}}
[info] >    _query: Query { {"user":"  _query: Query {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _query: Query {"}}
[info] >      _firestore: Firestore { {"user":"    _firestore: Firestore {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _firestore: Firestore {"}}
[info] >        _settings: [Object], {"user":"      _settings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settings: [Object],"}}
[info] >        _settingsFrozen: true, {"user":"      _settingsFrozen: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settingsFrozen: true,"}}
[info] >        _serializer: [Serializer], {"user":"      _serializer: [Serializer],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer],"}}
[info] >        _projectId: 'totem-tour', {"user":"      _projectId: 'totem-tour',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _projectId: 'totem-tour',"}}
[info] >        _databaseId: '(default)', {"user":"      _databaseId: '(default)',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _databaseId: '(default)',"}}
[info] >        registeredListenersCount: 0, {"user":"      registeredListenersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       registeredListenersCount: 0,"}}
[info] >        bulkWritersCount: 0, {"user":"      bulkWritersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       bulkWritersCount: 0,"}}
[info] >        _traceUtil: DisabledTraceUtil {}, {"user":"      _traceUtil: DisabledTraceUtil {},","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _traceUtil: DisabledTraceUtil {},"}}
[info] >        _backoffSettings: [Object], {"user":"      _backoffSettings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _backoffSettings: [Object],"}}
[info] >        _clientPool: [ClientPool], {"user":"      _clientPool: [ClientPool],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _clientPool: [ClientPool],"}}
[info] >        _gax: [Object] {"user":"      _gax: [Object]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _gax: [Object]"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _queryOptions: QueryOptions { {"user":"    _queryOptions: QueryOptions {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryOptions: QueryOptions {"}}
[info] >        parentPath: [ResourcePath], {"user":"      parentPath: [ResourcePath],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       parentPath: [ResourcePath],"}}
[info] >        collectionId: 'purchaseItems', {"user":"      collectionId: 'purchaseItems',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       collectionId: 'purchaseItems',"}}
[info] >        converter: [Object], {"user":"      converter: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       converter: [Object],"}}
[info] >        allDescendants: false, {"user":"      allDescendants: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allDescendants: false,"}}
[info] >        filters: [Array], {"user":"      filters: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       filters: [Array],"}}
[info] >        fieldOrders: [Array], {"user":"      fieldOrders: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       fieldOrders: [Array],"}}
[info] >        startAt: undefined, {"user":"      startAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       startAt: undefined,"}}
[info] >        endAt: undefined, {"user":"      endAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       endAt: undefined,"}}
[info] >        limit: undefined, {"user":"      limit: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limit: undefined,"}}
[info] >        limitType: undefined, {"user":"      limitType: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limitType: undefined,"}}
[info] >        offset: undefined, {"user":"      offset: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       offset: undefined,"}}
[info] >        projection: undefined, {"user":"      projection: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       projection: undefined,"}}
[info] >        kindless: false, {"user":"      kindless: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       kindless: false,"}}
[info] >        requireConsistency: true {"user":"      requireConsistency: true","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       requireConsistency: true"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _serializer: Serializer { {"user":"    _serializer: Serializer {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _serializer: Serializer {"}}
[info] >        createReference: [Function (anonymous)], {"user":"      createReference: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createReference: [Function (anonymous)],"}}
[info] >        createInteger: [Function (anonymous)], {"user":"      createInteger: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createInteger: [Function (anonymous)],"}}
[info] >        allowUndefined: false {"user":"      allowUndefined: false","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allowUndefined: false"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _allowUndefined: false, {"user":"    _allowUndefined: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _allowUndefined: false,"}}
[info] >      _queryUtil: QueryUtil { {"user":"    _queryUtil: QueryUtil {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryUtil: QueryUtil {"}}
[info] >        _firestore: [Firestore], {"user":"      _firestore: [Firestore],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _firestore: [Firestore],"}}
[info] >        _queryOptions: [QueryOptions], {"user":"      _queryOptions: [QueryOptions],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _queryOptions: [QueryOptions],"}}
[info] >        _serializer: [Serializer] {"user":"      _serializer: [Serializer]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer]"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    _readTime: Timestamp { _seconds: 1729252058, _nanoseconds: 939299000 }, {"user":"  _readTime: Timestamp { _seconds: 1729252058, _nanoseconds: 939299000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _readTime: Timestamp { _seconds: 1729252058, _nanoseconds: 939299000 },"}}
[info] >    _size: 1, {"user":"  _size: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _size: 1,"}}
[info] >    _materializedDocs: null, {"user":"  _materializedDocs: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedDocs: null,"}}
[info] >    _materializedChanges: null, {"user":"  _materializedChanges: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedChanges: null,"}}
[info] >    _docs: [Function (anonymous)], {"user":"  _docs: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _docs: [Function (anonymous)],"}}
[info] >    _changes: [Function (anonymous)] {"user":"  _changes: [Function (anonymous)]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _changes: [Function (anonymous)]"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2024-10-18T11:47:39.384Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 77.6697ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 77.6697ms"}}
[debug] [2024-10-18T11:47:39.385Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T11:47:39.385Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T11:47:39.385Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T11:47:39.385Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] >  [ {"user":"[","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ["}}
[info] >    { {"user":"  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   {"}}
[info] >      id: 'AIxFbug16kvF6PQU0ybK', {"user":"    id: 'AIxFbug16kvF6PQU0ybK',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     id: 'AIxFbug16kvF6PQU0ybK',"}}
[info] >      productId: '2PHnd6lM4TG6lP6Y5fOc', {"user":"    productId: '2PHnd6lM4TG6lP6Y5fOc',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     productId: '2PHnd6lM4TG6lP6Y5fOc',"}}
[info] >      qty: 1, {"user":"    qty: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     qty: 1,"}}
[info] >      netPrice: 1, {"user":"    netPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     netPrice: 1,"}}
[info] >      partnerComm: 1, {"user":"    partnerComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     partnerComm: 1,"}}
[info] >      companyComm: 1, {"user":"    companyComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     companyComm: 1,"}}
[info] >      pricePerPerson: 1, {"user":"    pricePerPerson: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     pricePerPerson: 1,"}}
[info] >      minTotalPrice: 1, {"user":"    minTotalPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     minTotalPrice: 1,"}}
[info] >      totalPrice: 3, {"user":"    totalPrice: 3,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totalPrice: 3,"}}
[info] >      date: '2024-10-18', {"user":"    date: '2024-10-18',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: '2024-10-18',"}}
[info] >      cityId: 'OiCHcy7zKcp2uU3zlMPU', {"user":"    cityId: 'OiCHcy7zKcp2uU3zlMPU',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     cityId: 'OiCHcy7zKcp2uU3zlMPU',"}}
[info] >      totemId: '1LoQvuu4KzHC1ux7qfOR', {"user":"    totemId: '1LoQvuu4KzHC1ux7qfOR',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totemId: '1LoQvuu4KzHC1ux7qfOR',"}}
[info] >      purchaseId: 'zuDSRe9m9p2oU9O4Kz1o', {"user":"    purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',"}}
[info] >      customerId: 'rMuIfSk9AarUm73FZVtC', {"user":"    customerId: 'rMuIfSk9AarUm73FZVtC',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     customerId: 'rMuIfSk9AarUm73FZVtC',"}}
[info] >      timestamp: 1729177549038 {"user":"    timestamp: 1729177549038","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     timestamp: 1729177549038"}}
[info] >    } {"user":"  }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   }"}}
[info] >  ] {"user":"]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ]"}}
[debug] [2024-10-18T11:47:42.251Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T11:47:42.251Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T11:47:42.252Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T11:47:42.251Z"],"workRunningCount":1}
[debug] [2024-10-18T11:47:42.252Z] Accepted request GET /totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T11:47:42.253Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T11:47:42.253Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T11:47:42.253Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T11:47:42.254Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[debug] [2024-10-18T11:47:42.295Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 41.6725ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 41.6725ms"}}
[debug] [2024-10-18T11:47:42.296Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T11:47:42.297Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T11:47:42.297Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T11:47:42.297Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T11:47:42.301Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T11:47:42.301Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T11:47:42.302Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T11:47:42.301Z"],"workRunningCount":1}
[debug] [2024-10-18T11:47:42.302Z] Accepted request GET /totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T11:47:42.303Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T11:47:42.303Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T11:47:42.303Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T11:47:42.304Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[info] >  QuerySnapshot { {"user":"QuerySnapshot {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m QuerySnapshot {"}}
[info] >    _query: Query { {"user":"  _query: Query {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _query: Query {"}}
[info] >      _firestore: Firestore { {"user":"    _firestore: Firestore {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _firestore: Firestore {"}}
[info] >        _settings: [Object], {"user":"      _settings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settings: [Object],"}}
[info] >        _settingsFrozen: true, {"user":"      _settingsFrozen: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settingsFrozen: true,"}}
[info] >        _serializer: [Serializer], {"user":"      _serializer: [Serializer],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer],"}}
[info] >        _projectId: 'totem-tour', {"user":"      _projectId: 'totem-tour',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _projectId: 'totem-tour',"}}
[info] >        _databaseId: '(default)', {"user":"      _databaseId: '(default)',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _databaseId: '(default)',"}}
[info] >        registeredListenersCount: 0, {"user":"      registeredListenersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       registeredListenersCount: 0,"}}
[info] >        bulkWritersCount: 0, {"user":"      bulkWritersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       bulkWritersCount: 0,"}}
[info] >        _traceUtil: DisabledTraceUtil {}, {"user":"      _traceUtil: DisabledTraceUtil {},","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _traceUtil: DisabledTraceUtil {},"}}
[info] >        _backoffSettings: [Object], {"user":"      _backoffSettings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _backoffSettings: [Object],"}}
[info] >        _clientPool: [ClientPool], {"user":"      _clientPool: [ClientPool],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _clientPool: [ClientPool],"}}
[info] >        _gax: [Object] {"user":"      _gax: [Object]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _gax: [Object]"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _queryOptions: QueryOptions { {"user":"    _queryOptions: QueryOptions {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryOptions: QueryOptions {"}}
[info] >        parentPath: [ResourcePath], {"user":"      parentPath: [ResourcePath],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       parentPath: [ResourcePath],"}}
[info] >        collectionId: 'purchaseItems', {"user":"      collectionId: 'purchaseItems',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       collectionId: 'purchaseItems',"}}
[info] >        converter: [Object], {"user":"      converter: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       converter: [Object],"}}
[info] >        allDescendants: false, {"user":"      allDescendants: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allDescendants: false,"}}
[info] >        filters: [Array], {"user":"      filters: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       filters: [Array],"}}
[info] >        fieldOrders: [Array], {"user":"      fieldOrders: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       fieldOrders: [Array],"}}
[info] >        startAt: undefined, {"user":"      startAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       startAt: undefined,"}}
[info] >        endAt: undefined, {"user":"      endAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       endAt: undefined,"}}
[info] >        limit: undefined, {"user":"      limit: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limit: undefined,"}}
[info] >        limitType: undefined, {"user":"      limitType: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limitType: undefined,"}}
[info] >        offset: undefined, {"user":"      offset: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       offset: undefined,"}}
[info] >        projection: undefined, {"user":"      projection: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       projection: undefined,"}}
[info] >        kindless: false, {"user":"      kindless: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       kindless: false,"}}
[info] >        requireConsistency: true {"user":"      requireConsistency: true","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       requireConsistency: true"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _serializer: Serializer { {"user":"    _serializer: Serializer {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _serializer: Serializer {"}}
[info] >        createReference: [Function (anonymous)], {"user":"      createReference: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createReference: [Function (anonymous)],"}}
[info] >        createInteger: [Function (anonymous)], {"user":"      createInteger: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createInteger: [Function (anonymous)],"}}
[info] >        allowUndefined: false {"user":"      allowUndefined: false","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allowUndefined: false"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _allowUndefined: false, {"user":"    _allowUndefined: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _allowUndefined: false,"}}
[info] >      _queryUtil: QueryUtil { {"user":"    _queryUtil: QueryUtil {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryUtil: QueryUtil {"}}
[info] >        _firestore: [Firestore], {"user":"      _firestore: [Firestore],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _firestore: [Firestore],"}}
[info] >        _queryOptions: [QueryOptions], {"user":"      _queryOptions: [QueryOptions],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _queryOptions: [QueryOptions],"}}
[info] >        _serializer: [Serializer] {"user":"      _serializer: [Serializer]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer]"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    _readTime: Timestamp { _seconds: 1729252061, _nanoseconds: 942053000 }, {"user":"  _readTime: Timestamp { _seconds: 1729252061, _nanoseconds: 942053000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _readTime: Timestamp { _seconds: 1729252061, _nanoseconds: 942053000 },"}}
[info] >    _size: 1, {"user":"  _size: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _size: 1,"}}
[info] >    _materializedDocs: null, {"user":"  _materializedDocs: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedDocs: null,"}}
[info] >    _materializedChanges: null, {"user":"  _materializedChanges: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedChanges: null,"}}
[info] >    _docs: [Function (anonymous)], {"user":"  _docs: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _docs: [Function (anonymous)],"}}
[info] >    _changes: [Function (anonymous)] {"user":"  _changes: [Function (anonymous)]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _changes: [Function (anonymous)]"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2024-10-18T11:47:42.399Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 95.4019ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 95.4019ms"}}
[debug] [2024-10-18T11:47:42.400Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T11:47:42.400Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T11:47:42.400Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T11:47:42.400Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] >  [ {"user":"[","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ["}}
[info] >    { {"user":"  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   {"}}
[info] >      id: 'AIxFbug16kvF6PQU0ybK', {"user":"    id: 'AIxFbug16kvF6PQU0ybK',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     id: 'AIxFbug16kvF6PQU0ybK',"}}
[info] >      productId: '2PHnd6lM4TG6lP6Y5fOc', {"user":"    productId: '2PHnd6lM4TG6lP6Y5fOc',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     productId: '2PHnd6lM4TG6lP6Y5fOc',"}}
[info] >      qty: 1, {"user":"    qty: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     qty: 1,"}}
[info] >      netPrice: 1, {"user":"    netPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     netPrice: 1,"}}
[info] >      partnerComm: 1, {"user":"    partnerComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     partnerComm: 1,"}}
[info] >      companyComm: 1, {"user":"    companyComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     companyComm: 1,"}}
[info] >      pricePerPerson: 1, {"user":"    pricePerPerson: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     pricePerPerson: 1,"}}
[info] >      minTotalPrice: 1, {"user":"    minTotalPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     minTotalPrice: 1,"}}
[info] >      totalPrice: 3, {"user":"    totalPrice: 3,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totalPrice: 3,"}}
[info] >      date: '2024-10-18', {"user":"    date: '2024-10-18',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: '2024-10-18',"}}
[info] >      cityId: 'OiCHcy7zKcp2uU3zlMPU', {"user":"    cityId: 'OiCHcy7zKcp2uU3zlMPU',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     cityId: 'OiCHcy7zKcp2uU3zlMPU',"}}
[info] >      totemId: '1LoQvuu4KzHC1ux7qfOR', {"user":"    totemId: '1LoQvuu4KzHC1ux7qfOR',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totemId: '1LoQvuu4KzHC1ux7qfOR',"}}
[info] >      purchaseId: 'zuDSRe9m9p2oU9O4Kz1o', {"user":"    purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',"}}
[info] >      customerId: 'rMuIfSk9AarUm73FZVtC', {"user":"    customerId: 'rMuIfSk9AarUm73FZVtC',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     customerId: 'rMuIfSk9AarUm73FZVtC',"}}
[info] >      timestamp: 1729177549038 {"user":"    timestamp: 1729177549038","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     timestamp: 1729177549038"}}
[info] >    } {"user":"  }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   }"}}
[info] >  ] {"user":"]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ]"}}
[debug] [2024-10-18T11:47:45.245Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T11:47:45.245Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T11:47:45.245Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T11:47:45.245Z"],"workRunningCount":1}
[debug] [2024-10-18T11:47:45.245Z] Accepted request GET /totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T11:47:45.246Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T11:47:45.246Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T11:47:45.246Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T11:47:45.247Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[debug] [2024-10-18T11:47:45.282Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 35.2162ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 35.2162ms"}}
[debug] [2024-10-18T11:47:45.282Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T11:47:45.283Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T11:47:45.283Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T11:47:45.283Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T11:47:45.286Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T11:47:45.286Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T11:47:45.286Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T11:47:45.286Z"],"workRunningCount":1}
[debug] [2024-10-18T11:47:45.286Z] Accepted request GET /totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T11:47:45.287Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T11:47:45.287Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T11:47:45.287Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T11:47:45.288Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[info] >  QuerySnapshot { {"user":"QuerySnapshot {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m QuerySnapshot {"}}
[info] >    _query: Query { {"user":"  _query: Query {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _query: Query {"}}
[info] >      _firestore: Firestore { {"user":"    _firestore: Firestore {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _firestore: Firestore {"}}
[info] >        _settings: [Object], {"user":"      _settings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settings: [Object],"}}
[info] >        _settingsFrozen: true, {"user":"      _settingsFrozen: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settingsFrozen: true,"}}
[info] >        _serializer: [Serializer], {"user":"      _serializer: [Serializer],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer],"}}
[info] >        _projectId: 'totem-tour', {"user":"      _projectId: 'totem-tour',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _projectId: 'totem-tour',"}}
[info] >        _databaseId: '(default)', {"user":"      _databaseId: '(default)',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _databaseId: '(default)',"}}
[info] >        registeredListenersCount: 0, {"user":"      registeredListenersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       registeredListenersCount: 0,"}}
[info] >        bulkWritersCount: 0, {"user":"      bulkWritersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       bulkWritersCount: 0,"}}
[info] >        _traceUtil: DisabledTraceUtil {}, {"user":"      _traceUtil: DisabledTraceUtil {},","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _traceUtil: DisabledTraceUtil {},"}}
[info] >        _backoffSettings: [Object], {"user":"      _backoffSettings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _backoffSettings: [Object],"}}
[info] >        _clientPool: [ClientPool], {"user":"      _clientPool: [ClientPool],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _clientPool: [ClientPool],"}}
[info] >        _gax: [Object] {"user":"      _gax: [Object]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _gax: [Object]"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _queryOptions: QueryOptions { {"user":"    _queryOptions: QueryOptions {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryOptions: QueryOptions {"}}
[info] >        parentPath: [ResourcePath], {"user":"      parentPath: [ResourcePath],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       parentPath: [ResourcePath],"}}
[info] >        collectionId: 'purchaseItems', {"user":"      collectionId: 'purchaseItems',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       collectionId: 'purchaseItems',"}}
[info] >        converter: [Object], {"user":"      converter: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       converter: [Object],"}}
[info] >        allDescendants: false, {"user":"      allDescendants: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allDescendants: false,"}}
[info] >        filters: [Array], {"user":"      filters: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       filters: [Array],"}}
[info] >        fieldOrders: [Array], {"user":"      fieldOrders: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       fieldOrders: [Array],"}}
[info] >        startAt: undefined, {"user":"      startAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       startAt: undefined,"}}
[info] >        endAt: undefined, {"user":"      endAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       endAt: undefined,"}}
[info] >        limit: undefined, {"user":"      limit: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limit: undefined,"}}
[info] >        limitType: undefined, {"user":"      limitType: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limitType: undefined,"}}
[info] >        offset: undefined, {"user":"      offset: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       offset: undefined,"}}
[info] >        projection: undefined, {"user":"      projection: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       projection: undefined,"}}
[info] >        kindless: false, {"user":"      kindless: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       kindless: false,"}}
[info] >        requireConsistency: true {"user":"      requireConsistency: true","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       requireConsistency: true"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _serializer: Serializer { {"user":"    _serializer: Serializer {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _serializer: Serializer {"}}
[info] >        createReference: [Function (anonymous)], {"user":"      createReference: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createReference: [Function (anonymous)],"}}
[info] >        createInteger: [Function (anonymous)], {"user":"      createInteger: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createInteger: [Function (anonymous)],"}}
[info] >        allowUndefined: false {"user":"      allowUndefined: false","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allowUndefined: false"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _allowUndefined: false, {"user":"    _allowUndefined: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _allowUndefined: false,"}}
[info] >      _queryUtil: QueryUtil { {"user":"    _queryUtil: QueryUtil {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryUtil: QueryUtil {"}}
[info] >        _firestore: [Firestore], {"user":"      _firestore: [Firestore],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _firestore: [Firestore],"}}
[info] >        _queryOptions: [QueryOptions], {"user":"      _queryOptions: [QueryOptions],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _queryOptions: [QueryOptions],"}}
[info] >        _serializer: [Serializer] {"user":"      _serializer: [Serializer]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer]"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    _readTime: Timestamp { _seconds: 1729252064, _nanoseconds: 921116000 }, {"user":"  _readTime: Timestamp { _seconds: 1729252064, _nanoseconds: 921116000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _readTime: Timestamp { _seconds: 1729252064, _nanoseconds: 921116000 },"}}
[info] >    _size: 1, {"user":"  _size: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _size: 1,"}}
[info] >    _materializedDocs: null, {"user":"  _materializedDocs: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedDocs: null,"}}
[info] >    _materializedChanges: null, {"user":"  _materializedChanges: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedChanges: null,"}}
[info] >    _docs: [Function (anonymous)], {"user":"  _docs: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _docs: [Function (anonymous)],"}}
[info] >    _changes: [Function (anonymous)] {"user":"  _changes: [Function (anonymous)]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _changes: [Function (anonymous)]"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2024-10-18T11:47:45.357Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 69.4561ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 69.4561ms"}}
[debug] [2024-10-18T11:47:45.358Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T11:47:45.358Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T11:47:45.358Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T11:47:45.358Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] >  [ {"user":"[","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ["}}
[info] >    { {"user":"  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   {"}}
[info] >      id: 'AIxFbug16kvF6PQU0ybK', {"user":"    id: 'AIxFbug16kvF6PQU0ybK',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     id: 'AIxFbug16kvF6PQU0ybK',"}}
[info] >      productId: '2PHnd6lM4TG6lP6Y5fOc', {"user":"    productId: '2PHnd6lM4TG6lP6Y5fOc',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     productId: '2PHnd6lM4TG6lP6Y5fOc',"}}
[info] >      qty: 1, {"user":"    qty: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     qty: 1,"}}
[info] >      netPrice: 1, {"user":"    netPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     netPrice: 1,"}}
[info] >      partnerComm: 1, {"user":"    partnerComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     partnerComm: 1,"}}
[info] >      companyComm: 1, {"user":"    companyComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     companyComm: 1,"}}
[info] >      pricePerPerson: 1, {"user":"    pricePerPerson: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     pricePerPerson: 1,"}}
[info] >      minTotalPrice: 1, {"user":"    minTotalPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     minTotalPrice: 1,"}}
[info] >      totalPrice: 3, {"user":"    totalPrice: 3,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totalPrice: 3,"}}
[info] >      date: '2024-10-18', {"user":"    date: '2024-10-18',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: '2024-10-18',"}}
[info] >      cityId: 'OiCHcy7zKcp2uU3zlMPU', {"user":"    cityId: 'OiCHcy7zKcp2uU3zlMPU',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     cityId: 'OiCHcy7zKcp2uU3zlMPU',"}}
[info] >      totemId: '1LoQvuu4KzHC1ux7qfOR', {"user":"    totemId: '1LoQvuu4KzHC1ux7qfOR',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totemId: '1LoQvuu4KzHC1ux7qfOR',"}}
[info] >      purchaseId: 'zuDSRe9m9p2oU9O4Kz1o', {"user":"    purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',"}}
[info] >      customerId: 'rMuIfSk9AarUm73FZVtC', {"user":"    customerId: 'rMuIfSk9AarUm73FZVtC',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     customerId: 'rMuIfSk9AarUm73FZVtC',"}}
[info] >      timestamp: 1729177549038 {"user":"    timestamp: 1729177549038","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     timestamp: 1729177549038"}}
[info] >    } {"user":"  }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   }"}}
[info] >  ] {"user":"]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ]"}}
[debug] [2024-10-18T11:49:27.320Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchases/-2024-10-18T11:49:27.320Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T11:49:27.320Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchases/-2024-10-18T11:49:27.320Z"],"workRunningCount":1}
[debug] [2024-10-18T11:49:27.320Z] Accepted request GET /totem-tour/us-central1/totem/purchases/ --> us-central1-totem
[debug] [2024-10-18T11:49:27.324Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T11:49:27.324Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchases/, mapping to path=/purchases/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchases/, mapping to path=/purchases/"}}
[debug] [2024-10-18T11:49:27.324Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T11:49:27.325Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[debug] [2024-10-18T11:49:27.452Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 127.4366ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 127.4366ms"}}
[debug] [2024-10-18T11:49:27.454Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T11:49:27.454Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T11:49:27.454Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T11:49:27.454Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T11:49:28.762Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T11:49:28.762Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T11:49:28.763Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T11:49:28.762Z"],"workRunningCount":1}
[debug] [2024-10-18T11:49:28.763Z] Accepted request GET /totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T11:49:28.764Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T11:49:28.764Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T11:49:28.764Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T11:49:28.765Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[debug] [2024-10-18T11:49:28.808Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 43.3485ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 43.3485ms"}}
[debug] [2024-10-18T11:49:28.809Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T11:49:28.809Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T11:49:28.809Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T11:49:28.809Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T11:49:28.813Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T11:49:28.813Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T11:49:28.813Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T11:49:28.813Z"],"workRunningCount":1}
[debug] [2024-10-18T11:49:28.813Z] Accepted request GET /totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T11:49:28.815Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T11:49:28.815Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T11:49:28.815Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T11:49:28.816Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[info] >  QuerySnapshot { {"user":"QuerySnapshot {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m QuerySnapshot {"}}
[info] >    _query: Query { {"user":"  _query: Query {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _query: Query {"}}
[info] >      _firestore: Firestore { {"user":"    _firestore: Firestore {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _firestore: Firestore {"}}
[info] >        _settings: [Object], {"user":"      _settings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settings: [Object],"}}
[info] >        _settingsFrozen: true, {"user":"      _settingsFrozen: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settingsFrozen: true,"}}
[info] >        _serializer: [Serializer], {"user":"      _serializer: [Serializer],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer],"}}
[info] >        _projectId: 'totem-tour', {"user":"      _projectId: 'totem-tour',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _projectId: 'totem-tour',"}}
[info] >        _databaseId: '(default)', {"user":"      _databaseId: '(default)',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _databaseId: '(default)',"}}
[info] >        registeredListenersCount: 0, {"user":"      registeredListenersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       registeredListenersCount: 0,"}}
[info] >        bulkWritersCount: 0, {"user":"      bulkWritersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       bulkWritersCount: 0,"}}
[info] >        _traceUtil: DisabledTraceUtil {}, {"user":"      _traceUtil: DisabledTraceUtil {},","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _traceUtil: DisabledTraceUtil {},"}}
[info] >        _backoffSettings: [Object], {"user":"      _backoffSettings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _backoffSettings: [Object],"}}
[info] >        _clientPool: [ClientPool], {"user":"      _clientPool: [ClientPool],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _clientPool: [ClientPool],"}}
[info] >        _gax: [Object] {"user":"      _gax: [Object]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _gax: [Object]"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _queryOptions: QueryOptions { {"user":"    _queryOptions: QueryOptions {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryOptions: QueryOptions {"}}
[info] >        parentPath: [ResourcePath], {"user":"      parentPath: [ResourcePath],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       parentPath: [ResourcePath],"}}
[info] >        collectionId: 'purchaseItems', {"user":"      collectionId: 'purchaseItems',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       collectionId: 'purchaseItems',"}}
[info] >        converter: [Object], {"user":"      converter: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       converter: [Object],"}}
[info] >        allDescendants: false, {"user":"      allDescendants: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allDescendants: false,"}}
[info] >        filters: [Array], {"user":"      filters: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       filters: [Array],"}}
[info] >        fieldOrders: [Array], {"user":"      fieldOrders: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       fieldOrders: [Array],"}}
[info] >        startAt: undefined, {"user":"      startAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       startAt: undefined,"}}
[info] >        endAt: undefined, {"user":"      endAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       endAt: undefined,"}}
[info] >        limit: undefined, {"user":"      limit: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limit: undefined,"}}
[info] >        limitType: undefined, {"user":"      limitType: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limitType: undefined,"}}
[info] >        offset: undefined, {"user":"      offset: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       offset: undefined,"}}
[info] >        projection: undefined, {"user":"      projection: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       projection: undefined,"}}
[info] >        kindless: false, {"user":"      kindless: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       kindless: false,"}}
[info] >        requireConsistency: true {"user":"      requireConsistency: true","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       requireConsistency: true"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _serializer: Serializer { {"user":"    _serializer: Serializer {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _serializer: Serializer {"}}
[info] >        createReference: [Function (anonymous)], {"user":"      createReference: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createReference: [Function (anonymous)],"}}
[info] >        createInteger: [Function (anonymous)], {"user":"      createInteger: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createInteger: [Function (anonymous)],"}}
[info] >        allowUndefined: false {"user":"      allowUndefined: false","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allowUndefined: false"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _allowUndefined: false, {"user":"    _allowUndefined: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _allowUndefined: false,"}}
[info] >      _queryUtil: QueryUtil { {"user":"    _queryUtil: QueryUtil {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryUtil: QueryUtil {"}}
[info] >        _firestore: [Firestore], {"user":"      _firestore: [Firestore],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _firestore: [Firestore],"}}
[info] >        _queryOptions: [QueryOptions], {"user":"      _queryOptions: [QueryOptions],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _queryOptions: [QueryOptions],"}}
[info] >        _serializer: [Serializer] {"user":"      _serializer: [Serializer]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer]"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    _readTime: Timestamp { _seconds: 1729252168, _nanoseconds: 447686000 }, {"user":"  _readTime: Timestamp { _seconds: 1729252168, _nanoseconds: 447686000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _readTime: Timestamp { _seconds: 1729252168, _nanoseconds: 447686000 },"}}
[info] >    _size: 1, {"user":"  _size: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _size: 1,"}}
[info] >    _materializedDocs: null, {"user":"  _materializedDocs: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedDocs: null,"}}
[info] >    _materializedChanges: null, {"user":"  _materializedChanges: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedChanges: null,"}}
[info] >    _docs: [Function (anonymous)], {"user":"  _docs: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _docs: [Function (anonymous)],"}}
[info] >    _changes: [Function (anonymous)] {"user":"  _changes: [Function (anonymous)]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _changes: [Function (anonymous)]"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2024-10-18T11:49:28.884Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 67.8252ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 67.8252ms"}}
[debug] [2024-10-18T11:49:28.884Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T11:49:28.884Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T11:49:28.884Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T11:49:28.884Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] >  [ {"user":"[","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ["}}
[info] >    { {"user":"  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   {"}}
[info] >      id: 'AIxFbug16kvF6PQU0ybK', {"user":"    id: 'AIxFbug16kvF6PQU0ybK',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     id: 'AIxFbug16kvF6PQU0ybK',"}}
[info] >      productId: '2PHnd6lM4TG6lP6Y5fOc', {"user":"    productId: '2PHnd6lM4TG6lP6Y5fOc',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     productId: '2PHnd6lM4TG6lP6Y5fOc',"}}
[info] >      qty: 1, {"user":"    qty: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     qty: 1,"}}
[info] >      netPrice: 1, {"user":"    netPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     netPrice: 1,"}}
[info] >      partnerComm: 1, {"user":"    partnerComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     partnerComm: 1,"}}
[info] >      companyComm: 1, {"user":"    companyComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     companyComm: 1,"}}
[info] >      pricePerPerson: 1, {"user":"    pricePerPerson: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     pricePerPerson: 1,"}}
[info] >      minTotalPrice: 1, {"user":"    minTotalPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     minTotalPrice: 1,"}}
[info] >      totalPrice: 3, {"user":"    totalPrice: 3,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totalPrice: 3,"}}
[info] >      date: '2024-10-18', {"user":"    date: '2024-10-18',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: '2024-10-18',"}}
[info] >      cityId: 'OiCHcy7zKcp2uU3zlMPU', {"user":"    cityId: 'OiCHcy7zKcp2uU3zlMPU',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     cityId: 'OiCHcy7zKcp2uU3zlMPU',"}}
[info] >      totemId: '1LoQvuu4KzHC1ux7qfOR', {"user":"    totemId: '1LoQvuu4KzHC1ux7qfOR',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totemId: '1LoQvuu4KzHC1ux7qfOR',"}}
[info] >      purchaseId: 'zuDSRe9m9p2oU9O4Kz1o', {"user":"    purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',"}}
[info] >      customerId: 'rMuIfSk9AarUm73FZVtC', {"user":"    customerId: 'rMuIfSk9AarUm73FZVtC',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     customerId: 'rMuIfSk9AarUm73FZVtC',"}}
[info] >      timestamp: 1729177549038 {"user":"    timestamp: 1729177549038","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     timestamp: 1729177549038"}}
[info] >    } {"user":"  }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   }"}}
[info] >  ] {"user":"]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ]"}}
[debug] [2024-10-18T11:49:42.777Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T11:49:42.777Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T11:49:42.777Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T11:49:42.777Z"],"workRunningCount":1}
[debug] [2024-10-18T11:49:42.777Z] Accepted request GET /totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T11:49:42.779Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T11:49:42.779Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T11:49:42.780Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T11:49:42.780Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[debug] [2024-10-18T11:49:42.827Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 46.6265ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 46.6265ms"}}
[debug] [2024-10-18T11:49:42.827Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T11:49:42.828Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T11:49:42.828Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T11:49:42.828Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T11:49:42.831Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T11:49:42.831Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T11:49:42.831Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T11:49:42.831Z"],"workRunningCount":1}
[debug] [2024-10-18T11:49:42.831Z] Accepted request GET /totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T11:49:42.833Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T11:49:42.833Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T11:49:42.833Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T11:49:42.834Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[info] >  QuerySnapshot { {"user":"QuerySnapshot {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m QuerySnapshot {"}}
[info] >    _query: Query { {"user":"  _query: Query {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _query: Query {"}}
[info] >      _firestore: Firestore { {"user":"    _firestore: Firestore {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _firestore: Firestore {"}}
[info] >        _settings: [Object], {"user":"      _settings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settings: [Object],"}}
[info] >        _settingsFrozen: true, {"user":"      _settingsFrozen: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settingsFrozen: true,"}}
[info] >        _serializer: [Serializer], {"user":"      _serializer: [Serializer],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer],"}}
[info] >        _projectId: 'totem-tour', {"user":"      _projectId: 'totem-tour',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _projectId: 'totem-tour',"}}
[info] >        _databaseId: '(default)', {"user":"      _databaseId: '(default)',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _databaseId: '(default)',"}}
[info] >        registeredListenersCount: 0, {"user":"      registeredListenersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       registeredListenersCount: 0,"}}
[info] >        bulkWritersCount: 0, {"user":"      bulkWritersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       bulkWritersCount: 0,"}}
[info] >        _traceUtil: DisabledTraceUtil {}, {"user":"      _traceUtil: DisabledTraceUtil {},","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _traceUtil: DisabledTraceUtil {},"}}
[info] >        _backoffSettings: [Object], {"user":"      _backoffSettings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _backoffSettings: [Object],"}}
[info] >        _clientPool: [ClientPool], {"user":"      _clientPool: [ClientPool],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _clientPool: [ClientPool],"}}
[info] >        _gax: [Object] {"user":"      _gax: [Object]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _gax: [Object]"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _queryOptions: QueryOptions { {"user":"    _queryOptions: QueryOptions {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryOptions: QueryOptions {"}}
[info] >        parentPath: [ResourcePath], {"user":"      parentPath: [ResourcePath],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       parentPath: [ResourcePath],"}}
[info] >        collectionId: 'purchaseItems', {"user":"      collectionId: 'purchaseItems',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       collectionId: 'purchaseItems',"}}
[info] >        converter: [Object], {"user":"      converter: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       converter: [Object],"}}
[info] >        allDescendants: false, {"user":"      allDescendants: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allDescendants: false,"}}
[info] >        filters: [Array], {"user":"      filters: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       filters: [Array],"}}
[info] >        fieldOrders: [Array], {"user":"      fieldOrders: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       fieldOrders: [Array],"}}
[info] >        startAt: undefined, {"user":"      startAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       startAt: undefined,"}}
[info] >        endAt: undefined, {"user":"      endAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       endAt: undefined,"}}
[info] >        limit: undefined, {"user":"      limit: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limit: undefined,"}}
[info] >        limitType: undefined, {"user":"      limitType: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limitType: undefined,"}}
[info] >        offset: undefined, {"user":"      offset: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       offset: undefined,"}}
[info] >        projection: undefined, {"user":"      projection: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       projection: undefined,"}}
[info] >        kindless: false, {"user":"      kindless: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       kindless: false,"}}
[info] >        requireConsistency: true {"user":"      requireConsistency: true","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       requireConsistency: true"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _serializer: Serializer { {"user":"    _serializer: Serializer {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _serializer: Serializer {"}}
[info] >        createReference: [Function (anonymous)], {"user":"      createReference: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createReference: [Function (anonymous)],"}}
[info] >        createInteger: [Function (anonymous)], {"user":"      createInteger: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createInteger: [Function (anonymous)],"}}
[info] >        allowUndefined: false {"user":"      allowUndefined: false","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allowUndefined: false"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _allowUndefined: false, {"user":"    _allowUndefined: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _allowUndefined: false,"}}
[info] >      _queryUtil: QueryUtil { {"user":"    _queryUtil: QueryUtil {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryUtil: QueryUtil {"}}
[info] >        _firestore: [Firestore], {"user":"      _firestore: [Firestore],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _firestore: [Firestore],"}}
[info] >        _queryOptions: [QueryOptions], {"user":"      _queryOptions: [QueryOptions],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _queryOptions: [QueryOptions],"}}
[info] >        _serializer: [Serializer] {"user":"      _serializer: [Serializer]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer]"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    _readTime: Timestamp { _seconds: 1729252182, _nanoseconds: 464565000 }, {"user":"  _readTime: Timestamp { _seconds: 1729252182, _nanoseconds: 464565000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _readTime: Timestamp { _seconds: 1729252182, _nanoseconds: 464565000 },"}}
[info] >    _size: 1, {"user":"  _size: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _size: 1,"}}
[info] >    _materializedDocs: null, {"user":"  _materializedDocs: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedDocs: null,"}}
[info] >    _materializedChanges: null, {"user":"  _materializedChanges: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedChanges: null,"}}
[info] >    _docs: [Function (anonymous)], {"user":"  _docs: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _docs: [Function (anonymous)],"}}
[info] >    _changes: [Function (anonymous)] {"user":"  _changes: [Function (anonymous)]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _changes: [Function (anonymous)]"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2024-10-18T11:49:42.900Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 65.8178ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 65.8178ms"}}
[debug] [2024-10-18T11:49:42.900Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T11:49:42.900Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T11:49:42.900Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T11:49:42.900Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] >  [ {"user":"[","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ["}}
[info] >    { {"user":"  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   {"}}
[info] >      id: 'AIxFbug16kvF6PQU0ybK', {"user":"    id: 'AIxFbug16kvF6PQU0ybK',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     id: 'AIxFbug16kvF6PQU0ybK',"}}
[info] >      productId: '2PHnd6lM4TG6lP6Y5fOc', {"user":"    productId: '2PHnd6lM4TG6lP6Y5fOc',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     productId: '2PHnd6lM4TG6lP6Y5fOc',"}}
[info] >      qty: 1, {"user":"    qty: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     qty: 1,"}}
[info] >      netPrice: 1, {"user":"    netPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     netPrice: 1,"}}
[info] >      partnerComm: 1, {"user":"    partnerComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     partnerComm: 1,"}}
[info] >      companyComm: 1, {"user":"    companyComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     companyComm: 1,"}}
[info] >      pricePerPerson: 1, {"user":"    pricePerPerson: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     pricePerPerson: 1,"}}
[info] >      minTotalPrice: 1, {"user":"    minTotalPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     minTotalPrice: 1,"}}
[info] >      totalPrice: 3, {"user":"    totalPrice: 3,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totalPrice: 3,"}}
[info] >      date: '2024-10-18', {"user":"    date: '2024-10-18',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: '2024-10-18',"}}
[info] >      cityId: 'OiCHcy7zKcp2uU3zlMPU', {"user":"    cityId: 'OiCHcy7zKcp2uU3zlMPU',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     cityId: 'OiCHcy7zKcp2uU3zlMPU',"}}
[info] >      totemId: '1LoQvuu4KzHC1ux7qfOR', {"user":"    totemId: '1LoQvuu4KzHC1ux7qfOR',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totemId: '1LoQvuu4KzHC1ux7qfOR',"}}
[info] >      purchaseId: 'zuDSRe9m9p2oU9O4Kz1o', {"user":"    purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',"}}
[info] >      customerId: 'rMuIfSk9AarUm73FZVtC', {"user":"    customerId: 'rMuIfSk9AarUm73FZVtC',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     customerId: 'rMuIfSk9AarUm73FZVtC',"}}
[info] >      timestamp: 1729177549038 {"user":"    timestamp: 1729177549038","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     timestamp: 1729177549038"}}
[info] >    } {"user":"  }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   }"}}
[info] >  ] {"user":"]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ]"}}
[debug] [2024-10-18T11:49:49.249Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T11:49:49.249Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T11:49:49.249Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T11:49:49.249Z"],"workRunningCount":1}
[debug] [2024-10-18T11:49:49.249Z] Accepted request GET /totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T11:49:49.251Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T11:49:49.251Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T11:49:49.251Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T11:49:49.252Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[debug] [2024-10-18T11:49:49.299Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 46.7271ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 46.7271ms"}}
[debug] [2024-10-18T11:49:49.300Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T11:49:49.300Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T11:49:49.300Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T11:49:49.300Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T11:49:49.305Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T11:49:49.305Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T11:49:49.305Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T11:49:49.305Z"],"workRunningCount":1}
[debug] [2024-10-18T11:49:49.305Z] Accepted request GET /totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T11:49:49.309Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T11:49:49.309Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T11:49:49.309Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T11:49:49.311Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[info] >  QuerySnapshot { {"user":"QuerySnapshot {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m QuerySnapshot {"}}
[info] >    _query: Query { {"user":"  _query: Query {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _query: Query {"}}
[info] >      _firestore: Firestore { {"user":"    _firestore: Firestore {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _firestore: Firestore {"}}
[info] >        _settings: [Object], {"user":"      _settings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settings: [Object],"}}
[info] >        _settingsFrozen: true, {"user":"      _settingsFrozen: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settingsFrozen: true,"}}
[info] >        _serializer: [Serializer], {"user":"      _serializer: [Serializer],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer],"}}
[info] >        _projectId: 'totem-tour', {"user":"      _projectId: 'totem-tour',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _projectId: 'totem-tour',"}}
[info] >        _databaseId: '(default)', {"user":"      _databaseId: '(default)',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _databaseId: '(default)',"}}
[info] >        registeredListenersCount: 0, {"user":"      registeredListenersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       registeredListenersCount: 0,"}}
[info] >        bulkWritersCount: 0, {"user":"      bulkWritersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       bulkWritersCount: 0,"}}
[info] >        _traceUtil: DisabledTraceUtil {}, {"user":"      _traceUtil: DisabledTraceUtil {},","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _traceUtil: DisabledTraceUtil {},"}}
[info] >        _backoffSettings: [Object], {"user":"      _backoffSettings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _backoffSettings: [Object],"}}
[info] >        _clientPool: [ClientPool], {"user":"      _clientPool: [ClientPool],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _clientPool: [ClientPool],"}}
[info] >        _gax: [Object] {"user":"      _gax: [Object]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _gax: [Object]"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _queryOptions: QueryOptions { {"user":"    _queryOptions: QueryOptions {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryOptions: QueryOptions {"}}
[info] >        parentPath: [ResourcePath], {"user":"      parentPath: [ResourcePath],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       parentPath: [ResourcePath],"}}
[info] >        collectionId: 'purchaseItems', {"user":"      collectionId: 'purchaseItems',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       collectionId: 'purchaseItems',"}}
[info] >        converter: [Object], {"user":"      converter: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       converter: [Object],"}}
[info] >        allDescendants: false, {"user":"      allDescendants: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allDescendants: false,"}}
[info] >        filters: [Array], {"user":"      filters: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       filters: [Array],"}}
[info] >        fieldOrders: [Array], {"user":"      fieldOrders: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       fieldOrders: [Array],"}}
[info] >        startAt: undefined, {"user":"      startAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       startAt: undefined,"}}
[info] >        endAt: undefined, {"user":"      endAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       endAt: undefined,"}}
[info] >        limit: undefined, {"user":"      limit: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limit: undefined,"}}
[info] >        limitType: undefined, {"user":"      limitType: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limitType: undefined,"}}
[info] >        offset: undefined, {"user":"      offset: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       offset: undefined,"}}
[info] >        projection: undefined, {"user":"      projection: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       projection: undefined,"}}
[info] >        kindless: false, {"user":"      kindless: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       kindless: false,"}}
[info] >        requireConsistency: true {"user":"      requireConsistency: true","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       requireConsistency: true"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _serializer: Serializer { {"user":"    _serializer: Serializer {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _serializer: Serializer {"}}
[info] >        createReference: [Function (anonymous)], {"user":"      createReference: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createReference: [Function (anonymous)],"}}
[info] >        createInteger: [Function (anonymous)], {"user":"      createInteger: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createInteger: [Function (anonymous)],"}}
[info] >        allowUndefined: false {"user":"      allowUndefined: false","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allowUndefined: false"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _allowUndefined: false, {"user":"    _allowUndefined: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _allowUndefined: false,"}}
[info] >      _queryUtil: QueryUtil { {"user":"    _queryUtil: QueryUtil {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryUtil: QueryUtil {"}}
[info] >        _firestore: [Firestore], {"user":"      _firestore: [Firestore],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _firestore: [Firestore],"}}
[info] >        _queryOptions: [QueryOptions], {"user":"      _queryOptions: [QueryOptions],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _queryOptions: [QueryOptions],"}}
[info] >        _serializer: [Serializer] {"user":"      _serializer: [Serializer]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer]"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    _readTime: Timestamp { _seconds: 1729252188, _nanoseconds: 940985000 }, {"user":"  _readTime: Timestamp { _seconds: 1729252188, _nanoseconds: 940985000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _readTime: Timestamp { _seconds: 1729252188, _nanoseconds: 940985000 },"}}
[info] >    _size: 1, {"user":"  _size: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _size: 1,"}}
[info] >    _materializedDocs: null, {"user":"  _materializedDocs: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedDocs: null,"}}
[info] >    _materializedChanges: null, {"user":"  _materializedChanges: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedChanges: null,"}}
[info] >    _docs: [Function (anonymous)], {"user":"  _docs: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _docs: [Function (anonymous)],"}}
[info] >    _changes: [Function (anonymous)] {"user":"  _changes: [Function (anonymous)]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _changes: [Function (anonymous)]"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2024-10-18T11:49:49.396Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 85.8734ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 85.8734ms"}}
[debug] [2024-10-18T11:49:49.397Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T11:49:49.397Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T11:49:49.397Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T11:49:49.397Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] >  [ {"user":"[","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ["}}
[info] >    { {"user":"  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   {"}}
[info] >      id: 'AIxFbug16kvF6PQU0ybK', {"user":"    id: 'AIxFbug16kvF6PQU0ybK',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     id: 'AIxFbug16kvF6PQU0ybK',"}}
[info] >      productId: '2PHnd6lM4TG6lP6Y5fOc', {"user":"    productId: '2PHnd6lM4TG6lP6Y5fOc',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     productId: '2PHnd6lM4TG6lP6Y5fOc',"}}
[info] >      qty: 1, {"user":"    qty: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     qty: 1,"}}
[info] >      netPrice: 1, {"user":"    netPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     netPrice: 1,"}}
[info] >      partnerComm: 1, {"user":"    partnerComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     partnerComm: 1,"}}
[info] >      companyComm: 1, {"user":"    companyComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     companyComm: 1,"}}
[info] >      pricePerPerson: 1, {"user":"    pricePerPerson: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     pricePerPerson: 1,"}}
[info] >      minTotalPrice: 1, {"user":"    minTotalPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     minTotalPrice: 1,"}}
[info] >      totalPrice: 3, {"user":"    totalPrice: 3,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totalPrice: 3,"}}
[info] >      date: '2024-10-18', {"user":"    date: '2024-10-18',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: '2024-10-18',"}}
[info] >      cityId: 'OiCHcy7zKcp2uU3zlMPU', {"user":"    cityId: 'OiCHcy7zKcp2uU3zlMPU',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     cityId: 'OiCHcy7zKcp2uU3zlMPU',"}}
[info] >      totemId: '1LoQvuu4KzHC1ux7qfOR', {"user":"    totemId: '1LoQvuu4KzHC1ux7qfOR',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totemId: '1LoQvuu4KzHC1ux7qfOR',"}}
[info] >      purchaseId: 'zuDSRe9m9p2oU9O4Kz1o', {"user":"    purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',"}}
[info] >      customerId: 'rMuIfSk9AarUm73FZVtC', {"user":"    customerId: 'rMuIfSk9AarUm73FZVtC',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     customerId: 'rMuIfSk9AarUm73FZVtC',"}}
[info] >      timestamp: 1729177549038 {"user":"    timestamp: 1729177549038","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     timestamp: 1729177549038"}}
[info] >    } {"user":"  }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   }"}}
[info] >  ] {"user":"]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ]"}}
[debug] [2024-10-18T11:51:25.939Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/get-slides/-2024-10-18T11:51:25.939Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T11:51:25.939Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/get-slides/-2024-10-18T11:51:25.939Z"],"workRunningCount":1}
[debug] [2024-10-18T11:51:25.939Z] Accepted request GET /totem-tour/us-central1/totem/get-slides/ --> us-central1-totem
[debug] [2024-10-18T11:51:25.943Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T11:51:25.943Z] [functions] Got req.url=/totem-tour/us-central1/totem/get-slides/, mapping to path=/get-slides/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/get-slides/, mapping to path=/get-slides/"}}
[debug] [2024-10-18T11:51:25.943Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T11:51:25.943Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[debug] [2024-10-18T11:51:26.050Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 107.0376ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 107.0376ms"}}
[debug] [2024-10-18T11:51:26.051Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T11:51:26.051Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T11:51:26.051Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T11:51:26.051Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:00:59.461Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/products-2024-10-18T12:00:59.461Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:00:59.462Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/products-2024-10-18T12:00:59.461Z"],"workRunningCount":1}
[debug] [2024-10-18T12:00:59.462Z] Accepted request GET /totem-tour/us-central1/totem/products --> us-central1-totem
[debug] [2024-10-18T12:00:59.465Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:00:59.465Z] [functions] Got req.url=/totem-tour/us-central1/totem/products, mapping to path=/products {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/products, mapping to path=/products"}}
[debug] [2024-10-18T12:00:59.465Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:00:59.466Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[debug] [2024-10-18T12:00:59.467Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/cities-2024-10-18T12:00:59.467Z"],"queueLength":1,"runningWork":["/totem-tour/us-central1/totem/products-2024-10-18T12:00:59.461Z"],"workRunningCount":1}
[debug] [2024-10-18T12:00:59.467Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/products-2024-10-18T12:00:59.461Z","/totem-tour/us-central1/totem/cities-2024-10-18T12:00:59.467Z"],"workRunningCount":2}
[debug] [2024-10-18T12:00:59.467Z] Accepted request GET /totem-tour/us-central1/totem/cities --> us-central1-totem
[debug] [2024-10-18T12:00:59.470Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:00:59.470Z] [functions] Got req.url=/totem-tour/us-central1/totem/cities, mapping to path=/cities {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/cities, mapping to path=/cities"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-10-18T12:00:59.489Z] [worker-pool] addWorker(us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-totem)"}}
[debug] [2024-10-18T12:00:59.489Z] [worker-pool] Adding worker with key us-central1-totem, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-totem, total=2"}}
[debug] [2024-10-18T12:00:59.490Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/next-availabilities/-2024-10-18T12:00:59.490Z"],"queueLength":1,"runningWork":["/totem-tour/us-central1/totem/products-2024-10-18T12:00:59.461Z","/totem-tour/us-central1/totem/cities-2024-10-18T12:00:59.467Z"],"workRunningCount":2}
[debug] [2024-10-18T12:00:59.490Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/products-2024-10-18T12:00:59.461Z","/totem-tour/us-central1/totem/cities-2024-10-18T12:00:59.467Z","/totem-tour/us-central1/totem/next-availabilities/-2024-10-18T12:00:59.490Z"],"workRunningCount":3}
[debug] [2024-10-18T12:00:59.490Z] Accepted request GET /totem-tour/us-central1/totem/next-availabilities/ --> us-central1-totem
[debug] [2024-10-18T12:00:59.494Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:00:59.494Z] [functions] Got req.url=/totem-tour/us-central1/totem/next-availabilities/, mapping to path=/next-availabilities/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/next-availabilities/, mapping to path=/next-availabilities/"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-10-18T12:00:59.513Z] [worker-pool] addWorker(us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-totem)"}}
[debug] [2024-10-18T12:00:59.514Z] [worker-pool] Adding worker with key us-central1-totem, total=3 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-totem, total=3"}}
[debug] [2024-10-18T12:00:59.516Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/products-2024-10-18T12:00:59.516Z"],"queueLength":1,"runningWork":["/totem-tour/us-central1/totem/products-2024-10-18T12:00:59.461Z","/totem-tour/us-central1/totem/cities-2024-10-18T12:00:59.467Z","/totem-tour/us-central1/totem/next-availabilities/-2024-10-18T12:00:59.490Z"],"workRunningCount":3}
[debug] [2024-10-18T12:00:59.516Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/products-2024-10-18T12:00:59.461Z","/totem-tour/us-central1/totem/cities-2024-10-18T12:00:59.467Z","/totem-tour/us-central1/totem/next-availabilities/-2024-10-18T12:00:59.490Z","/totem-tour/us-central1/totem/products-2024-10-18T12:00:59.516Z"],"workRunningCount":4}
[debug] [2024-10-18T12:00:59.516Z] Accepted request GET /totem-tour/us-central1/totem/products --> us-central1-totem
[debug] [2024-10-18T12:00:59.518Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:00:59.519Z] [functions] Got req.url=/totem-tour/us-central1/totem/products, mapping to path=/products {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/products, mapping to path=/products"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-10-18T12:00:59.538Z] [worker-pool] addWorker(us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-totem)"}}
[debug] [2024-10-18T12:00:59.538Z] [worker-pool] Adding worker with key us-central1-totem, total=4 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-totem, total=4"}}
[debug] [2024-10-18T12:00:59.540Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/cities-2024-10-18T12:00:59.540Z"],"queueLength":1,"runningWork":["/totem-tour/us-central1/totem/products-2024-10-18T12:00:59.461Z","/totem-tour/us-central1/totem/cities-2024-10-18T12:00:59.467Z","/totem-tour/us-central1/totem/next-availabilities/-2024-10-18T12:00:59.490Z","/totem-tour/us-central1/totem/products-2024-10-18T12:00:59.516Z"],"workRunningCount":4}
[debug] [2024-10-18T12:00:59.540Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/products-2024-10-18T12:00:59.461Z","/totem-tour/us-central1/totem/cities-2024-10-18T12:00:59.467Z","/totem-tour/us-central1/totem/next-availabilities/-2024-10-18T12:00:59.490Z","/totem-tour/us-central1/totem/products-2024-10-18T12:00:59.516Z","/totem-tour/us-central1/totem/cities-2024-10-18T12:00:59.540Z"],"workRunningCount":5}
[debug] [2024-10-18T12:00:59.540Z] Accepted request GET /totem-tour/us-central1/totem/cities --> us-central1-totem
[debug] [2024-10-18T12:00:59.543Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:00:59.543Z] [functions] Got req.url=/totem-tour/us-central1/totem/cities, mapping to path=/cities {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/cities, mapping to path=/cities"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-10-18T12:00:59.559Z] [worker-pool] addWorker(us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-totem)"}}
[debug] [2024-10-18T12:00:59.559Z] [worker-pool] Adding worker with key us-central1-totem, total=5 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-totem, total=5"}}
[debug] [2024-10-18T12:00:59.560Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/next-availabilities/-2024-10-18T12:00:59.560Z"],"queueLength":1,"runningWork":["/totem-tour/us-central1/totem/products-2024-10-18T12:00:59.461Z","/totem-tour/us-central1/totem/cities-2024-10-18T12:00:59.467Z","/totem-tour/us-central1/totem/next-availabilities/-2024-10-18T12:00:59.490Z","/totem-tour/us-central1/totem/products-2024-10-18T12:00:59.516Z","/totem-tour/us-central1/totem/cities-2024-10-18T12:00:59.540Z"],"workRunningCount":5}
[debug] [2024-10-18T12:00:59.560Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/products-2024-10-18T12:00:59.461Z","/totem-tour/us-central1/totem/cities-2024-10-18T12:00:59.467Z","/totem-tour/us-central1/totem/next-availabilities/-2024-10-18T12:00:59.490Z","/totem-tour/us-central1/totem/products-2024-10-18T12:00:59.516Z","/totem-tour/us-central1/totem/cities-2024-10-18T12:00:59.540Z","/totem-tour/us-central1/totem/next-availabilities/-2024-10-18T12:00:59.560Z"],"workRunningCount":6}
[debug] [2024-10-18T12:00:59.560Z] Accepted request GET /totem-tour/us-central1/totem/next-availabilities/ --> us-central1-totem
[debug] [2024-10-18T12:00:59.562Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:00:59.562Z] [functions] Got req.url=/totem-tour/us-central1/totem/next-availabilities/, mapping to path=/next-availabilities/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/next-availabilities/, mapping to path=/next-availabilities/"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2024-10-18T12:00:59.581Z] [worker-pool] addWorker(us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-totem)"}}
[debug] [2024-10-18T12:00:59.582Z] [worker-pool] Adding worker with key us-central1-totem, total=6 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-totem, total=6"}}
[debug] [2024-10-18T12:00:59.722Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 255.7988ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 255.7988ms"}}
[debug] [2024-10-18T12:00:59.722Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T12:00:59.723Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:00:59.723Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:00:59.723Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/cities-2024-10-18T12:00:59.467Z","/totem-tour/us-central1/totem/next-availabilities/-2024-10-18T12:00:59.490Z","/totem-tour/us-central1/totem/products-2024-10-18T12:00:59.516Z","/totem-tour/us-central1/totem/cities-2024-10-18T12:00:59.540Z","/totem-tour/us-central1/totem/next-availabilities/-2024-10-18T12:00:59.560Z"],"workRunningCount":5}
[debug] [2024-10-18T12:01:01.437Z] [runtime-status] [28780] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.5.0","resolution":"C:\\Users\\chris\\projects\\resourses\\totem-tour\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[runtime-status] [28780] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.5.0\",\"resolution\":\"C:\\\\Users\\\\chris\\\\projects\\\\resourses\\\\totem-tour\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2024-10-18T12:01:01.439Z] [runtime-status] [28780] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.1.1","resolution":"C:\\Users\\chris\\projects\\resourses\\totem-tour\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[runtime-status] [28780] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.1.1\",\"resolution\":\"C:\\\\Users\\\\chris\\\\projects\\\\resourses\\\\totem-tour\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-10-18T12:01:01.439Z] [runtime-status] [28780] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[runtime-status] [28780] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-10-18T12:01:01.440Z] [runtime-status] [28780] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.1.1","resolution":"C:\\Users\\chris\\projects\\resourses\\totem-tour\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[runtime-status] [28780] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.1.1\",\"resolution\":\"C:\\\\Users\\\\chris\\\\projects\\\\resourses\\\\totem-tour\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-10-18T12:01:01.443Z] [runtime-status] [22856] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.5.0","resolution":"C:\\Users\\chris\\projects\\resourses\\totem-tour\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[runtime-status] [22856] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.5.0\",\"resolution\":\"C:\\\\Users\\\\chris\\\\projects\\\\resourses\\\\totem-tour\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2024-10-18T12:01:01.445Z] [runtime-status] [22856] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.1.1","resolution":"C:\\Users\\chris\\projects\\resourses\\totem-tour\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[runtime-status] [22856] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.1.1\",\"resolution\":\"C:\\\\Users\\\\chris\\\\projects\\\\resourses\\\\totem-tour\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-10-18T12:01:01.446Z] [runtime-status] [25368] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.5.0","resolution":"C:\\Users\\chris\\projects\\resourses\\totem-tour\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[runtime-status] [25368] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.5.0\",\"resolution\":\"C:\\\\Users\\\\chris\\\\projects\\\\resourses\\\\totem-tour\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2024-10-18T12:01:01.446Z] [runtime-status] [22856] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[runtime-status] [22856] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-10-18T12:01:01.447Z] [runtime-status] [22856] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.1.1","resolution":"C:\\Users\\chris\\projects\\resourses\\totem-tour\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[runtime-status] [22856] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.1.1\",\"resolution\":\"C:\\\\Users\\\\chris\\\\projects\\\\resourses\\\\totem-tour\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-10-18T12:01:01.448Z] [runtime-status] [25368] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.1.1","resolution":"C:\\Users\\chris\\projects\\resourses\\totem-tour\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[runtime-status] [25368] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.1.1\",\"resolution\":\"C:\\\\Users\\\\chris\\\\projects\\\\resourses\\\\totem-tour\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-10-18T12:01:01.449Z] [runtime-status] [25368] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[runtime-status] [25368] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-10-18T12:01:01.451Z] [runtime-status] [25368] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.1.1","resolution":"C:\\Users\\chris\\projects\\resourses\\totem-tour\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[runtime-status] [25368] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.1.1\",\"resolution\":\"C:\\\\Users\\\\chris\\\\projects\\\\resourses\\\\totem-tour\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-10-18T12:01:01.490Z] [runtime-status] [32504] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.5.0","resolution":"C:\\Users\\chris\\projects\\resourses\\totem-tour\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[runtime-status] [32504] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.5.0\",\"resolution\":\"C:\\\\Users\\\\chris\\\\projects\\\\resourses\\\\totem-tour\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2024-10-18T12:01:01.493Z] [runtime-status] [32504] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.1.1","resolution":"C:\\Users\\chris\\projects\\resourses\\totem-tour\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[runtime-status] [32504] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.1.1\",\"resolution\":\"C:\\\\Users\\\\chris\\\\projects\\\\resourses\\\\totem-tour\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-10-18T12:01:01.493Z] [runtime-status] [32504] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[runtime-status] [32504] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-10-18T12:01:01.495Z] [runtime-status] [32504] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.1.1","resolution":"C:\\Users\\chris\\projects\\resourses\\totem-tour\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[runtime-status] [32504] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.1.1\",\"resolution\":\"C:\\\\Users\\\\chris\\\\projects\\\\resourses\\\\totem-tour\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-10-18T12:01:01.495Z] [runtime-status] [5224] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.5.0","resolution":"C:\\Users\\chris\\projects\\resourses\\totem-tour\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[runtime-status] [5224] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.5.0\",\"resolution\":\"C:\\\\Users\\\\chris\\\\projects\\\\resourses\\\\totem-tour\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2024-10-18T12:01:01.498Z] [runtime-status] [5224] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.1.1","resolution":"C:\\Users\\chris\\projects\\resourses\\totem-tour\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[runtime-status] [5224] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.1.1\",\"resolution\":\"C:\\\\Users\\\\chris\\\\projects\\\\resourses\\\\totem-tour\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-10-18T12:01:01.498Z] [runtime-status] [5224] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[runtime-status] [5224] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-10-18T12:01:01.500Z] [runtime-status] [5224] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.1.1","resolution":"C:\\Users\\chris\\projects\\resourses\\totem-tour\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[runtime-status] [5224] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.1.1\",\"resolution\":\"C:\\\\Users\\\\chris\\\\projects\\\\resourses\\\\totem-tour\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-10-18T12:01:01.838Z] [runtime-status] [28780] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[runtime-status] [28780] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-10-18T12:01:01.839Z] [runtime-status] [28780] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"5.1.1","resolution":"C:\\Users\\chris\\projects\\resourses\\totem-tour\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[runtime-status] [28780] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"5.1.1\",\"resolution\":\"C:\\\\Users\\\\chris\\\\projects\\\\resourses\\\\totem-tour\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2024-10-18T12:01:01.841Z] [runtime-status] [28780] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.1.1","resolution":"C:\\Users\\chris\\projects\\resourses\\totem-tour\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[runtime-status] [28780] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.1.1\",\"resolution\":\"C:\\\\Users\\\\chris\\\\projects\\\\resourses\\\\totem-tour\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-10-18T12:01:01.843Z] [runtime-status] [28780] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.5.0","resolution":"C:\\Users\\chris\\projects\\resourses\\totem-tour\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[runtime-status] [28780] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.5.0\",\"resolution\":\"C:\\\\Users\\\\chris\\\\projects\\\\resourses\\\\totem-tour\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2024-10-18T12:01:01.844Z] [runtime-status] [22856] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[runtime-status] [22856] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-10-18T12:01:01.844Z] [runtime-status] [22856] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"5.1.1","resolution":"C:\\Users\\chris\\projects\\resourses\\totem-tour\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[runtime-status] [22856] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"5.1.1\",\"resolution\":\"C:\\\\Users\\\\chris\\\\projects\\\\resourses\\\\totem-tour\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2024-10-18T12:01:01.845Z] [runtime-status] [22856] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.1.1","resolution":"C:\\Users\\chris\\projects\\resourses\\totem-tour\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[runtime-status] [22856] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.1.1\",\"resolution\":\"C:\\\\Users\\\\chris\\\\projects\\\\resourses\\\\totem-tour\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-10-18T12:01:01.847Z] [runtime-status] [28780] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.1.1","resolution":"C:\\Users\\chris\\projects\\resourses\\totem-tour\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[runtime-status] [28780] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.1.1\",\"resolution\":\"C:\\\\Users\\\\chris\\\\projects\\\\resourses\\\\totem-tour\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-10-18T12:01:01.847Z] [runtime-status] [22856] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.5.0","resolution":"C:\\Users\\chris\\projects\\resourses\\totem-tour\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[runtime-status] [22856] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.5.0\",\"resolution\":\"C:\\\\Users\\\\chris\\\\projects\\\\resourses\\\\totem-tour\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2024-10-18T12:01:01.848Z] [runtime-status] [28780] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"12.5.0","resolution":"C:\\Users\\chris\\projects\\resourses\\totem-tour\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[runtime-status] [28780] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"12.5.0\",\"resolution\":\"C:\\\\Users\\\\chris\\\\projects\\\\resourses\\\\totem-tour\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2024-10-18T12:01:01.849Z] [runtime-status] [22856] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.1.1","resolution":"C:\\Users\\chris\\projects\\resourses\\totem-tour\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[runtime-status] [22856] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.1.1\",\"resolution\":\"C:\\\\Users\\\\chris\\\\projects\\\\resourses\\\\totem-tour\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-10-18T12:01:01.850Z] [runtime-status] [22856] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"12.5.0","resolution":"C:\\Users\\chris\\projects\\resourses\\totem-tour\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[runtime-status] [22856] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"12.5.0\",\"resolution\":\"C:\\\\Users\\\\chris\\\\projects\\\\resourses\\\\totem-tour\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2024-10-18T12:01:01.864Z] [runtime-status] [25368] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[runtime-status] [25368] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-10-18T12:01:01.867Z] [runtime-status] [25368] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"5.1.1","resolution":"C:\\Users\\chris\\projects\\resourses\\totem-tour\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[runtime-status] [25368] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"5.1.1\",\"resolution\":\"C:\\\\Users\\\\chris\\\\projects\\\\resourses\\\\totem-tour\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2024-10-18T12:01:01.867Z] [runtime-status] [25368] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.1.1","resolution":"C:\\Users\\chris\\projects\\resourses\\totem-tour\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[runtime-status] [25368] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.1.1\",\"resolution\":\"C:\\\\Users\\\\chris\\\\projects\\\\resourses\\\\totem-tour\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-10-18T12:01:01.868Z] [runtime-status] [25368] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.5.0","resolution":"C:\\Users\\chris\\projects\\resourses\\totem-tour\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[runtime-status] [25368] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.5.0\",\"resolution\":\"C:\\\\Users\\\\chris\\\\projects\\\\resourses\\\\totem-tour\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2024-10-18T12:01:01.871Z] [runtime-status] [25368] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.1.1","resolution":"C:\\Users\\chris\\projects\\resourses\\totem-tour\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[runtime-status] [25368] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.1.1\",\"resolution\":\"C:\\\\Users\\\\chris\\\\projects\\\\resourses\\\\totem-tour\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-10-18T12:01:01.871Z] [runtime-status] [25368] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"12.5.0","resolution":"C:\\Users\\chris\\projects\\resourses\\totem-tour\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[runtime-status] [25368] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"12.5.0\",\"resolution\":\"C:\\\\Users\\\\chris\\\\projects\\\\resourses\\\\totem-tour\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2024-10-18T12:01:01.904Z] [runtime-status] [5224] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[runtime-status] [5224] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-10-18T12:01:01.905Z] [runtime-status] [5224] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"5.1.1","resolution":"C:\\Users\\chris\\projects\\resourses\\totem-tour\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[runtime-status] [5224] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"5.1.1\",\"resolution\":\"C:\\\\Users\\\\chris\\\\projects\\\\resourses\\\\totem-tour\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2024-10-18T12:01:01.905Z] [runtime-status] [5224] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.1.1","resolution":"C:\\Users\\chris\\projects\\resourses\\totem-tour\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[runtime-status] [5224] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.1.1\",\"resolution\":\"C:\\\\Users\\\\chris\\\\projects\\\\resourses\\\\totem-tour\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-10-18T12:01:01.907Z] [runtime-status] [5224] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.5.0","resolution":"C:\\Users\\chris\\projects\\resourses\\totem-tour\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[runtime-status] [5224] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.5.0\",\"resolution\":\"C:\\\\Users\\\\chris\\\\projects\\\\resourses\\\\totem-tour\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2024-10-18T12:01:01.911Z] [runtime-status] [5224] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.1.1","resolution":"C:\\Users\\chris\\projects\\resourses\\totem-tour\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[runtime-status] [5224] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.1.1\",\"resolution\":\"C:\\\\Users\\\\chris\\\\projects\\\\resourses\\\\totem-tour\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-10-18T12:01:01.911Z] [runtime-status] [5224] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"12.5.0","resolution":"C:\\Users\\chris\\projects\\resourses\\totem-tour\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[runtime-status] [5224] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"12.5.0\",\"resolution\":\"C:\\\\Users\\\\chris\\\\projects\\\\resourses\\\\totem-tour\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2024-10-18T12:01:01.914Z] [runtime-status] [32504] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[runtime-status] [32504] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-10-18T12:01:01.915Z] [runtime-status] [32504] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"5.1.1","resolution":"C:\\Users\\chris\\projects\\resourses\\totem-tour\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[runtime-status] [32504] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"5.1.1\",\"resolution\":\"C:\\\\Users\\\\chris\\\\projects\\\\resourses\\\\totem-tour\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}}"}}
[debug] [2024-10-18T12:01:01.916Z] [runtime-status] [32504] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.1.1","resolution":"C:\\Users\\chris\\projects\\resourses\\totem-tour\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[runtime-status] [32504] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.1.1\",\"resolution\":\"C:\\\\Users\\\\chris\\\\projects\\\\resourses\\\\totem-tour\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-10-18T12:01:01.917Z] [runtime-status] [32504] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.5.0","resolution":"C:\\Users\\chris\\projects\\resourses\\totem-tour\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[runtime-status] [32504] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.5.0\",\"resolution\":\"C:\\\\Users\\\\chris\\\\projects\\\\resourses\\\\totem-tour\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2024-10-18T12:01:01.920Z] [runtime-status] [32504] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.1.1","resolution":"C:\\Users\\chris\\projects\\resourses\\totem-tour\\functions\\node_modules\\firebase-functions\\lib\\v1\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[runtime-status] [32504] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.1.1\",\"resolution\":\"C:\\\\Users\\\\chris\\\\projects\\\\resourses\\\\totem-tour\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\v1\\\\index.js\"}"}}
[debug] [2024-10-18T12:01:01.921Z] [runtime-status] [32504] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"12.5.0","resolution":"C:\\Users\\chris\\projects\\resourses\\totem-tour\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[runtime-status] [32504] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"12.5.0\",\"resolution\":\"C:\\\\Users\\\\chris\\\\projects\\\\resourses\\\\totem-tour\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[info] >  PRODUCTION false {"user":"PRODUCTION false","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m PRODUCTION false"}}
[info] >  MP-KEY APP_USR-5803744304383341-101217-a2eda4ca0653c5d7dd87b55c9836c834-2032016489 {"user":"MP-KEY APP_USR-5803744304383341-101217-a2eda4ca0653c5d7dd87b55c9836c834-2032016489","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m MP-KEY APP_USR-5803744304383341-101217-a2eda4ca0653c5d7dd87b55c9836c834-2032016489"}}
[info] >  PRODUCTION false {"user":"PRODUCTION false","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m PRODUCTION false"}}
[info] >  MP-KEY APP_USR-5803744304383341-101217-a2eda4ca0653c5d7dd87b55c9836c834-2032016489 {"user":"MP-KEY APP_USR-5803744304383341-101217-a2eda4ca0653c5d7dd87b55c9836c834-2032016489","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m MP-KEY APP_USR-5803744304383341-101217-a2eda4ca0653c5d7dd87b55c9836c834-2032016489"}}
[debug] [2024-10-18T12:01:02.130Z] [runtime-status] [28780] Functions runtime initialized. {"cwd":"C:\\Users\\chris\\projects\\resourses\\totem-tour\\functions","node_version":"20.10.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[runtime-status] [28780] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\chris\\\\projects\\\\resourses\\\\totem-tour\\\\functions\",\"node_version\":\"20.10.0\"}"}}
[debug] [2024-10-18T12:01:02.131Z] [runtime-status] [28780] Listening to port: \\?\pipe\fire_emu_e1e3718fda4a5fd8 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[runtime-status] [28780] Listening to port: \\\\?\\pipe\\fire_emu_e1e3718fda4a5fd8"}}
[debug] [2024-10-18T12:01:02.135Z] [runtime-status] [22856] Functions runtime initialized. {"cwd":"C:\\Users\\chris\\projects\\resourses\\totem-tour\\functions","node_version":"20.10.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[runtime-status] [22856] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\chris\\\\projects\\\\resourses\\\\totem-tour\\\\functions\",\"node_version\":\"20.10.0\"}"}}
[debug] [2024-10-18T12:01:02.136Z] [runtime-status] [22856] Listening to port: \\?\pipe\fire_emu_321c84fa00e4eec3 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[runtime-status] [22856] Listening to port: \\\\?\\pipe\\fire_emu_321c84fa00e4eec3"}}
[info] >  PRODUCTION false {"user":"PRODUCTION false","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m PRODUCTION false"}}
[info] >  MP-KEY APP_USR-5803744304383341-101217-a2eda4ca0653c5d7dd87b55c9836c834-2032016489 {"user":"MP-KEY APP_USR-5803744304383341-101217-a2eda4ca0653c5d7dd87b55c9836c834-2032016489","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m MP-KEY APP_USR-5803744304383341-101217-a2eda4ca0653c5d7dd87b55c9836c834-2032016489"}}
[debug] [2024-10-18T12:01:02.172Z] [runtime-status] [25368] Functions runtime initialized. {"cwd":"C:\\Users\\chris\\projects\\resourses\\totem-tour\\functions","node_version":"20.10.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[runtime-status] [25368] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\chris\\\\projects\\\\resourses\\\\totem-tour\\\\functions\",\"node_version\":\"20.10.0\"}"}}
[debug] [2024-10-18T12:01:02.173Z] [runtime-status] [25368] Listening to port: \\?\pipe\fire_emu_fea93c96af62ab0d {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[runtime-status] [25368] Listening to port: \\\\?\\pipe\\fire_emu_fea93c96af62ab0d"}}
[info] >  PRODUCTION false {"user":"PRODUCTION false","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m PRODUCTION false"}}
[info] >  MP-KEY APP_USR-5803744304383341-101217-a2eda4ca0653c5d7dd87b55c9836c834-2032016489 {"user":"MP-KEY APP_USR-5803744304383341-101217-a2eda4ca0653c5d7dd87b55c9836c834-2032016489","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m MP-KEY APP_USR-5803744304383341-101217-a2eda4ca0653c5d7dd87b55c9836c834-2032016489"}}
[debug] [2024-10-18T12:01:02.205Z] [worker-us-central1-totem-b713a35b-bf48-4c66-95db-bcdefe677c87]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-b713a35b-bf48-4c66-95db-bcdefe677c87]: IDLE"}}
[debug] [2024-10-18T12:01:02.205Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:01:02.206Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[debug] [2024-10-18T12:01:02.206Z] [worker-us-central1-totem-0badb2b1-b203-46e3-80f7-3873142fd114]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-0badb2b1-b203-46e3-80f7-3873142fd114]: IDLE"}}
[debug] [2024-10-18T12:01:02.207Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:01:02.207Z] [worker-us-central1-totem-b713a35b-bf48-4c66-95db-bcdefe677c87]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-b713a35b-bf48-4c66-95db-bcdefe677c87]: BUSY"}}
[debug] [2024-10-18T12:01:02.214Z] [runtime-status] [5224] Functions runtime initialized. {"cwd":"C:\\Users\\chris\\projects\\resourses\\totem-tour\\functions","node_version":"20.10.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[runtime-status] [5224] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\chris\\\\projects\\\\resourses\\\\totem-tour\\\\functions\",\"node_version\":\"20.10.0\"}"}}
[debug] [2024-10-18T12:01:02.215Z] [runtime-status] [5224] Listening to port: \\?\pipe\fire_emu_46825b152a8667aa {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[runtime-status] [5224] Listening to port: \\\\?\\pipe\\fire_emu_46825b152a8667aa"}}
[debug] [2024-10-18T12:01:02.218Z] [worker-us-central1-totem-5aa40a01-1db3-45e1-b850-919333556e21]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-5aa40a01-1db3-45e1-b850-919333556e21]: IDLE"}}
[debug] [2024-10-18T12:01:02.218Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:01:02.218Z] [worker-us-central1-totem-5aa40a01-1db3-45e1-b850-919333556e21]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-5aa40a01-1db3-45e1-b850-919333556e21]: BUSY"}}
[info] >  PRODUCTION false {"user":"PRODUCTION false","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m PRODUCTION false"}}
[info] >  MP-KEY APP_USR-5803744304383341-101217-a2eda4ca0653c5d7dd87b55c9836c834-2032016489 {"user":"MP-KEY APP_USR-5803744304383341-101217-a2eda4ca0653c5d7dd87b55c9836c834-2032016489","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m MP-KEY APP_USR-5803744304383341-101217-a2eda4ca0653c5d7dd87b55c9836c834-2032016489"}}
[debug] [2024-10-18T12:01:02.261Z] [runtime-status] [32504] Functions runtime initialized. {"cwd":"C:\\Users\\chris\\projects\\resourses\\totem-tour\\functions","node_version":"20.10.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[runtime-status] [32504] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\chris\\\\projects\\\\resourses\\\\totem-tour\\\\functions\",\"node_version\":\"20.10.0\"}"}}
[debug] [2024-10-18T12:01:02.261Z] [runtime-status] [32504] Listening to port: \\?\pipe\fire_emu_591368acde4d52e6 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[runtime-status] [32504] Listening to port: \\\\?\\pipe\\fire_emu_591368acde4d52e6"}}
[debug] [2024-10-18T12:01:02.293Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 86.818ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 86.818ms"}}
[debug] [2024-10-18T12:01:02.293Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T12:01:02.294Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:01:02.294Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:01:02.294Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/cities-2024-10-18T12:00:59.467Z","/totem-tour/us-central1/totem/products-2024-10-18T12:00:59.516Z","/totem-tour/us-central1/totem/cities-2024-10-18T12:00:59.540Z","/totem-tour/us-central1/totem/next-availabilities/-2024-10-18T12:00:59.560Z"],"workRunningCount":4}
[debug] [2024-10-18T12:01:02.311Z] [worker-us-central1-totem-ffb763d0-af41-49db-a021-544727a041b0]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-ffb763d0-af41-49db-a021-544727a041b0]: IDLE"}}
[debug] [2024-10-18T12:01:02.311Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:01:02.312Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[debug] [2024-10-18T12:01:02.313Z] [worker-us-central1-totem-602f7ff5-a3ee-4c4b-b1e3-159b8da396bf]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-602f7ff5-a3ee-4c4b-b1e3-159b8da396bf]: IDLE"}}
[debug] [2024-10-18T12:01:02.313Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:01:02.315Z] [worker-us-central1-totem-0badb2b1-b203-46e3-80f7-3873142fd114]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-0badb2b1-b203-46e3-80f7-3873142fd114]: BUSY"}}
[debug] [2024-10-18T12:01:02.362Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 50.1245ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 50.1245ms"}}
[debug] [2024-10-18T12:01:02.363Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T12:01:02.363Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:01:02.364Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:01:02.364Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/cities-2024-10-18T12:00:59.467Z","/totem-tour/us-central1/totem/products-2024-10-18T12:00:59.516Z","/totem-tour/us-central1/totem/next-availabilities/-2024-10-18T12:00:59.560Z"],"workRunningCount":3}
[warn] !  Google API requested!
   - URL: "https://oauth2.googleapis.com/token"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Google API requested!\n   - URL: \"https://oauth2.googleapis.com/token\"\n   - Be careful, this may be a production service."}}
[warn] !  Google API requested!
   - URL: "https://oauth2.googleapis.com/token"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Google API requested!\n   - URL: \"https://oauth2.googleapis.com/token\"\n   - Be careful, this may be a production service."}}
[warn] !  Google API requested!
   - URL: "https://oauth2.googleapis.com/token"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Google API requested!\n   - URL: \"https://oauth2.googleapis.com/token\"\n   - Be careful, this may be a production service."}}
[debug] [2024-10-18T12:01:03.175Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 956.6806ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 956.6806ms"}}
[debug] [2024-10-18T12:01:03.176Z] [worker-us-central1-totem-5aa40a01-1db3-45e1-b850-919333556e21]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-5aa40a01-1db3-45e1-b850-919333556e21]: IDLE"}}
[debug] [2024-10-18T12:01:03.176Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:01:03.176Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:01:03.176Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/products-2024-10-18T12:00:59.516Z","/totem-tour/us-central1/totem/next-availabilities/-2024-10-18T12:00:59.560Z"],"workRunningCount":2}
[debug] [2024-10-18T12:01:03.197Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 990.1008ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 990.1008ms"}}
[debug] [2024-10-18T12:01:03.198Z] [worker-us-central1-totem-b713a35b-bf48-4c66-95db-bcdefe677c87]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-b713a35b-bf48-4c66-95db-bcdefe677c87]: IDLE"}}
[debug] [2024-10-18T12:01:03.199Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:01:03.199Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:01:03.199Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/next-availabilities/-2024-10-18T12:00:59.560Z"],"workRunningCount":1}
[debug] [2024-10-18T12:01:03.483Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 1167.8018ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 1167.8018ms"}}
[debug] [2024-10-18T12:01:03.483Z] [worker-us-central1-totem-0badb2b1-b203-46e3-80f7-3873142fd114]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-0badb2b1-b203-46e3-80f7-3873142fd114]: IDLE"}}
[debug] [2024-10-18T12:01:03.483Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:01:03.483Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:01:03.483Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:01:04.932Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/products-2024-10-18T12:01:04.932Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:01:04.932Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/products-2024-10-18T12:01:04.932Z"],"workRunningCount":1}
[debug] [2024-10-18T12:01:04.932Z] Accepted request GET /totem-tour/us-central1/totem/products --> us-central1-totem
[debug] [2024-10-18T12:01:04.936Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:01:04.936Z] [functions] Got req.url=/totem-tour/us-central1/totem/products, mapping to path=/products {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/products, mapping to path=/products"}}
[debug] [2024-10-18T12:01:04.936Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:01:04.937Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[debug] [2024-10-18T12:01:04.937Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/products-2024-10-18T12:01:04.937Z"],"queueLength":1,"runningWork":["/totem-tour/us-central1/totem/products-2024-10-18T12:01:04.932Z"],"workRunningCount":1}
[debug] [2024-10-18T12:01:04.938Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/products-2024-10-18T12:01:04.932Z","/totem-tour/us-central1/totem/products-2024-10-18T12:01:04.937Z"],"workRunningCount":2}
[debug] [2024-10-18T12:01:04.938Z] Accepted request GET /totem-tour/us-central1/totem/products --> us-central1-totem
[debug] [2024-10-18T12:01:04.940Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:01:04.941Z] [functions] Got req.url=/totem-tour/us-central1/totem/products, mapping to path=/products {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/products, mapping to path=/products"}}
[debug] [2024-10-18T12:01:04.941Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:01:04.941Z] [worker-us-central1-totem-5aa40a01-1db3-45e1-b850-919333556e21]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-5aa40a01-1db3-45e1-b850-919333556e21]: BUSY"}}
[debug] [2024-10-18T12:01:05.001Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 64.4259ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 64.4259ms"}}
[debug] [2024-10-18T12:01:05.001Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T12:01:05.002Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:01:05.002Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:01:05.002Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/products-2024-10-18T12:01:04.937Z"],"workRunningCount":1}
[debug] [2024-10-18T12:01:05.010Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 68.4157ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 68.4157ms"}}
[debug] [2024-10-18T12:01:05.010Z] [worker-us-central1-totem-5aa40a01-1db3-45e1-b850-919333556e21]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-5aa40a01-1db3-45e1-b850-919333556e21]: IDLE"}}
[debug] [2024-10-18T12:01:05.011Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:01:05.011Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:01:05.011Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:01:08.558Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/sales/-2024-10-18T12:01:08.558Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:01:08.559Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/sales/-2024-10-18T12:01:08.558Z"],"workRunningCount":1}
[debug] [2024-10-18T12:01:08.559Z] Accepted request GET /totem-tour/us-central1/totem/sales/ --> us-central1-totem
[debug] [2024-10-18T12:01:08.560Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:01:08.560Z] [functions] Got req.url=/totem-tour/us-central1/totem/sales/, mapping to path=/sales/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/sales/, mapping to path=/sales/"}}
[debug] [2024-10-18T12:01:08.560Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:01:08.561Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[debug] [2024-10-18T12:01:08.595Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 34.6571ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 34.6571ms"}}
[debug] [2024-10-18T12:01:08.596Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T12:01:08.596Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:01:08.596Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:01:08.596Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:01:13.732Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/products-2024-10-18T12:01:13.732Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:01:13.732Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/products-2024-10-18T12:01:13.732Z"],"workRunningCount":1}
[debug] [2024-10-18T12:01:13.732Z] Accepted request GET /totem-tour/us-central1/totem/products --> us-central1-totem
[debug] [2024-10-18T12:01:13.736Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:01:13.736Z] [functions] Got req.url=/totem-tour/us-central1/totem/products, mapping to path=/products {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/products, mapping to path=/products"}}
[debug] [2024-10-18T12:01:13.736Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:01:13.737Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[debug] [2024-10-18T12:01:13.739Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/products-2024-10-18T12:01:13.739Z"],"queueLength":1,"runningWork":["/totem-tour/us-central1/totem/products-2024-10-18T12:01:13.732Z"],"workRunningCount":1}
[debug] [2024-10-18T12:01:13.740Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/products-2024-10-18T12:01:13.732Z","/totem-tour/us-central1/totem/products-2024-10-18T12:01:13.739Z"],"workRunningCount":2}
[debug] [2024-10-18T12:01:13.740Z] Accepted request GET /totem-tour/us-central1/totem/products --> us-central1-totem
[debug] [2024-10-18T12:01:13.743Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:01:13.743Z] [functions] Got req.url=/totem-tour/us-central1/totem/products, mapping to path=/products {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/products, mapping to path=/products"}}
[debug] [2024-10-18T12:01:13.743Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:01:13.744Z] [worker-us-central1-totem-5aa40a01-1db3-45e1-b850-919333556e21]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-5aa40a01-1db3-45e1-b850-919333556e21]: BUSY"}}
[debug] [2024-10-18T12:01:13.745Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/cities-2024-10-18T12:01:13.745Z"],"queueLength":1,"runningWork":["/totem-tour/us-central1/totem/products-2024-10-18T12:01:13.732Z","/totem-tour/us-central1/totem/products-2024-10-18T12:01:13.739Z"],"workRunningCount":2}
[debug] [2024-10-18T12:01:13.745Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/products-2024-10-18T12:01:13.732Z","/totem-tour/us-central1/totem/products-2024-10-18T12:01:13.739Z","/totem-tour/us-central1/totem/cities-2024-10-18T12:01:13.745Z"],"workRunningCount":3}
[debug] [2024-10-18T12:01:13.745Z] Accepted request GET /totem-tour/us-central1/totem/cities --> us-central1-totem
[debug] [2024-10-18T12:01:13.748Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:01:13.748Z] [functions] Got req.url=/totem-tour/us-central1/totem/cities, mapping to path=/cities {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/cities, mapping to path=/cities"}}
[debug] [2024-10-18T12:01:13.749Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:01:13.749Z] [worker-us-central1-totem-b713a35b-bf48-4c66-95db-bcdefe677c87]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-b713a35b-bf48-4c66-95db-bcdefe677c87]: BUSY"}}
[debug] [2024-10-18T12:01:13.750Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/next-availabilities/-2024-10-18T12:01:13.750Z"],"queueLength":1,"runningWork":["/totem-tour/us-central1/totem/products-2024-10-18T12:01:13.732Z","/totem-tour/us-central1/totem/products-2024-10-18T12:01:13.739Z","/totem-tour/us-central1/totem/cities-2024-10-18T12:01:13.745Z"],"workRunningCount":3}
[debug] [2024-10-18T12:01:13.750Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/products-2024-10-18T12:01:13.732Z","/totem-tour/us-central1/totem/products-2024-10-18T12:01:13.739Z","/totem-tour/us-central1/totem/cities-2024-10-18T12:01:13.745Z","/totem-tour/us-central1/totem/next-availabilities/-2024-10-18T12:01:13.750Z"],"workRunningCount":4}
[debug] [2024-10-18T12:01:13.750Z] Accepted request GET /totem-tour/us-central1/totem/next-availabilities/ --> us-central1-totem
[debug] [2024-10-18T12:01:13.752Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:01:13.752Z] [functions] Got req.url=/totem-tour/us-central1/totem/next-availabilities/, mapping to path=/next-availabilities/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/next-availabilities/, mapping to path=/next-availabilities/"}}
[debug] [2024-10-18T12:01:13.752Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:01:13.753Z] [worker-us-central1-totem-0badb2b1-b203-46e3-80f7-3873142fd114]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-0badb2b1-b203-46e3-80f7-3873142fd114]: BUSY"}}
[debug] [2024-10-18T12:01:13.756Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/cities-2024-10-18T12:01:13.756Z"],"queueLength":1,"runningWork":["/totem-tour/us-central1/totem/products-2024-10-18T12:01:13.732Z","/totem-tour/us-central1/totem/products-2024-10-18T12:01:13.739Z","/totem-tour/us-central1/totem/cities-2024-10-18T12:01:13.745Z","/totem-tour/us-central1/totem/next-availabilities/-2024-10-18T12:01:13.750Z"],"workRunningCount":4}
[debug] [2024-10-18T12:01:13.756Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/products-2024-10-18T12:01:13.732Z","/totem-tour/us-central1/totem/products-2024-10-18T12:01:13.739Z","/totem-tour/us-central1/totem/cities-2024-10-18T12:01:13.745Z","/totem-tour/us-central1/totem/next-availabilities/-2024-10-18T12:01:13.750Z","/totem-tour/us-central1/totem/cities-2024-10-18T12:01:13.756Z"],"workRunningCount":5}
[debug] [2024-10-18T12:01:13.756Z] Accepted request GET /totem-tour/us-central1/totem/cities --> us-central1-totem
[debug] [2024-10-18T12:01:13.759Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:01:13.759Z] [functions] Got req.url=/totem-tour/us-central1/totem/cities, mapping to path=/cities {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/cities, mapping to path=/cities"}}
[debug] [2024-10-18T12:01:13.759Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:01:13.759Z] [worker-us-central1-totem-ffb763d0-af41-49db-a021-544727a041b0]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-ffb763d0-af41-49db-a021-544727a041b0]: BUSY"}}
[debug] [2024-10-18T12:01:13.760Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/next-availabilities/-2024-10-18T12:01:13.760Z"],"queueLength":1,"runningWork":["/totem-tour/us-central1/totem/products-2024-10-18T12:01:13.732Z","/totem-tour/us-central1/totem/products-2024-10-18T12:01:13.739Z","/totem-tour/us-central1/totem/cities-2024-10-18T12:01:13.745Z","/totem-tour/us-central1/totem/next-availabilities/-2024-10-18T12:01:13.750Z","/totem-tour/us-central1/totem/cities-2024-10-18T12:01:13.756Z"],"workRunningCount":5}
[debug] [2024-10-18T12:01:13.760Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/products-2024-10-18T12:01:13.732Z","/totem-tour/us-central1/totem/products-2024-10-18T12:01:13.739Z","/totem-tour/us-central1/totem/cities-2024-10-18T12:01:13.745Z","/totem-tour/us-central1/totem/next-availabilities/-2024-10-18T12:01:13.750Z","/totem-tour/us-central1/totem/cities-2024-10-18T12:01:13.756Z","/totem-tour/us-central1/totem/next-availabilities/-2024-10-18T12:01:13.760Z"],"workRunningCount":6}
[debug] [2024-10-18T12:01:13.760Z] Accepted request GET /totem-tour/us-central1/totem/next-availabilities/ --> us-central1-totem
[debug] [2024-10-18T12:01:13.763Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:01:13.764Z] [functions] Got req.url=/totem-tour/us-central1/totem/next-availabilities/, mapping to path=/next-availabilities/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/next-availabilities/, mapping to path=/next-availabilities/"}}
[debug] [2024-10-18T12:01:13.764Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:01:13.765Z] [worker-us-central1-totem-602f7ff5-a3ee-4c4b-b1e3-159b8da396bf]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-602f7ff5-a3ee-4c4b-b1e3-159b8da396bf]: BUSY"}}
[debug] [2024-10-18T12:01:13.801Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 51.8315ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 51.8315ms"}}
[debug] [2024-10-18T12:01:13.804Z] [worker-us-central1-totem-b713a35b-bf48-4c66-95db-bcdefe677c87]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-b713a35b-bf48-4c66-95db-bcdefe677c87]: IDLE"}}
[debug] [2024-10-18T12:01:13.804Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:01:13.804Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:01:13.804Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/products-2024-10-18T12:01:13.732Z","/totem-tour/us-central1/totem/products-2024-10-18T12:01:13.739Z","/totem-tour/us-central1/totem/next-availabilities/-2024-10-18T12:01:13.750Z","/totem-tour/us-central1/totem/cities-2024-10-18T12:01:13.756Z","/totem-tour/us-central1/totem/next-availabilities/-2024-10-18T12:01:13.760Z"],"workRunningCount":5}
[debug] [2024-10-18T12:01:13.805Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 68.1654ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 68.1654ms"}}
[debug] [2024-10-18T12:01:13.806Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T12:01:13.806Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:01:13.807Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:01:13.807Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/products-2024-10-18T12:01:13.739Z","/totem-tour/us-central1/totem/next-availabilities/-2024-10-18T12:01:13.750Z","/totem-tour/us-central1/totem/cities-2024-10-18T12:01:13.756Z","/totem-tour/us-central1/totem/next-availabilities/-2024-10-18T12:01:13.760Z"],"workRunningCount":4}
[debug] [2024-10-18T12:01:13.807Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 63.8966ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 63.8966ms"}}
[debug] [2024-10-18T12:01:13.808Z] [worker-us-central1-totem-5aa40a01-1db3-45e1-b850-919333556e21]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-5aa40a01-1db3-45e1-b850-919333556e21]: IDLE"}}
[debug] [2024-10-18T12:01:13.810Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:01:13.810Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:01:13.810Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/next-availabilities/-2024-10-18T12:01:13.750Z","/totem-tour/us-central1/totem/cities-2024-10-18T12:01:13.756Z","/totem-tour/us-central1/totem/next-availabilities/-2024-10-18T12:01:13.760Z"],"workRunningCount":3}
[debug] [2024-10-18T12:01:13.836Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 83.5377ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 83.5377ms"}}
[debug] [2024-10-18T12:01:13.837Z] [worker-us-central1-totem-0badb2b1-b203-46e3-80f7-3873142fd114]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-0badb2b1-b203-46e3-80f7-3873142fd114]: IDLE"}}
[debug] [2024-10-18T12:01:13.837Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:01:13.837Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:01:13.838Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/cities-2024-10-18T12:01:13.756Z","/totem-tour/us-central1/totem/next-availabilities/-2024-10-18T12:01:13.760Z"],"workRunningCount":2}
[warn] !  Google API requested!
   - URL: "https://oauth2.googleapis.com/token"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Google API requested!\n   - URL: \"https://oauth2.googleapis.com/token\"\n   - Be careful, this may be a production service."}}
[warn] !  Google API requested!
   - URL: "https://oauth2.googleapis.com/token"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Google API requested!\n   - URL: \"https://oauth2.googleapis.com/token\"\n   - Be careful, this may be a production service."}}
[debug] [2024-10-18T12:01:15.135Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 1375.72ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 1375.72ms"}}
[debug] [2024-10-18T12:01:15.136Z] [worker-us-central1-totem-ffb763d0-af41-49db-a021-544727a041b0]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-ffb763d0-af41-49db-a021-544727a041b0]: IDLE"}}
[debug] [2024-10-18T12:01:15.136Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:01:15.136Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:01:15.136Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/next-availabilities/-2024-10-18T12:01:13.760Z"],"workRunningCount":1}
[debug] [2024-10-18T12:01:15.179Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 1414.811ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 1414.811ms"}}
[debug] [2024-10-18T12:01:15.183Z] [worker-us-central1-totem-602f7ff5-a3ee-4c4b-b1e3-159b8da396bf]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-602f7ff5-a3ee-4c4b-b1e3-159b8da396bf]: IDLE"}}
[debug] [2024-10-18T12:01:15.183Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:01:15.183Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:01:15.183Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:01:16.711Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/products-2024-10-18T12:01:16.711Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:01:16.712Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/products-2024-10-18T12:01:16.711Z"],"workRunningCount":1}
[debug] [2024-10-18T12:01:16.712Z] Accepted request GET /totem-tour/us-central1/totem/products --> us-central1-totem
[debug] [2024-10-18T12:01:16.713Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:01:16.713Z] [functions] Got req.url=/totem-tour/us-central1/totem/products, mapping to path=/products {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/products, mapping to path=/products"}}
[debug] [2024-10-18T12:01:16.713Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:01:16.714Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[debug] [2024-10-18T12:01:16.715Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/products-2024-10-18T12:01:16.715Z"],"queueLength":1,"runningWork":["/totem-tour/us-central1/totem/products-2024-10-18T12:01:16.711Z"],"workRunningCount":1}
[debug] [2024-10-18T12:01:16.715Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/products-2024-10-18T12:01:16.711Z","/totem-tour/us-central1/totem/products-2024-10-18T12:01:16.715Z"],"workRunningCount":2}
[debug] [2024-10-18T12:01:16.715Z] Accepted request GET /totem-tour/us-central1/totem/products --> us-central1-totem
[debug] [2024-10-18T12:01:16.716Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:01:16.716Z] [functions] Got req.url=/totem-tour/us-central1/totem/products, mapping to path=/products {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/products, mapping to path=/products"}}
[debug] [2024-10-18T12:01:16.716Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:01:16.717Z] [worker-us-central1-totem-5aa40a01-1db3-45e1-b850-919333556e21]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-5aa40a01-1db3-45e1-b850-919333556e21]: BUSY"}}
[debug] [2024-10-18T12:01:16.771Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 53.8348ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 53.8348ms"}}
[debug] [2024-10-18T12:01:16.771Z] [worker-us-central1-totem-5aa40a01-1db3-45e1-b850-919333556e21]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-5aa40a01-1db3-45e1-b850-919333556e21]: IDLE"}}
[debug] [2024-10-18T12:01:16.772Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:01:16.772Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:01:16.772Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/products-2024-10-18T12:01:16.711Z"],"workRunningCount":1}
[debug] [2024-10-18T12:01:16.788Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 74.5362ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 74.5362ms"}}
[debug] [2024-10-18T12:01:16.789Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T12:01:16.789Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:01:16.789Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:01:16.790Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:01:18.869Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchases/-2024-10-18T12:01:18.869Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:01:18.869Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchases/-2024-10-18T12:01:18.869Z"],"workRunningCount":1}
[debug] [2024-10-18T12:01:18.869Z] Accepted request GET /totem-tour/us-central1/totem/purchases/ --> us-central1-totem
[debug] [2024-10-18T12:01:18.870Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:01:18.870Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchases/, mapping to path=/purchases/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchases/, mapping to path=/purchases/"}}
[debug] [2024-10-18T12:01:18.870Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:01:18.871Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[debug] [2024-10-18T12:01:18.912Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 41.8251ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 41.8251ms"}}
[debug] [2024-10-18T12:01:18.913Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T12:01:18.913Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:01:18.913Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:01:18.913Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:01:47.469Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:01:47.469Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:01:47.469Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:01:47.469Z"],"workRunningCount":1}
[debug] [2024-10-18T12:01:47.469Z] Accepted request GET /totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T12:01:47.472Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:01:47.472Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T12:01:47.473Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:01:47.478Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[debug] [2024-10-18T12:01:47.545Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 67.4911ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 67.4911ms"}}
[debug] [2024-10-18T12:01:47.546Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T12:01:47.547Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:01:47.547Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:01:47.547Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:01:47.551Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:01:47.551Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:01:47.551Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:01:47.551Z"],"workRunningCount":1}
[debug] [2024-10-18T12:01:47.551Z] Accepted request GET /totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T12:01:47.553Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:01:47.553Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T12:01:47.554Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:01:47.554Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[info] >  QuerySnapshot { {"user":"QuerySnapshot {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m QuerySnapshot {"}}
[info] >    _query: Query { {"user":"  _query: Query {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _query: Query {"}}
[info] >      _firestore: Firestore { {"user":"    _firestore: Firestore {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _firestore: Firestore {"}}
[info] >        _settings: [Object], {"user":"      _settings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settings: [Object],"}}
[info] >        _settingsFrozen: true, {"user":"      _settingsFrozen: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settingsFrozen: true,"}}
[info] >        _serializer: [Serializer], {"user":"      _serializer: [Serializer],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer],"}}
[info] >        _projectId: 'totem-tour', {"user":"      _projectId: 'totem-tour',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _projectId: 'totem-tour',"}}
[info] >        _databaseId: '(default)', {"user":"      _databaseId: '(default)',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _databaseId: '(default)',"}}
[info] >        registeredListenersCount: 0, {"user":"      registeredListenersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       registeredListenersCount: 0,"}}
[info] >        bulkWritersCount: 0, {"user":"      bulkWritersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       bulkWritersCount: 0,"}}
[info] >        _traceUtil: DisabledTraceUtil {}, {"user":"      _traceUtil: DisabledTraceUtil {},","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _traceUtil: DisabledTraceUtil {},"}}
[info] >        _backoffSettings: [Object], {"user":"      _backoffSettings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _backoffSettings: [Object],"}}
[info] >        _clientPool: [ClientPool], {"user":"      _clientPool: [ClientPool],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _clientPool: [ClientPool],"}}
[info] >        _gax: [Object] {"user":"      _gax: [Object]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _gax: [Object]"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _queryOptions: QueryOptions { {"user":"    _queryOptions: QueryOptions {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryOptions: QueryOptions {"}}
[info] >        parentPath: [ResourcePath], {"user":"      parentPath: [ResourcePath],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       parentPath: [ResourcePath],"}}
[info] >        collectionId: 'purchaseItems', {"user":"      collectionId: 'purchaseItems',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       collectionId: 'purchaseItems',"}}
[info] >        converter: [Object], {"user":"      converter: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       converter: [Object],"}}
[info] >        allDescendants: false, {"user":"      allDescendants: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allDescendants: false,"}}
[info] >        filters: [Array], {"user":"      filters: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       filters: [Array],"}}
[info] >        fieldOrders: [Array], {"user":"      fieldOrders: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       fieldOrders: [Array],"}}
[info] >        startAt: undefined, {"user":"      startAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       startAt: undefined,"}}
[info] >        endAt: undefined, {"user":"      endAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       endAt: undefined,"}}
[info] >        limit: undefined, {"user":"      limit: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limit: undefined,"}}
[info] >        limitType: undefined, {"user":"      limitType: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limitType: undefined,"}}
[info] >        offset: undefined, {"user":"      offset: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       offset: undefined,"}}
[info] >        projection: undefined, {"user":"      projection: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       projection: undefined,"}}
[info] >        kindless: false, {"user":"      kindless: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       kindless: false,"}}
[info] >        requireConsistency: true {"user":"      requireConsistency: true","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       requireConsistency: true"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _serializer: Serializer { {"user":"    _serializer: Serializer {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _serializer: Serializer {"}}
[info] >        createReference: [Function (anonymous)], {"user":"      createReference: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createReference: [Function (anonymous)],"}}
[info] >        createInteger: [Function (anonymous)], {"user":"      createInteger: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createInteger: [Function (anonymous)],"}}
[info] >        allowUndefined: false {"user":"      allowUndefined: false","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allowUndefined: false"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _allowUndefined: false, {"user":"    _allowUndefined: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _allowUndefined: false,"}}
[info] >      _queryUtil: QueryUtil { {"user":"    _queryUtil: QueryUtil {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryUtil: QueryUtil {"}}
[info] >        _firestore: [Firestore], {"user":"      _firestore: [Firestore],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _firestore: [Firestore],"}}
[info] >        _queryOptions: [QueryOptions], {"user":"      _queryOptions: [QueryOptions],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _queryOptions: [QueryOptions],"}}
[info] >        _serializer: [Serializer] {"user":"      _serializer: [Serializer]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer]"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    _readTime: Timestamp { _seconds: 1729252907, _nanoseconds: 181510000 }, {"user":"  _readTime: Timestamp { _seconds: 1729252907, _nanoseconds: 181510000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _readTime: Timestamp { _seconds: 1729252907, _nanoseconds: 181510000 },"}}
[info] >    _size: 1, {"user":"  _size: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _size: 1,"}}
[info] >    _materializedDocs: null, {"user":"  _materializedDocs: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedDocs: null,"}}
[info] >    _materializedChanges: null, {"user":"  _materializedChanges: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedChanges: null,"}}
[info] >    _docs: [Function (anonymous)], {"user":"  _docs: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _docs: [Function (anonymous)],"}}
[info] >    _changes: [Function (anonymous)] {"user":"  _changes: [Function (anonymous)]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _changes: [Function (anonymous)]"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2024-10-18T12:01:47.622Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 67.6302ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 67.6302ms"}}
[debug] [2024-10-18T12:01:47.622Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T12:01:47.623Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:01:47.623Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:01:47.623Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] >  [ {"user":"[","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ["}}
[info] >    { {"user":"  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   {"}}
[info] >      id: 'AIxFbug16kvF6PQU0ybK', {"user":"    id: 'AIxFbug16kvF6PQU0ybK',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     id: 'AIxFbug16kvF6PQU0ybK',"}}
[info] >      productId: '2PHnd6lM4TG6lP6Y5fOc', {"user":"    productId: '2PHnd6lM4TG6lP6Y5fOc',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     productId: '2PHnd6lM4TG6lP6Y5fOc',"}}
[info] >      qty: 1, {"user":"    qty: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     qty: 1,"}}
[info] >      netPrice: 1, {"user":"    netPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     netPrice: 1,"}}
[info] >      partnerComm: 1, {"user":"    partnerComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     partnerComm: 1,"}}
[info] >      companyComm: 1, {"user":"    companyComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     companyComm: 1,"}}
[info] >      pricePerPerson: 1, {"user":"    pricePerPerson: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     pricePerPerson: 1,"}}
[info] >      minTotalPrice: 1, {"user":"    minTotalPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     minTotalPrice: 1,"}}
[info] >      totalPrice: 3, {"user":"    totalPrice: 3,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totalPrice: 3,"}}
[info] >      date: '2024-10-18', {"user":"    date: '2024-10-18',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: '2024-10-18',"}}
[info] >      cityId: 'OiCHcy7zKcp2uU3zlMPU', {"user":"    cityId: 'OiCHcy7zKcp2uU3zlMPU',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     cityId: 'OiCHcy7zKcp2uU3zlMPU',"}}
[info] >      totemId: '1LoQvuu4KzHC1ux7qfOR', {"user":"    totemId: '1LoQvuu4KzHC1ux7qfOR',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totemId: '1LoQvuu4KzHC1ux7qfOR',"}}
[info] >      purchaseId: 'zuDSRe9m9p2oU9O4Kz1o', {"user":"    purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',"}}
[info] >      customerId: 'rMuIfSk9AarUm73FZVtC', {"user":"    customerId: 'rMuIfSk9AarUm73FZVtC',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     customerId: 'rMuIfSk9AarUm73FZVtC',"}}
[info] >      timestamp: 1729177549038 {"user":"    timestamp: 1729177549038","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     timestamp: 1729177549038"}}
[info] >    } {"user":"  }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   }"}}
[info] >  ] {"user":"]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ]"}}
[debug] [2024-10-18T12:02:26.258Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:02:26.258Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:02:26.259Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:02:26.258Z"],"workRunningCount":1}
[debug] [2024-10-18T12:02:26.259Z] Accepted request GET /totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T12:02:26.266Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:02:26.267Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T12:02:26.267Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:02:26.269Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[debug] [2024-10-18T12:02:26.379Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 110.5723ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 110.5723ms"}}
[debug] [2024-10-18T12:02:26.382Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T12:02:26.382Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:02:26.382Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:02:26.383Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:02:26.393Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:02:26.393Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:02:26.394Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:02:26.393Z"],"workRunningCount":1}
[debug] [2024-10-18T12:02:26.394Z] Accepted request GET /totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T12:02:26.399Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:02:26.400Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T12:02:26.400Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:02:26.401Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[info] >  QuerySnapshot { {"user":"QuerySnapshot {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m QuerySnapshot {"}}
[info] >    _query: Query { {"user":"  _query: Query {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _query: Query {"}}
[info] >      _firestore: Firestore { {"user":"    _firestore: Firestore {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _firestore: Firestore {"}}
[info] >        _settings: [Object], {"user":"      _settings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settings: [Object],"}}
[info] >        _settingsFrozen: true, {"user":"      _settingsFrozen: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settingsFrozen: true,"}}
[info] >        _serializer: [Serializer], {"user":"      _serializer: [Serializer],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer],"}}
[info] >        _projectId: 'totem-tour', {"user":"      _projectId: 'totem-tour',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _projectId: 'totem-tour',"}}
[info] >        _databaseId: '(default)', {"user":"      _databaseId: '(default)',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _databaseId: '(default)',"}}
[info] >        registeredListenersCount: 0, {"user":"      registeredListenersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       registeredListenersCount: 0,"}}
[info] >        bulkWritersCount: 0, {"user":"      bulkWritersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       bulkWritersCount: 0,"}}
[info] >        _traceUtil: DisabledTraceUtil {}, {"user":"      _traceUtil: DisabledTraceUtil {},","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _traceUtil: DisabledTraceUtil {},"}}
[info] >        _backoffSettings: [Object], {"user":"      _backoffSettings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _backoffSettings: [Object],"}}
[info] >        _clientPool: [ClientPool], {"user":"      _clientPool: [ClientPool],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _clientPool: [ClientPool],"}}
[info] >        _gax: [Object] {"user":"      _gax: [Object]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _gax: [Object]"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _queryOptions: QueryOptions { {"user":"    _queryOptions: QueryOptions {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryOptions: QueryOptions {"}}
[info] >        parentPath: [ResourcePath], {"user":"      parentPath: [ResourcePath],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       parentPath: [ResourcePath],"}}
[info] >        collectionId: 'purchaseItems', {"user":"      collectionId: 'purchaseItems',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       collectionId: 'purchaseItems',"}}
[info] >        converter: [Object], {"user":"      converter: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       converter: [Object],"}}
[info] >        allDescendants: false, {"user":"      allDescendants: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allDescendants: false,"}}
[info] >        filters: [Array], {"user":"      filters: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       filters: [Array],"}}
[info] >        fieldOrders: [Array], {"user":"      fieldOrders: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       fieldOrders: [Array],"}}
[info] >        startAt: undefined, {"user":"      startAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       startAt: undefined,"}}
[info] >        endAt: undefined, {"user":"      endAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       endAt: undefined,"}}
[info] >        limit: undefined, {"user":"      limit: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limit: undefined,"}}
[info] >        limitType: undefined, {"user":"      limitType: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limitType: undefined,"}}
[info] >        offset: undefined, {"user":"      offset: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       offset: undefined,"}}
[info] >        projection: undefined, {"user":"      projection: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       projection: undefined,"}}
[info] >        kindless: false, {"user":"      kindless: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       kindless: false,"}}
[info] >        requireConsistency: true {"user":"      requireConsistency: true","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       requireConsistency: true"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _serializer: Serializer { {"user":"    _serializer: Serializer {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _serializer: Serializer {"}}
[info] >        createReference: [Function (anonymous)], {"user":"      createReference: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createReference: [Function (anonymous)],"}}
[info] >        createInteger: [Function (anonymous)], {"user":"      createInteger: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createInteger: [Function (anonymous)],"}}
[info] >        allowUndefined: false {"user":"      allowUndefined: false","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allowUndefined: false"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _allowUndefined: false, {"user":"    _allowUndefined: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _allowUndefined: false,"}}
[info] >      _queryUtil: QueryUtil { {"user":"    _queryUtil: QueryUtil {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryUtil: QueryUtil {"}}
[info] >        _firestore: [Firestore], {"user":"      _firestore: [Firestore],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _firestore: [Firestore],"}}
[info] >        _queryOptions: [QueryOptions], {"user":"      _queryOptions: [QueryOptions],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _queryOptions: [QueryOptions],"}}
[info] >        _serializer: [Serializer] {"user":"      _serializer: [Serializer]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer]"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    _readTime: Timestamp { _seconds: 1729252946, _nanoseconds: 41557000 }, {"user":"  _readTime: Timestamp { _seconds: 1729252946, _nanoseconds: 41557000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _readTime: Timestamp { _seconds: 1729252946, _nanoseconds: 41557000 },"}}
[info] >    _size: 1, {"user":"  _size: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _size: 1,"}}
[info] >    _materializedDocs: null, {"user":"  _materializedDocs: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedDocs: null,"}}
[info] >    _materializedChanges: null, {"user":"  _materializedChanges: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedChanges: null,"}}
[info] >    _docs: [Function (anonymous)], {"user":"  _docs: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _docs: [Function (anonymous)],"}}
[info] >    _changes: [Function (anonymous)] {"user":"  _changes: [Function (anonymous)]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _changes: [Function (anonymous)]"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2024-10-18T12:02:26.473Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 71.527ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 71.527ms"}}
[debug] [2024-10-18T12:02:26.473Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T12:02:26.473Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:02:26.473Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:02:26.473Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] >  [ {"user":"[","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ["}}
[info] >    { {"user":"  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   {"}}
[info] >      id: 'AIxFbug16kvF6PQU0ybK', {"user":"    id: 'AIxFbug16kvF6PQU0ybK',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     id: 'AIxFbug16kvF6PQU0ybK',"}}
[info] >      productId: '2PHnd6lM4TG6lP6Y5fOc', {"user":"    productId: '2PHnd6lM4TG6lP6Y5fOc',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     productId: '2PHnd6lM4TG6lP6Y5fOc',"}}
[info] >      qty: 1, {"user":"    qty: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     qty: 1,"}}
[info] >      netPrice: 1, {"user":"    netPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     netPrice: 1,"}}
[info] >      partnerComm: 1, {"user":"    partnerComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     partnerComm: 1,"}}
[info] >      companyComm: 1, {"user":"    companyComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     companyComm: 1,"}}
[info] >      pricePerPerson: 1, {"user":"    pricePerPerson: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     pricePerPerson: 1,"}}
[info] >      minTotalPrice: 1, {"user":"    minTotalPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     minTotalPrice: 1,"}}
[info] >      totalPrice: 3, {"user":"    totalPrice: 3,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totalPrice: 3,"}}
[info] >      date: '2024-10-18', {"user":"    date: '2024-10-18',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: '2024-10-18',"}}
[info] >      cityId: 'OiCHcy7zKcp2uU3zlMPU', {"user":"    cityId: 'OiCHcy7zKcp2uU3zlMPU',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     cityId: 'OiCHcy7zKcp2uU3zlMPU',"}}
[info] >      totemId: '1LoQvuu4KzHC1ux7qfOR', {"user":"    totemId: '1LoQvuu4KzHC1ux7qfOR',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totemId: '1LoQvuu4KzHC1ux7qfOR',"}}
[info] >      purchaseId: 'zuDSRe9m9p2oU9O4Kz1o', {"user":"    purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',"}}
[info] >      customerId: 'rMuIfSk9AarUm73FZVtC', {"user":"    customerId: 'rMuIfSk9AarUm73FZVtC',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     customerId: 'rMuIfSk9AarUm73FZVtC',"}}
[info] >      timestamp: 1729177549038 {"user":"    timestamp: 1729177549038","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     timestamp: 1729177549038"}}
[info] >    } {"user":"  }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   }"}}
[info] >  ] {"user":"]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ]"}}
[debug] [2024-10-18T12:02:27.261Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:02:27.261Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:02:27.261Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:02:27.261Z"],"workRunningCount":1}
[debug] [2024-10-18T12:02:27.261Z] Accepted request GET /totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T12:02:27.263Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:02:27.263Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T12:02:27.263Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:02:27.264Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[debug] [2024-10-18T12:02:27.299Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 34.7319ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 34.7319ms"}}
[debug] [2024-10-18T12:02:27.300Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T12:02:27.300Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:02:27.300Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:02:27.300Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:02:27.303Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:02:27.303Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:02:27.303Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:02:27.303Z"],"workRunningCount":1}
[debug] [2024-10-18T12:02:27.303Z] Accepted request GET /totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T12:02:27.304Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:02:27.304Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T12:02:27.305Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:02:27.305Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[info] >  QuerySnapshot { {"user":"QuerySnapshot {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m QuerySnapshot {"}}
[info] >    _query: Query { {"user":"  _query: Query {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _query: Query {"}}
[info] >      _firestore: Firestore { {"user":"    _firestore: Firestore {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _firestore: Firestore {"}}
[info] >        _settings: [Object], {"user":"      _settings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settings: [Object],"}}
[info] >        _settingsFrozen: true, {"user":"      _settingsFrozen: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settingsFrozen: true,"}}
[info] >        _serializer: [Serializer], {"user":"      _serializer: [Serializer],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer],"}}
[info] >        _projectId: 'totem-tour', {"user":"      _projectId: 'totem-tour',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _projectId: 'totem-tour',"}}
[info] >        _databaseId: '(default)', {"user":"      _databaseId: '(default)',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _databaseId: '(default)',"}}
[info] >        registeredListenersCount: 0, {"user":"      registeredListenersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       registeredListenersCount: 0,"}}
[info] >        bulkWritersCount: 0, {"user":"      bulkWritersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       bulkWritersCount: 0,"}}
[info] >        _traceUtil: DisabledTraceUtil {}, {"user":"      _traceUtil: DisabledTraceUtil {},","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _traceUtil: DisabledTraceUtil {},"}}
[info] >        _backoffSettings: [Object], {"user":"      _backoffSettings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _backoffSettings: [Object],"}}
[info] >        _clientPool: [ClientPool], {"user":"      _clientPool: [ClientPool],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _clientPool: [ClientPool],"}}
[info] >        _gax: [Object] {"user":"      _gax: [Object]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _gax: [Object]"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _queryOptions: QueryOptions { {"user":"    _queryOptions: QueryOptions {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryOptions: QueryOptions {"}}
[info] >        parentPath: [ResourcePath], {"user":"      parentPath: [ResourcePath],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       parentPath: [ResourcePath],"}}
[info] >        collectionId: 'purchaseItems', {"user":"      collectionId: 'purchaseItems',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       collectionId: 'purchaseItems',"}}
[info] >        converter: [Object], {"user":"      converter: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       converter: [Object],"}}
[info] >        allDescendants: false, {"user":"      allDescendants: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allDescendants: false,"}}
[info] >        filters: [Array], {"user":"      filters: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       filters: [Array],"}}
[info] >        fieldOrders: [Array], {"user":"      fieldOrders: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       fieldOrders: [Array],"}}
[info] >        startAt: undefined, {"user":"      startAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       startAt: undefined,"}}
[info] >        endAt: undefined, {"user":"      endAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       endAt: undefined,"}}
[info] >        limit: undefined, {"user":"      limit: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limit: undefined,"}}
[info] >        limitType: undefined, {"user":"      limitType: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limitType: undefined,"}}
[info] >        offset: undefined, {"user":"      offset: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       offset: undefined,"}}
[info] >        projection: undefined, {"user":"      projection: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       projection: undefined,"}}
[info] >        kindless: false, {"user":"      kindless: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       kindless: false,"}}
[info] >        requireConsistency: true {"user":"      requireConsistency: true","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       requireConsistency: true"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _serializer: Serializer { {"user":"    _serializer: Serializer {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _serializer: Serializer {"}}
[info] >        createReference: [Function (anonymous)], {"user":"      createReference: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createReference: [Function (anonymous)],"}}
[info] >        createInteger: [Function (anonymous)], {"user":"      createInteger: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createInteger: [Function (anonymous)],"}}
[info] >        allowUndefined: false {"user":"      allowUndefined: false","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allowUndefined: false"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _allowUndefined: false, {"user":"    _allowUndefined: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _allowUndefined: false,"}}
[info] >      _queryUtil: QueryUtil { {"user":"    _queryUtil: QueryUtil {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryUtil: QueryUtil {"}}
[info] >        _firestore: [Firestore], {"user":"      _firestore: [Firestore],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _firestore: [Firestore],"}}
[info] >        _queryOptions: [QueryOptions], {"user":"      _queryOptions: [QueryOptions],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _queryOptions: [QueryOptions],"}}
[info] >        _serializer: [Serializer] {"user":"      _serializer: [Serializer]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer]"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    _readTime: Timestamp { _seconds: 1729252946, _nanoseconds: 943967000 }, {"user":"  _readTime: Timestamp { _seconds: 1729252946, _nanoseconds: 943967000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _readTime: Timestamp { _seconds: 1729252946, _nanoseconds: 943967000 },"}}
[info] >    _size: 1, {"user":"  _size: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _size: 1,"}}
[info] >    _materializedDocs: null, {"user":"  _materializedDocs: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedDocs: null,"}}
[info] >    _materializedChanges: null, {"user":"  _materializedChanges: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedChanges: null,"}}
[info] >    _docs: [Function (anonymous)], {"user":"  _docs: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _docs: [Function (anonymous)],"}}
[info] >    _changes: [Function (anonymous)] {"user":"  _changes: [Function (anonymous)]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _changes: [Function (anonymous)]"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2024-10-18T12:02:27.394Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 89.2436ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 89.2436ms"}}
[debug] [2024-10-18T12:02:27.395Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T12:02:27.395Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:02:27.395Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:02:27.395Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] >  [ {"user":"[","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ["}}
[info] >    { {"user":"  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   {"}}
[info] >      id: 'AIxFbug16kvF6PQU0ybK', {"user":"    id: 'AIxFbug16kvF6PQU0ybK',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     id: 'AIxFbug16kvF6PQU0ybK',"}}
[info] >      productId: '2PHnd6lM4TG6lP6Y5fOc', {"user":"    productId: '2PHnd6lM4TG6lP6Y5fOc',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     productId: '2PHnd6lM4TG6lP6Y5fOc',"}}
[info] >      qty: 1, {"user":"    qty: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     qty: 1,"}}
[info] >      netPrice: 1, {"user":"    netPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     netPrice: 1,"}}
[info] >      partnerComm: 1, {"user":"    partnerComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     partnerComm: 1,"}}
[info] >      companyComm: 1, {"user":"    companyComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     companyComm: 1,"}}
[info] >      pricePerPerson: 1, {"user":"    pricePerPerson: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     pricePerPerson: 1,"}}
[info] >      minTotalPrice: 1, {"user":"    minTotalPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     minTotalPrice: 1,"}}
[info] >      totalPrice: 3, {"user":"    totalPrice: 3,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totalPrice: 3,"}}
[info] >      date: '2024-10-18', {"user":"    date: '2024-10-18',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: '2024-10-18',"}}
[info] >      cityId: 'OiCHcy7zKcp2uU3zlMPU', {"user":"    cityId: 'OiCHcy7zKcp2uU3zlMPU',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     cityId: 'OiCHcy7zKcp2uU3zlMPU',"}}
[info] >      totemId: '1LoQvuu4KzHC1ux7qfOR', {"user":"    totemId: '1LoQvuu4KzHC1ux7qfOR',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totemId: '1LoQvuu4KzHC1ux7qfOR',"}}
[info] >      purchaseId: 'zuDSRe9m9p2oU9O4Kz1o', {"user":"    purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',"}}
[info] >      customerId: 'rMuIfSk9AarUm73FZVtC', {"user":"    customerId: 'rMuIfSk9AarUm73FZVtC',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     customerId: 'rMuIfSk9AarUm73FZVtC',"}}
[info] >      timestamp: 1729177549038 {"user":"    timestamp: 1729177549038","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     timestamp: 1729177549038"}}
[info] >    } {"user":"  }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   }"}}
[info] >  ] {"user":"]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ]"}}
[debug] [2024-10-18T12:02:29.240Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:02:29.240Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:02:29.241Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:02:29.240Z"],"workRunningCount":1}
[debug] [2024-10-18T12:02:29.241Z] Accepted request GET /totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T12:02:29.241Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:02:29.241Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T12:02:29.241Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:02:29.242Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[debug] [2024-10-18T12:02:29.293Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 50.9148ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 50.9148ms"}}
[debug] [2024-10-18T12:02:29.293Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T12:02:29.293Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:02:29.293Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:02:29.294Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:02:29.297Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:02:29.297Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:02:29.297Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:02:29.297Z"],"workRunningCount":1}
[debug] [2024-10-18T12:02:29.297Z] Accepted request GET /totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T12:02:29.298Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:02:29.298Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T12:02:29.298Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:02:29.299Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[info] >  QuerySnapshot { {"user":"QuerySnapshot {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m QuerySnapshot {"}}
[info] >    _query: Query { {"user":"  _query: Query {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _query: Query {"}}
[info] >      _firestore: Firestore { {"user":"    _firestore: Firestore {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _firestore: Firestore {"}}
[info] >        _settings: [Object], {"user":"      _settings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settings: [Object],"}}
[info] >        _settingsFrozen: true, {"user":"      _settingsFrozen: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settingsFrozen: true,"}}
[info] >        _serializer: [Serializer], {"user":"      _serializer: [Serializer],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer],"}}
[info] >        _projectId: 'totem-tour', {"user":"      _projectId: 'totem-tour',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _projectId: 'totem-tour',"}}
[info] >        _databaseId: '(default)', {"user":"      _databaseId: '(default)',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _databaseId: '(default)',"}}
[info] >        registeredListenersCount: 0, {"user":"      registeredListenersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       registeredListenersCount: 0,"}}
[info] >        bulkWritersCount: 0, {"user":"      bulkWritersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       bulkWritersCount: 0,"}}
[info] >        _traceUtil: DisabledTraceUtil {}, {"user":"      _traceUtil: DisabledTraceUtil {},","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _traceUtil: DisabledTraceUtil {},"}}
[info] >        _backoffSettings: [Object], {"user":"      _backoffSettings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _backoffSettings: [Object],"}}
[info] >        _clientPool: [ClientPool], {"user":"      _clientPool: [ClientPool],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _clientPool: [ClientPool],"}}
[info] >        _gax: [Object] {"user":"      _gax: [Object]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _gax: [Object]"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _queryOptions: QueryOptions { {"user":"    _queryOptions: QueryOptions {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryOptions: QueryOptions {"}}
[info] >        parentPath: [ResourcePath], {"user":"      parentPath: [ResourcePath],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       parentPath: [ResourcePath],"}}
[info] >        collectionId: 'purchaseItems', {"user":"      collectionId: 'purchaseItems',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       collectionId: 'purchaseItems',"}}
[info] >        converter: [Object], {"user":"      converter: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       converter: [Object],"}}
[info] >        allDescendants: false, {"user":"      allDescendants: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allDescendants: false,"}}
[info] >        filters: [Array], {"user":"      filters: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       filters: [Array],"}}
[info] >        fieldOrders: [Array], {"user":"      fieldOrders: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       fieldOrders: [Array],"}}
[info] >        startAt: undefined, {"user":"      startAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       startAt: undefined,"}}
[info] >        endAt: undefined, {"user":"      endAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       endAt: undefined,"}}
[info] >        limit: undefined, {"user":"      limit: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limit: undefined,"}}
[info] >        limitType: undefined, {"user":"      limitType: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limitType: undefined,"}}
[info] >        offset: undefined, {"user":"      offset: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       offset: undefined,"}}
[info] >        projection: undefined, {"user":"      projection: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       projection: undefined,"}}
[info] >        kindless: false, {"user":"      kindless: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       kindless: false,"}}
[info] >        requireConsistency: true {"user":"      requireConsistency: true","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       requireConsistency: true"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _serializer: Serializer { {"user":"    _serializer: Serializer {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _serializer: Serializer {"}}
[info] >        createReference: [Function (anonymous)], {"user":"      createReference: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createReference: [Function (anonymous)],"}}
[info] >        createInteger: [Function (anonymous)], {"user":"      createInteger: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createInteger: [Function (anonymous)],"}}
[info] >        allowUndefined: false {"user":"      allowUndefined: false","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allowUndefined: false"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _allowUndefined: false, {"user":"    _allowUndefined: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _allowUndefined: false,"}}
[info] >      _queryUtil: QueryUtil { {"user":"    _queryUtil: QueryUtil {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryUtil: QueryUtil {"}}
[info] >        _firestore: [Firestore], {"user":"      _firestore: [Firestore],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _firestore: [Firestore],"}}
[info] >        _queryOptions: [QueryOptions], {"user":"      _queryOptions: [QueryOptions],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _queryOptions: [QueryOptions],"}}
[info] >        _serializer: [Serializer] {"user":"      _serializer: [Serializer]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer]"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    _readTime: Timestamp { _seconds: 1729252948, _nanoseconds: 927626000 }, {"user":"  _readTime: Timestamp { _seconds: 1729252948, _nanoseconds: 927626000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _readTime: Timestamp { _seconds: 1729252948, _nanoseconds: 927626000 },"}}
[info] >    _size: 1, {"user":"  _size: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _size: 1,"}}
[info] >    _materializedDocs: null, {"user":"  _materializedDocs: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedDocs: null,"}}
[info] >    _materializedChanges: null, {"user":"  _materializedChanges: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedChanges: null,"}}
[info] >    _docs: [Function (anonymous)], {"user":"  _docs: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _docs: [Function (anonymous)],"}}
[info] >    _changes: [Function (anonymous)] {"user":"  _changes: [Function (anonymous)]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _changes: [Function (anonymous)]"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2024-10-18T12:02:29.372Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 73.9306ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 73.9306ms"}}
[debug] [2024-10-18T12:02:29.373Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T12:02:29.373Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:02:29.373Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:02:29.373Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] >  [ {"user":"[","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ["}}
[info] >    { {"user":"  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   {"}}
[info] >      id: 'AIxFbug16kvF6PQU0ybK', {"user":"    id: 'AIxFbug16kvF6PQU0ybK',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     id: 'AIxFbug16kvF6PQU0ybK',"}}
[info] >      productId: '2PHnd6lM4TG6lP6Y5fOc', {"user":"    productId: '2PHnd6lM4TG6lP6Y5fOc',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     productId: '2PHnd6lM4TG6lP6Y5fOc',"}}
[info] >      qty: 1, {"user":"    qty: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     qty: 1,"}}
[info] >      netPrice: 1, {"user":"    netPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     netPrice: 1,"}}
[info] >      partnerComm: 1, {"user":"    partnerComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     partnerComm: 1,"}}
[info] >      companyComm: 1, {"user":"    companyComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     companyComm: 1,"}}
[info] >      pricePerPerson: 1, {"user":"    pricePerPerson: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     pricePerPerson: 1,"}}
[info] >      minTotalPrice: 1, {"user":"    minTotalPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     minTotalPrice: 1,"}}
[info] >      totalPrice: 3, {"user":"    totalPrice: 3,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totalPrice: 3,"}}
[info] >      date: '2024-10-18', {"user":"    date: '2024-10-18',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: '2024-10-18',"}}
[info] >      cityId: 'OiCHcy7zKcp2uU3zlMPU', {"user":"    cityId: 'OiCHcy7zKcp2uU3zlMPU',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     cityId: 'OiCHcy7zKcp2uU3zlMPU',"}}
[info] >      totemId: '1LoQvuu4KzHC1ux7qfOR', {"user":"    totemId: '1LoQvuu4KzHC1ux7qfOR',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totemId: '1LoQvuu4KzHC1ux7qfOR',"}}
[info] >      purchaseId: 'zuDSRe9m9p2oU9O4Kz1o', {"user":"    purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',"}}
[info] >      customerId: 'rMuIfSk9AarUm73FZVtC', {"user":"    customerId: 'rMuIfSk9AarUm73FZVtC',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     customerId: 'rMuIfSk9AarUm73FZVtC',"}}
[info] >      timestamp: 1729177549038 {"user":"    timestamp: 1729177549038","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     timestamp: 1729177549038"}}
[info] >    } {"user":"  }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   }"}}
[info] >  ] {"user":"]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ]"}}
[debug] [2024-10-18T12:02:34.254Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:02:34.254Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:02:34.255Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:02:34.254Z"],"workRunningCount":1}
[debug] [2024-10-18T12:02:34.255Z] Accepted request GET /totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T12:02:34.257Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:02:34.257Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T12:02:34.258Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:02:34.259Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[debug] [2024-10-18T12:02:34.312Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 52.7562ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 52.7562ms"}}
[debug] [2024-10-18T12:02:34.315Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T12:02:34.315Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:02:34.315Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:02:34.316Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:02:34.326Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:02:34.326Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:02:34.327Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:02:34.326Z"],"workRunningCount":1}
[debug] [2024-10-18T12:02:34.327Z] Accepted request GET /totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T12:02:34.336Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:02:34.337Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T12:02:34.337Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:02:34.339Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[info] >  QuerySnapshot { {"user":"QuerySnapshot {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m QuerySnapshot {"}}
[info] >    _query: Query { {"user":"  _query: Query {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _query: Query {"}}
[info] >      _firestore: Firestore { {"user":"    _firestore: Firestore {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _firestore: Firestore {"}}
[info] >        _settings: [Object], {"user":"      _settings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settings: [Object],"}}
[info] >        _settingsFrozen: true, {"user":"      _settingsFrozen: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settingsFrozen: true,"}}
[info] >        _serializer: [Serializer], {"user":"      _serializer: [Serializer],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer],"}}
[info] >        _projectId: 'totem-tour', {"user":"      _projectId: 'totem-tour',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _projectId: 'totem-tour',"}}
[info] >        _databaseId: '(default)', {"user":"      _databaseId: '(default)',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _databaseId: '(default)',"}}
[info] >        registeredListenersCount: 0, {"user":"      registeredListenersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       registeredListenersCount: 0,"}}
[info] >        bulkWritersCount: 0, {"user":"      bulkWritersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       bulkWritersCount: 0,"}}
[info] >        _traceUtil: DisabledTraceUtil {}, {"user":"      _traceUtil: DisabledTraceUtil {},","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _traceUtil: DisabledTraceUtil {},"}}
[info] >        _backoffSettings: [Object], {"user":"      _backoffSettings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _backoffSettings: [Object],"}}
[info] >        _clientPool: [ClientPool], {"user":"      _clientPool: [ClientPool],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _clientPool: [ClientPool],"}}
[info] >        _gax: [Object] {"user":"      _gax: [Object]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _gax: [Object]"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _queryOptions: QueryOptions { {"user":"    _queryOptions: QueryOptions {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryOptions: QueryOptions {"}}
[info] >        parentPath: [ResourcePath], {"user":"      parentPath: [ResourcePath],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       parentPath: [ResourcePath],"}}
[info] >        collectionId: 'purchaseItems', {"user":"      collectionId: 'purchaseItems',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       collectionId: 'purchaseItems',"}}
[info] >        converter: [Object], {"user":"      converter: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       converter: [Object],"}}
[info] >        allDescendants: false, {"user":"      allDescendants: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allDescendants: false,"}}
[info] >        filters: [Array], {"user":"      filters: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       filters: [Array],"}}
[info] >        fieldOrders: [Array], {"user":"      fieldOrders: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       fieldOrders: [Array],"}}
[info] >        startAt: undefined, {"user":"      startAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       startAt: undefined,"}}
[info] >        endAt: undefined, {"user":"      endAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       endAt: undefined,"}}
[info] >        limit: undefined, {"user":"      limit: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limit: undefined,"}}
[info] >        limitType: undefined, {"user":"      limitType: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limitType: undefined,"}}
[info] >        offset: undefined, {"user":"      offset: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       offset: undefined,"}}
[info] >        projection: undefined, {"user":"      projection: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       projection: undefined,"}}
[info] >        kindless: false, {"user":"      kindless: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       kindless: false,"}}
[info] >        requireConsistency: true {"user":"      requireConsistency: true","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       requireConsistency: true"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _serializer: Serializer { {"user":"    _serializer: Serializer {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _serializer: Serializer {"}}
[info] >        createReference: [Function (anonymous)], {"user":"      createReference: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createReference: [Function (anonymous)],"}}
[info] >        createInteger: [Function (anonymous)], {"user":"      createInteger: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createInteger: [Function (anonymous)],"}}
[info] >        allowUndefined: false {"user":"      allowUndefined: false","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allowUndefined: false"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _allowUndefined: false, {"user":"    _allowUndefined: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _allowUndefined: false,"}}
[info] >      _queryUtil: QueryUtil { {"user":"    _queryUtil: QueryUtil {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryUtil: QueryUtil {"}}
[info] >        _firestore: [Firestore], {"user":"      _firestore: [Firestore],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _firestore: [Firestore],"}}
[info] >        _queryOptions: [QueryOptions], {"user":"      _queryOptions: [QueryOptions],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _queryOptions: [QueryOptions],"}}
[info] >        _serializer: [Serializer] {"user":"      _serializer: [Serializer]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer]"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    _readTime: Timestamp { _seconds: 1729252953, _nanoseconds: 975038000 }, {"user":"  _readTime: Timestamp { _seconds: 1729252953, _nanoseconds: 975038000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _readTime: Timestamp { _seconds: 1729252953, _nanoseconds: 975038000 },"}}
[info] >    _size: 1, {"user":"  _size: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _size: 1,"}}
[info] >    _materializedDocs: null, {"user":"  _materializedDocs: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedDocs: null,"}}
[info] >    _materializedChanges: null, {"user":"  _materializedChanges: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedChanges: null,"}}
[info] >    _docs: [Function (anonymous)], {"user":"  _docs: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _docs: [Function (anonymous)],"}}
[info] >    _changes: [Function (anonymous)] {"user":"  _changes: [Function (anonymous)]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _changes: [Function (anonymous)]"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2024-10-18T12:02:34.434Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 94.5325ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 94.5325ms"}}
[debug] [2024-10-18T12:02:34.435Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T12:02:34.435Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:02:34.435Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:02:34.435Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] >  [ {"user":"[","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ["}}
[info] >    { {"user":"  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   {"}}
[info] >      id: 'AIxFbug16kvF6PQU0ybK', {"user":"    id: 'AIxFbug16kvF6PQU0ybK',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     id: 'AIxFbug16kvF6PQU0ybK',"}}
[info] >      productId: '2PHnd6lM4TG6lP6Y5fOc', {"user":"    productId: '2PHnd6lM4TG6lP6Y5fOc',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     productId: '2PHnd6lM4TG6lP6Y5fOc',"}}
[info] >      qty: 1, {"user":"    qty: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     qty: 1,"}}
[info] >      netPrice: 1, {"user":"    netPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     netPrice: 1,"}}
[info] >      partnerComm: 1, {"user":"    partnerComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     partnerComm: 1,"}}
[info] >      companyComm: 1, {"user":"    companyComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     companyComm: 1,"}}
[info] >      pricePerPerson: 1, {"user":"    pricePerPerson: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     pricePerPerson: 1,"}}
[info] >      minTotalPrice: 1, {"user":"    minTotalPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     minTotalPrice: 1,"}}
[info] >      totalPrice: 3, {"user":"    totalPrice: 3,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totalPrice: 3,"}}
[info] >      date: '2024-10-18', {"user":"    date: '2024-10-18',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: '2024-10-18',"}}
[info] >      cityId: 'OiCHcy7zKcp2uU3zlMPU', {"user":"    cityId: 'OiCHcy7zKcp2uU3zlMPU',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     cityId: 'OiCHcy7zKcp2uU3zlMPU',"}}
[info] >      totemId: '1LoQvuu4KzHC1ux7qfOR', {"user":"    totemId: '1LoQvuu4KzHC1ux7qfOR',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totemId: '1LoQvuu4KzHC1ux7qfOR',"}}
[info] >      purchaseId: 'zuDSRe9m9p2oU9O4Kz1o', {"user":"    purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',"}}
[info] >      customerId: 'rMuIfSk9AarUm73FZVtC', {"user":"    customerId: 'rMuIfSk9AarUm73FZVtC',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     customerId: 'rMuIfSk9AarUm73FZVtC',"}}
[info] >      timestamp: 1729177549038 {"user":"    timestamp: 1729177549038","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     timestamp: 1729177549038"}}
[info] >    } {"user":"  }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   }"}}
[info] >  ] {"user":"]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ]"}}
[debug] [2024-10-18T12:03:15.262Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:03:15.262Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:03:15.262Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:03:15.262Z"],"workRunningCount":1}
[debug] [2024-10-18T12:03:15.262Z] Accepted request GET /totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T12:03:15.265Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:03:15.265Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T12:03:15.265Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:03:15.266Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[debug] [2024-10-18T12:03:15.305Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 39.0269ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 39.0269ms"}}
[debug] [2024-10-18T12:03:15.306Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T12:03:15.306Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:03:15.307Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:03:15.307Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:03:15.309Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:03:15.309Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:03:15.309Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:03:15.309Z"],"workRunningCount":1}
[debug] [2024-10-18T12:03:15.309Z] Accepted request GET /totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T12:03:15.311Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:03:15.311Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T12:03:15.311Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:03:15.312Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[info] >  QuerySnapshot { {"user":"QuerySnapshot {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m QuerySnapshot {"}}
[info] >    _query: Query { {"user":"  _query: Query {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _query: Query {"}}
[info] >      _firestore: Firestore { {"user":"    _firestore: Firestore {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _firestore: Firestore {"}}
[info] >        _settings: [Object], {"user":"      _settings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settings: [Object],"}}
[info] >        _settingsFrozen: true, {"user":"      _settingsFrozen: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settingsFrozen: true,"}}
[info] >        _serializer: [Serializer], {"user":"      _serializer: [Serializer],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer],"}}
[info] >        _projectId: 'totem-tour', {"user":"      _projectId: 'totem-tour',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _projectId: 'totem-tour',"}}
[info] >        _databaseId: '(default)', {"user":"      _databaseId: '(default)',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _databaseId: '(default)',"}}
[info] >        registeredListenersCount: 0, {"user":"      registeredListenersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       registeredListenersCount: 0,"}}
[info] >        bulkWritersCount: 0, {"user":"      bulkWritersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       bulkWritersCount: 0,"}}
[info] >        _traceUtil: DisabledTraceUtil {}, {"user":"      _traceUtil: DisabledTraceUtil {},","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _traceUtil: DisabledTraceUtil {},"}}
[info] >        _backoffSettings: [Object], {"user":"      _backoffSettings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _backoffSettings: [Object],"}}
[info] >        _clientPool: [ClientPool], {"user":"      _clientPool: [ClientPool],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _clientPool: [ClientPool],"}}
[info] >        _gax: [Object] {"user":"      _gax: [Object]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _gax: [Object]"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _queryOptions: QueryOptions { {"user":"    _queryOptions: QueryOptions {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryOptions: QueryOptions {"}}
[info] >        parentPath: [ResourcePath], {"user":"      parentPath: [ResourcePath],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       parentPath: [ResourcePath],"}}
[info] >        collectionId: 'purchaseItems', {"user":"      collectionId: 'purchaseItems',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       collectionId: 'purchaseItems',"}}
[info] >        converter: [Object], {"user":"      converter: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       converter: [Object],"}}
[info] >        allDescendants: false, {"user":"      allDescendants: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allDescendants: false,"}}
[info] >        filters: [Array], {"user":"      filters: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       filters: [Array],"}}
[info] >        fieldOrders: [Array], {"user":"      fieldOrders: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       fieldOrders: [Array],"}}
[info] >        startAt: undefined, {"user":"      startAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       startAt: undefined,"}}
[info] >        endAt: undefined, {"user":"      endAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       endAt: undefined,"}}
[info] >        limit: undefined, {"user":"      limit: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limit: undefined,"}}
[info] >        limitType: undefined, {"user":"      limitType: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limitType: undefined,"}}
[info] >        offset: undefined, {"user":"      offset: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       offset: undefined,"}}
[info] >        projection: undefined, {"user":"      projection: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       projection: undefined,"}}
[info] >        kindless: false, {"user":"      kindless: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       kindless: false,"}}
[info] >        requireConsistency: true {"user":"      requireConsistency: true","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       requireConsistency: true"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _serializer: Serializer { {"user":"    _serializer: Serializer {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _serializer: Serializer {"}}
[info] >        createReference: [Function (anonymous)], {"user":"      createReference: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createReference: [Function (anonymous)],"}}
[info] >        createInteger: [Function (anonymous)], {"user":"      createInteger: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createInteger: [Function (anonymous)],"}}
[info] >        allowUndefined: false {"user":"      allowUndefined: false","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allowUndefined: false"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _allowUndefined: false, {"user":"    _allowUndefined: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _allowUndefined: false,"}}
[info] >      _queryUtil: QueryUtil { {"user":"    _queryUtil: QueryUtil {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryUtil: QueryUtil {"}}
[info] >        _firestore: [Firestore], {"user":"      _firestore: [Firestore],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _firestore: [Firestore],"}}
[info] >        _queryOptions: [QueryOptions], {"user":"      _queryOptions: [QueryOptions],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _queryOptions: [QueryOptions],"}}
[info] >        _serializer: [Serializer] {"user":"      _serializer: [Serializer]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer]"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    _readTime: Timestamp { _seconds: 1729252994, _nanoseconds: 944468000 }, {"user":"  _readTime: Timestamp { _seconds: 1729252994, _nanoseconds: 944468000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _readTime: Timestamp { _seconds: 1729252994, _nanoseconds: 944468000 },"}}
[info] >    _size: 1, {"user":"  _size: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _size: 1,"}}
[info] >    _materializedDocs: null, {"user":"  _materializedDocs: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedDocs: null,"}}
[info] >    _materializedChanges: null, {"user":"  _materializedChanges: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedChanges: null,"}}
[info] >    _docs: [Function (anonymous)], {"user":"  _docs: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _docs: [Function (anonymous)],"}}
[info] >    _changes: [Function (anonymous)] {"user":"  _changes: [Function (anonymous)]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _changes: [Function (anonymous)]"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2024-10-18T12:03:15.388Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 75.7489ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 75.7489ms"}}
[debug] [2024-10-18T12:03:15.388Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T12:03:15.388Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:03:15.388Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:03:15.388Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] >  [ {"user":"[","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ["}}
[info] >    { {"user":"  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   {"}}
[info] >      id: 'AIxFbug16kvF6PQU0ybK', {"user":"    id: 'AIxFbug16kvF6PQU0ybK',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     id: 'AIxFbug16kvF6PQU0ybK',"}}
[info] >      productId: '2PHnd6lM4TG6lP6Y5fOc', {"user":"    productId: '2PHnd6lM4TG6lP6Y5fOc',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     productId: '2PHnd6lM4TG6lP6Y5fOc',"}}
[info] >      qty: 1, {"user":"    qty: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     qty: 1,"}}
[info] >      netPrice: 1, {"user":"    netPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     netPrice: 1,"}}
[info] >      partnerComm: 1, {"user":"    partnerComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     partnerComm: 1,"}}
[info] >      companyComm: 1, {"user":"    companyComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     companyComm: 1,"}}
[info] >      pricePerPerson: 1, {"user":"    pricePerPerson: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     pricePerPerson: 1,"}}
[info] >      minTotalPrice: 1, {"user":"    minTotalPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     minTotalPrice: 1,"}}
[info] >      totalPrice: 3, {"user":"    totalPrice: 3,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totalPrice: 3,"}}
[info] >      date: '2024-10-18', {"user":"    date: '2024-10-18',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: '2024-10-18',"}}
[info] >      cityId: 'OiCHcy7zKcp2uU3zlMPU', {"user":"    cityId: 'OiCHcy7zKcp2uU3zlMPU',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     cityId: 'OiCHcy7zKcp2uU3zlMPU',"}}
[info] >      totemId: '1LoQvuu4KzHC1ux7qfOR', {"user":"    totemId: '1LoQvuu4KzHC1ux7qfOR',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totemId: '1LoQvuu4KzHC1ux7qfOR',"}}
[info] >      purchaseId: 'zuDSRe9m9p2oU9O4Kz1o', {"user":"    purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',"}}
[info] >      customerId: 'rMuIfSk9AarUm73FZVtC', {"user":"    customerId: 'rMuIfSk9AarUm73FZVtC',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     customerId: 'rMuIfSk9AarUm73FZVtC',"}}
[info] >      timestamp: 1729177549038 {"user":"    timestamp: 1729177549038","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     timestamp: 1729177549038"}}
[info] >    } {"user":"  }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   }"}}
[info] >  ] {"user":"]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ]"}}
[debug] [2024-10-18T12:03:16.255Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:03:16.255Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:03:16.255Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:03:16.255Z"],"workRunningCount":1}
[debug] [2024-10-18T12:03:16.255Z] Accepted request GET /totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T12:03:16.257Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:03:16.257Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T12:03:16.257Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:03:16.258Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[debug] [2024-10-18T12:03:16.309Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 51.4167ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 51.4167ms"}}
[debug] [2024-10-18T12:03:16.311Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T12:03:16.311Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:03:16.311Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:03:16.311Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:03:16.315Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:03:16.315Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:03:16.315Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:03:16.315Z"],"workRunningCount":1}
[debug] [2024-10-18T12:03:16.315Z] Accepted request GET /totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T12:03:16.316Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:03:16.316Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T12:03:16.316Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:03:16.317Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[info] >  QuerySnapshot { {"user":"QuerySnapshot {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m QuerySnapshot {"}}
[info] >    _query: Query { {"user":"  _query: Query {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _query: Query {"}}
[info] >      _firestore: Firestore { {"user":"    _firestore: Firestore {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _firestore: Firestore {"}}
[info] >        _settings: [Object], {"user":"      _settings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settings: [Object],"}}
[info] >        _settingsFrozen: true, {"user":"      _settingsFrozen: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settingsFrozen: true,"}}
[info] >        _serializer: [Serializer], {"user":"      _serializer: [Serializer],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer],"}}
[info] >        _projectId: 'totem-tour', {"user":"      _projectId: 'totem-tour',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _projectId: 'totem-tour',"}}
[info] >        _databaseId: '(default)', {"user":"      _databaseId: '(default)',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _databaseId: '(default)',"}}
[info] >        registeredListenersCount: 0, {"user":"      registeredListenersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       registeredListenersCount: 0,"}}
[info] >        bulkWritersCount: 0, {"user":"      bulkWritersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       bulkWritersCount: 0,"}}
[info] >        _traceUtil: DisabledTraceUtil {}, {"user":"      _traceUtil: DisabledTraceUtil {},","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _traceUtil: DisabledTraceUtil {},"}}
[info] >        _backoffSettings: [Object], {"user":"      _backoffSettings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _backoffSettings: [Object],"}}
[info] >        _clientPool: [ClientPool], {"user":"      _clientPool: [ClientPool],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _clientPool: [ClientPool],"}}
[info] >        _gax: [Object] {"user":"      _gax: [Object]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _gax: [Object]"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _queryOptions: QueryOptions { {"user":"    _queryOptions: QueryOptions {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryOptions: QueryOptions {"}}
[info] >        parentPath: [ResourcePath], {"user":"      parentPath: [ResourcePath],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       parentPath: [ResourcePath],"}}
[info] >        collectionId: 'purchaseItems', {"user":"      collectionId: 'purchaseItems',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       collectionId: 'purchaseItems',"}}
[info] >        converter: [Object], {"user":"      converter: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       converter: [Object],"}}
[info] >        allDescendants: false, {"user":"      allDescendants: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allDescendants: false,"}}
[info] >        filters: [Array], {"user":"      filters: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       filters: [Array],"}}
[info] >        fieldOrders: [Array], {"user":"      fieldOrders: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       fieldOrders: [Array],"}}
[info] >        startAt: undefined, {"user":"      startAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       startAt: undefined,"}}
[info] >        endAt: undefined, {"user":"      endAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       endAt: undefined,"}}
[info] >        limit: undefined, {"user":"      limit: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limit: undefined,"}}
[info] >        limitType: undefined, {"user":"      limitType: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limitType: undefined,"}}
[info] >        offset: undefined, {"user":"      offset: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       offset: undefined,"}}
[info] >        projection: undefined, {"user":"      projection: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       projection: undefined,"}}
[info] >        kindless: false, {"user":"      kindless: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       kindless: false,"}}
[info] >        requireConsistency: true {"user":"      requireConsistency: true","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       requireConsistency: true"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _serializer: Serializer { {"user":"    _serializer: Serializer {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _serializer: Serializer {"}}
[info] >        createReference: [Function (anonymous)], {"user":"      createReference: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createReference: [Function (anonymous)],"}}
[info] >        createInteger: [Function (anonymous)], {"user":"      createInteger: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createInteger: [Function (anonymous)],"}}
[info] >        allowUndefined: false {"user":"      allowUndefined: false","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allowUndefined: false"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _allowUndefined: false, {"user":"    _allowUndefined: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _allowUndefined: false,"}}
[info] >      _queryUtil: QueryUtil { {"user":"    _queryUtil: QueryUtil {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryUtil: QueryUtil {"}}
[info] >        _firestore: [Firestore], {"user":"      _firestore: [Firestore],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _firestore: [Firestore],"}}
[info] >        _queryOptions: [QueryOptions], {"user":"      _queryOptions: [QueryOptions],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _queryOptions: [QueryOptions],"}}
[info] >        _serializer: [Serializer] {"user":"      _serializer: [Serializer]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer]"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    _readTime: Timestamp { _seconds: 1729252995, _nanoseconds: 955542000 }, {"user":"  _readTime: Timestamp { _seconds: 1729252995, _nanoseconds: 955542000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _readTime: Timestamp { _seconds: 1729252995, _nanoseconds: 955542000 },"}}
[info] >    _size: 1, {"user":"  _size: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _size: 1,"}}
[info] >    _materializedDocs: null, {"user":"  _materializedDocs: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedDocs: null,"}}
[info] >    _materializedChanges: null, {"user":"  _materializedChanges: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedChanges: null,"}}
[info] >    _docs: [Function (anonymous)], {"user":"  _docs: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _docs: [Function (anonymous)],"}}
[info] >    _changes: [Function (anonymous)] {"user":"  _changes: [Function (anonymous)]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _changes: [Function (anonymous)]"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2024-10-18T12:03:16.414Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 97.1296ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 97.1296ms"}}
[debug] [2024-10-18T12:03:16.414Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T12:03:16.414Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:03:16.415Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:03:16.415Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] >  [ {"user":"[","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ["}}
[info] >    { {"user":"  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   {"}}
[info] >      id: 'AIxFbug16kvF6PQU0ybK', {"user":"    id: 'AIxFbug16kvF6PQU0ybK',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     id: 'AIxFbug16kvF6PQU0ybK',"}}
[info] >      productId: '2PHnd6lM4TG6lP6Y5fOc', {"user":"    productId: '2PHnd6lM4TG6lP6Y5fOc',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     productId: '2PHnd6lM4TG6lP6Y5fOc',"}}
[info] >      qty: 1, {"user":"    qty: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     qty: 1,"}}
[info] >      netPrice: 1, {"user":"    netPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     netPrice: 1,"}}
[info] >      partnerComm: 1, {"user":"    partnerComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     partnerComm: 1,"}}
[info] >      companyComm: 1, {"user":"    companyComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     companyComm: 1,"}}
[info] >      pricePerPerson: 1, {"user":"    pricePerPerson: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     pricePerPerson: 1,"}}
[info] >      minTotalPrice: 1, {"user":"    minTotalPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     minTotalPrice: 1,"}}
[info] >      totalPrice: 3, {"user":"    totalPrice: 3,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totalPrice: 3,"}}
[info] >      date: '2024-10-18', {"user":"    date: '2024-10-18',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: '2024-10-18',"}}
[info] >      cityId: 'OiCHcy7zKcp2uU3zlMPU', {"user":"    cityId: 'OiCHcy7zKcp2uU3zlMPU',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     cityId: 'OiCHcy7zKcp2uU3zlMPU',"}}
[info] >      totemId: '1LoQvuu4KzHC1ux7qfOR', {"user":"    totemId: '1LoQvuu4KzHC1ux7qfOR',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totemId: '1LoQvuu4KzHC1ux7qfOR',"}}
[info] >      purchaseId: 'zuDSRe9m9p2oU9O4Kz1o', {"user":"    purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',"}}
[info] >      customerId: 'rMuIfSk9AarUm73FZVtC', {"user":"    customerId: 'rMuIfSk9AarUm73FZVtC',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     customerId: 'rMuIfSk9AarUm73FZVtC',"}}
[info] >      timestamp: 1729177549038 {"user":"    timestamp: 1729177549038","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     timestamp: 1729177549038"}}
[info] >    } {"user":"  }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   }"}}
[info] >  ] {"user":"]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ]"}}
[debug] [2024-10-18T12:25:53.251Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:25:53.250Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:25:53.251Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:25:53.250Z"],"workRunningCount":1}
[debug] [2024-10-18T12:25:53.251Z] Accepted request GET /totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T12:25:53.255Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:25:53.255Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T12:25:53.255Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:25:53.256Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[debug] [2024-10-18T12:25:53.497Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 241.286ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 241.286ms"}}
[debug] [2024-10-18T12:25:53.498Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T12:25:53.498Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:25:53.498Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:25:53.498Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:25:53.502Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:25:53.502Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:25:53.502Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:25:53.502Z"],"workRunningCount":1}
[debug] [2024-10-18T12:25:53.502Z] Accepted request GET /totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T12:25:53.503Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:25:53.503Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T12:25:53.504Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:25:53.505Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[info] >  QuerySnapshot { {"user":"QuerySnapshot {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m QuerySnapshot {"}}
[info] >    _query: Query { {"user":"  _query: Query {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _query: Query {"}}
[info] >      _firestore: Firestore { {"user":"    _firestore: Firestore {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _firestore: Firestore {"}}
[info] >        _settings: [Object], {"user":"      _settings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settings: [Object],"}}
[info] >        _settingsFrozen: true, {"user":"      _settingsFrozen: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settingsFrozen: true,"}}
[info] >        _serializer: [Serializer], {"user":"      _serializer: [Serializer],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer],"}}
[info] >        _projectId: 'totem-tour', {"user":"      _projectId: 'totem-tour',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _projectId: 'totem-tour',"}}
[info] >        _databaseId: '(default)', {"user":"      _databaseId: '(default)',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _databaseId: '(default)',"}}
[info] >        registeredListenersCount: 0, {"user":"      registeredListenersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       registeredListenersCount: 0,"}}
[info] >        bulkWritersCount: 0, {"user":"      bulkWritersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       bulkWritersCount: 0,"}}
[info] >        _traceUtil: DisabledTraceUtil {}, {"user":"      _traceUtil: DisabledTraceUtil {},","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _traceUtil: DisabledTraceUtil {},"}}
[info] >        _backoffSettings: [Object], {"user":"      _backoffSettings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _backoffSettings: [Object],"}}
[info] >        _clientPool: [ClientPool], {"user":"      _clientPool: [ClientPool],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _clientPool: [ClientPool],"}}
[info] >        _gax: [Object] {"user":"      _gax: [Object]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _gax: [Object]"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _queryOptions: QueryOptions { {"user":"    _queryOptions: QueryOptions {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryOptions: QueryOptions {"}}
[info] >        parentPath: [ResourcePath], {"user":"      parentPath: [ResourcePath],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       parentPath: [ResourcePath],"}}
[info] >        collectionId: 'purchaseItems', {"user":"      collectionId: 'purchaseItems',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       collectionId: 'purchaseItems',"}}
[info] >        converter: [Object], {"user":"      converter: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       converter: [Object],"}}
[info] >        allDescendants: false, {"user":"      allDescendants: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allDescendants: false,"}}
[info] >        filters: [Array], {"user":"      filters: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       filters: [Array],"}}
[info] >        fieldOrders: [Array], {"user":"      fieldOrders: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       fieldOrders: [Array],"}}
[info] >        startAt: undefined, {"user":"      startAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       startAt: undefined,"}}
[info] >        endAt: undefined, {"user":"      endAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       endAt: undefined,"}}
[info] >        limit: undefined, {"user":"      limit: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limit: undefined,"}}
[info] >        limitType: undefined, {"user":"      limitType: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limitType: undefined,"}}
[info] >        offset: undefined, {"user":"      offset: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       offset: undefined,"}}
[info] >        projection: undefined, {"user":"      projection: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       projection: undefined,"}}
[info] >        kindless: false, {"user":"      kindless: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       kindless: false,"}}
[info] >        requireConsistency: true {"user":"      requireConsistency: true","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       requireConsistency: true"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _serializer: Serializer { {"user":"    _serializer: Serializer {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _serializer: Serializer {"}}
[info] >        createReference: [Function (anonymous)], {"user":"      createReference: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createReference: [Function (anonymous)],"}}
[info] >        createInteger: [Function (anonymous)], {"user":"      createInteger: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createInteger: [Function (anonymous)],"}}
[info] >        allowUndefined: false {"user":"      allowUndefined: false","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allowUndefined: false"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _allowUndefined: false, {"user":"    _allowUndefined: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _allowUndefined: false,"}}
[info] >      _queryUtil: QueryUtil { {"user":"    _queryUtil: QueryUtil {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryUtil: QueryUtil {"}}
[info] >        _firestore: [Firestore], {"user":"      _firestore: [Firestore],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _firestore: [Firestore],"}}
[info] >        _queryOptions: [QueryOptions], {"user":"      _queryOptions: [QueryOptions],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _queryOptions: [QueryOptions],"}}
[info] >        _serializer: [Serializer] {"user":"      _serializer: [Serializer]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer]"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    _readTime: Timestamp { _seconds: 1729254353, _nanoseconds: 156891000 }, {"user":"  _readTime: Timestamp { _seconds: 1729254353, _nanoseconds: 156891000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _readTime: Timestamp { _seconds: 1729254353, _nanoseconds: 156891000 },"}}
[info] >    _size: 1, {"user":"  _size: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _size: 1,"}}
[info] >    _materializedDocs: null, {"user":"  _materializedDocs: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedDocs: null,"}}
[info] >    _materializedChanges: null, {"user":"  _materializedChanges: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedChanges: null,"}}
[info] >    _docs: [Function (anonymous)], {"user":"  _docs: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _docs: [Function (anonymous)],"}}
[info] >    _changes: [Function (anonymous)] {"user":"  _changes: [Function (anonymous)]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _changes: [Function (anonymous)]"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2024-10-18T12:25:53.581Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 76.5026ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 76.5026ms"}}
[debug] [2024-10-18T12:25:53.582Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T12:25:53.582Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:25:53.582Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:25:53.582Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] >  [ {"user":"[","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ["}}
[info] >    { {"user":"  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   {"}}
[info] >      id: 'AIxFbug16kvF6PQU0ybK', {"user":"    id: 'AIxFbug16kvF6PQU0ybK',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     id: 'AIxFbug16kvF6PQU0ybK',"}}
[info] >      productId: '2PHnd6lM4TG6lP6Y5fOc', {"user":"    productId: '2PHnd6lM4TG6lP6Y5fOc',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     productId: '2PHnd6lM4TG6lP6Y5fOc',"}}
[info] >      qty: 1, {"user":"    qty: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     qty: 1,"}}
[info] >      netPrice: 1, {"user":"    netPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     netPrice: 1,"}}
[info] >      partnerComm: 1, {"user":"    partnerComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     partnerComm: 1,"}}
[info] >      companyComm: 1, {"user":"    companyComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     companyComm: 1,"}}
[info] >      pricePerPerson: 1, {"user":"    pricePerPerson: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     pricePerPerson: 1,"}}
[info] >      minTotalPrice: 1, {"user":"    minTotalPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     minTotalPrice: 1,"}}
[info] >      totalPrice: 3, {"user":"    totalPrice: 3,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totalPrice: 3,"}}
[info] >      date: '2024-10-18', {"user":"    date: '2024-10-18',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: '2024-10-18',"}}
[info] >      cityId: 'OiCHcy7zKcp2uU3zlMPU', {"user":"    cityId: 'OiCHcy7zKcp2uU3zlMPU',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     cityId: 'OiCHcy7zKcp2uU3zlMPU',"}}
[info] >      totemId: '1LoQvuu4KzHC1ux7qfOR', {"user":"    totemId: '1LoQvuu4KzHC1ux7qfOR',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totemId: '1LoQvuu4KzHC1ux7qfOR',"}}
[info] >      purchaseId: 'zuDSRe9m9p2oU9O4Kz1o', {"user":"    purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',"}}
[info] >      customerId: 'rMuIfSk9AarUm73FZVtC', {"user":"    customerId: 'rMuIfSk9AarUm73FZVtC',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     customerId: 'rMuIfSk9AarUm73FZVtC',"}}
[info] >      timestamp: 1729177549038 {"user":"    timestamp: 1729177549038","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     timestamp: 1729177549038"}}
[info] >    } {"user":"  }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   }"}}
[info] >  ] {"user":"]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ]"}}
[debug] [2024-10-18T12:26:02.254Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:26:02.254Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:26:02.254Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:26:02.254Z"],"workRunningCount":1}
[debug] [2024-10-18T12:26:02.254Z] Accepted request GET /totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T12:26:02.257Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:26:02.257Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T12:26:02.257Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:26:02.258Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[debug] [2024-10-18T12:26:02.300Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 42.4706ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 42.4706ms"}}
[debug] [2024-10-18T12:26:02.301Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T12:26:02.301Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:26:02.301Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:26:02.301Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:26:02.305Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:26:02.305Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:26:02.305Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:26:02.305Z"],"workRunningCount":1}
[debug] [2024-10-18T12:26:02.305Z] Accepted request GET /totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T12:26:02.308Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:26:02.308Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T12:26:02.308Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:26:02.308Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[info] >  QuerySnapshot { {"user":"QuerySnapshot {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m QuerySnapshot {"}}
[info] >    _query: Query { {"user":"  _query: Query {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _query: Query {"}}
[info] >      _firestore: Firestore { {"user":"    _firestore: Firestore {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _firestore: Firestore {"}}
[info] >        _settings: [Object], {"user":"      _settings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settings: [Object],"}}
[info] >        _settingsFrozen: true, {"user":"      _settingsFrozen: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settingsFrozen: true,"}}
[info] >        _serializer: [Serializer], {"user":"      _serializer: [Serializer],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer],"}}
[info] >        _projectId: 'totem-tour', {"user":"      _projectId: 'totem-tour',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _projectId: 'totem-tour',"}}
[info] >        _databaseId: '(default)', {"user":"      _databaseId: '(default)',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _databaseId: '(default)',"}}
[info] >        registeredListenersCount: 0, {"user":"      registeredListenersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       registeredListenersCount: 0,"}}
[info] >        bulkWritersCount: 0, {"user":"      bulkWritersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       bulkWritersCount: 0,"}}
[info] >        _traceUtil: DisabledTraceUtil {}, {"user":"      _traceUtil: DisabledTraceUtil {},","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _traceUtil: DisabledTraceUtil {},"}}
[info] >        _backoffSettings: [Object], {"user":"      _backoffSettings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _backoffSettings: [Object],"}}
[info] >        _clientPool: [ClientPool], {"user":"      _clientPool: [ClientPool],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _clientPool: [ClientPool],"}}
[info] >        _gax: [Object] {"user":"      _gax: [Object]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _gax: [Object]"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _queryOptions: QueryOptions { {"user":"    _queryOptions: QueryOptions {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryOptions: QueryOptions {"}}
[info] >        parentPath: [ResourcePath], {"user":"      parentPath: [ResourcePath],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       parentPath: [ResourcePath],"}}
[info] >        collectionId: 'purchaseItems', {"user":"      collectionId: 'purchaseItems',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       collectionId: 'purchaseItems',"}}
[info] >        converter: [Object], {"user":"      converter: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       converter: [Object],"}}
[info] >        allDescendants: false, {"user":"      allDescendants: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allDescendants: false,"}}
[info] >        filters: [Array], {"user":"      filters: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       filters: [Array],"}}
[info] >        fieldOrders: [Array], {"user":"      fieldOrders: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       fieldOrders: [Array],"}}
[info] >        startAt: undefined, {"user":"      startAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       startAt: undefined,"}}
[info] >        endAt: undefined, {"user":"      endAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       endAt: undefined,"}}
[info] >        limit: undefined, {"user":"      limit: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limit: undefined,"}}
[info] >        limitType: undefined, {"user":"      limitType: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limitType: undefined,"}}
[info] >        offset: undefined, {"user":"      offset: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       offset: undefined,"}}
[info] >        projection: undefined, {"user":"      projection: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       projection: undefined,"}}
[info] >        kindless: false, {"user":"      kindless: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       kindless: false,"}}
[info] >        requireConsistency: true {"user":"      requireConsistency: true","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       requireConsistency: true"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _serializer: Serializer { {"user":"    _serializer: Serializer {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _serializer: Serializer {"}}
[info] >        createReference: [Function (anonymous)], {"user":"      createReference: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createReference: [Function (anonymous)],"}}
[info] >        createInteger: [Function (anonymous)], {"user":"      createInteger: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createInteger: [Function (anonymous)],"}}
[info] >        allowUndefined: false {"user":"      allowUndefined: false","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allowUndefined: false"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _allowUndefined: false, {"user":"    _allowUndefined: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _allowUndefined: false,"}}
[info] >      _queryUtil: QueryUtil { {"user":"    _queryUtil: QueryUtil {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryUtil: QueryUtil {"}}
[info] >        _firestore: [Firestore], {"user":"      _firestore: [Firestore],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _firestore: [Firestore],"}}
[info] >        _queryOptions: [QueryOptions], {"user":"      _queryOptions: [QueryOptions],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _queryOptions: [QueryOptions],"}}
[info] >        _serializer: [Serializer] {"user":"      _serializer: [Serializer]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer]"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    _readTime: Timestamp { _seconds: 1729254361, _nanoseconds: 959739000 }, {"user":"  _readTime: Timestamp { _seconds: 1729254361, _nanoseconds: 959739000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _readTime: Timestamp { _seconds: 1729254361, _nanoseconds: 959739000 },"}}
[info] >    _size: 1, {"user":"  _size: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _size: 1,"}}
[info] >    _materializedDocs: null, {"user":"  _materializedDocs: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedDocs: null,"}}
[info] >    _materializedChanges: null, {"user":"  _materializedChanges: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedChanges: null,"}}
[info] >    _docs: [Function (anonymous)], {"user":"  _docs: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _docs: [Function (anonymous)],"}}
[info] >    _changes: [Function (anonymous)] {"user":"  _changes: [Function (anonymous)]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _changes: [Function (anonymous)]"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2024-10-18T12:26:02.386Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 77.4435ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 77.4435ms"}}
[debug] [2024-10-18T12:26:02.387Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T12:26:02.387Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:26:02.387Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:26:02.387Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] >  [ {"user":"[","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ["}}
[info] >    { {"user":"  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   {"}}
[info] >      id: 'AIxFbug16kvF6PQU0ybK', {"user":"    id: 'AIxFbug16kvF6PQU0ybK',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     id: 'AIxFbug16kvF6PQU0ybK',"}}
[info] >      productId: '2PHnd6lM4TG6lP6Y5fOc', {"user":"    productId: '2PHnd6lM4TG6lP6Y5fOc',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     productId: '2PHnd6lM4TG6lP6Y5fOc',"}}
[info] >      qty: 1, {"user":"    qty: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     qty: 1,"}}
[info] >      netPrice: 1, {"user":"    netPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     netPrice: 1,"}}
[info] >      partnerComm: 1, {"user":"    partnerComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     partnerComm: 1,"}}
[info] >      companyComm: 1, {"user":"    companyComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     companyComm: 1,"}}
[info] >      pricePerPerson: 1, {"user":"    pricePerPerson: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     pricePerPerson: 1,"}}
[info] >      minTotalPrice: 1, {"user":"    minTotalPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     minTotalPrice: 1,"}}
[info] >      totalPrice: 3, {"user":"    totalPrice: 3,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totalPrice: 3,"}}
[info] >      date: '2024-10-18', {"user":"    date: '2024-10-18',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: '2024-10-18',"}}
[info] >      cityId: 'OiCHcy7zKcp2uU3zlMPU', {"user":"    cityId: 'OiCHcy7zKcp2uU3zlMPU',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     cityId: 'OiCHcy7zKcp2uU3zlMPU',"}}
[info] >      totemId: '1LoQvuu4KzHC1ux7qfOR', {"user":"    totemId: '1LoQvuu4KzHC1ux7qfOR',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totemId: '1LoQvuu4KzHC1ux7qfOR',"}}
[info] >      purchaseId: 'zuDSRe9m9p2oU9O4Kz1o', {"user":"    purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',"}}
[info] >      customerId: 'rMuIfSk9AarUm73FZVtC', {"user":"    customerId: 'rMuIfSk9AarUm73FZVtC',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     customerId: 'rMuIfSk9AarUm73FZVtC',"}}
[info] >      timestamp: 1729177549038 {"user":"    timestamp: 1729177549038","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     timestamp: 1729177549038"}}
[info] >    } {"user":"  }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   }"}}
[info] >  ] {"user":"]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ]"}}
[debug] [2024-10-18T12:26:13.257Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:26:13.257Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:26:13.257Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:26:13.257Z"],"workRunningCount":1}
[debug] [2024-10-18T12:26:13.257Z] Accepted request GET /totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T12:26:13.263Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:26:13.264Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T12:26:13.264Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:26:13.265Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[debug] [2024-10-18T12:26:13.306Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 41.127ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 41.127ms"}}
[debug] [2024-10-18T12:26:13.307Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T12:26:13.307Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:26:13.307Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:26:13.308Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:26:13.310Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:26:13.310Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:26:13.311Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:26:13.310Z"],"workRunningCount":1}
[debug] [2024-10-18T12:26:13.311Z] Accepted request GET /totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T12:26:13.312Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:26:13.313Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T12:26:13.313Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:26:13.313Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[info] >  QuerySnapshot { {"user":"QuerySnapshot {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m QuerySnapshot {"}}
[info] >    _query: Query { {"user":"  _query: Query {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _query: Query {"}}
[info] >      _firestore: Firestore { {"user":"    _firestore: Firestore {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _firestore: Firestore {"}}
[info] >        _settings: [Object], {"user":"      _settings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settings: [Object],"}}
[info] >        _settingsFrozen: true, {"user":"      _settingsFrozen: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settingsFrozen: true,"}}
[info] >        _serializer: [Serializer], {"user":"      _serializer: [Serializer],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer],"}}
[info] >        _projectId: 'totem-tour', {"user":"      _projectId: 'totem-tour',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _projectId: 'totem-tour',"}}
[info] >        _databaseId: '(default)', {"user":"      _databaseId: '(default)',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _databaseId: '(default)',"}}
[info] >        registeredListenersCount: 0, {"user":"      registeredListenersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       registeredListenersCount: 0,"}}
[info] >        bulkWritersCount: 0, {"user":"      bulkWritersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       bulkWritersCount: 0,"}}
[info] >        _traceUtil: DisabledTraceUtil {}, {"user":"      _traceUtil: DisabledTraceUtil {},","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _traceUtil: DisabledTraceUtil {},"}}
[info] >        _backoffSettings: [Object], {"user":"      _backoffSettings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _backoffSettings: [Object],"}}
[info] >        _clientPool: [ClientPool], {"user":"      _clientPool: [ClientPool],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _clientPool: [ClientPool],"}}
[info] >        _gax: [Object] {"user":"      _gax: [Object]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _gax: [Object]"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _queryOptions: QueryOptions { {"user":"    _queryOptions: QueryOptions {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryOptions: QueryOptions {"}}
[info] >        parentPath: [ResourcePath], {"user":"      parentPath: [ResourcePath],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       parentPath: [ResourcePath],"}}
[info] >        collectionId: 'purchaseItems', {"user":"      collectionId: 'purchaseItems',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       collectionId: 'purchaseItems',"}}
[info] >        converter: [Object], {"user":"      converter: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       converter: [Object],"}}
[info] >        allDescendants: false, {"user":"      allDescendants: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allDescendants: false,"}}
[info] >        filters: [Array], {"user":"      filters: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       filters: [Array],"}}
[info] >        fieldOrders: [Array], {"user":"      fieldOrders: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       fieldOrders: [Array],"}}
[info] >        startAt: undefined, {"user":"      startAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       startAt: undefined,"}}
[info] >        endAt: undefined, {"user":"      endAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       endAt: undefined,"}}
[info] >        limit: undefined, {"user":"      limit: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limit: undefined,"}}
[info] >        limitType: undefined, {"user":"      limitType: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limitType: undefined,"}}
[info] >        offset: undefined, {"user":"      offset: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       offset: undefined,"}}
[info] >        projection: undefined, {"user":"      projection: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       projection: undefined,"}}
[info] >        kindless: false, {"user":"      kindless: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       kindless: false,"}}
[info] >        requireConsistency: true {"user":"      requireConsistency: true","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       requireConsistency: true"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _serializer: Serializer { {"user":"    _serializer: Serializer {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _serializer: Serializer {"}}
[info] >        createReference: [Function (anonymous)], {"user":"      createReference: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createReference: [Function (anonymous)],"}}
[info] >        createInteger: [Function (anonymous)], {"user":"      createInteger: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createInteger: [Function (anonymous)],"}}
[info] >        allowUndefined: false {"user":"      allowUndefined: false","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allowUndefined: false"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _allowUndefined: false, {"user":"    _allowUndefined: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _allowUndefined: false,"}}
[info] >      _queryUtil: QueryUtil { {"user":"    _queryUtil: QueryUtil {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryUtil: QueryUtil {"}}
[info] >        _firestore: [Firestore], {"user":"      _firestore: [Firestore],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _firestore: [Firestore],"}}
[info] >        _queryOptions: [QueryOptions], {"user":"      _queryOptions: [QueryOptions],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _queryOptions: [QueryOptions],"}}
[info] >        _serializer: [Serializer] {"user":"      _serializer: [Serializer]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer]"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    _readTime: Timestamp { _seconds: 1729254372, _nanoseconds: 963527000 }, {"user":"  _readTime: Timestamp { _seconds: 1729254372, _nanoseconds: 963527000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _readTime: Timestamp { _seconds: 1729254372, _nanoseconds: 963527000 },"}}
[info] >    _size: 1, {"user":"  _size: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _size: 1,"}}
[info] >    _materializedDocs: null, {"user":"  _materializedDocs: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedDocs: null,"}}
[info] >    _materializedChanges: null, {"user":"  _materializedChanges: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedChanges: null,"}}
[info] >    _docs: [Function (anonymous)], {"user":"  _docs: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _docs: [Function (anonymous)],"}}
[info] >    _changes: [Function (anonymous)] {"user":"  _changes: [Function (anonymous)]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _changes: [Function (anonymous)]"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2024-10-18T12:26:13.388Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 74.5239ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 74.5239ms"}}
[debug] [2024-10-18T12:26:13.388Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T12:26:13.389Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:26:13.389Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:26:13.389Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] >  [ {"user":"[","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ["}}
[info] >    { {"user":"  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   {"}}
[info] >      id: 'AIxFbug16kvF6PQU0ybK', {"user":"    id: 'AIxFbug16kvF6PQU0ybK',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     id: 'AIxFbug16kvF6PQU0ybK',"}}
[info] >      productId: '2PHnd6lM4TG6lP6Y5fOc', {"user":"    productId: '2PHnd6lM4TG6lP6Y5fOc',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     productId: '2PHnd6lM4TG6lP6Y5fOc',"}}
[info] >      qty: 1, {"user":"    qty: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     qty: 1,"}}
[info] >      netPrice: 1, {"user":"    netPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     netPrice: 1,"}}
[info] >      partnerComm: 1, {"user":"    partnerComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     partnerComm: 1,"}}
[info] >      companyComm: 1, {"user":"    companyComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     companyComm: 1,"}}
[info] >      pricePerPerson: 1, {"user":"    pricePerPerson: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     pricePerPerson: 1,"}}
[info] >      minTotalPrice: 1, {"user":"    minTotalPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     minTotalPrice: 1,"}}
[info] >      totalPrice: 3, {"user":"    totalPrice: 3,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totalPrice: 3,"}}
[info] >      date: '2024-10-18', {"user":"    date: '2024-10-18',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: '2024-10-18',"}}
[info] >      cityId: 'OiCHcy7zKcp2uU3zlMPU', {"user":"    cityId: 'OiCHcy7zKcp2uU3zlMPU',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     cityId: 'OiCHcy7zKcp2uU3zlMPU',"}}
[info] >      totemId: '1LoQvuu4KzHC1ux7qfOR', {"user":"    totemId: '1LoQvuu4KzHC1ux7qfOR',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totemId: '1LoQvuu4KzHC1ux7qfOR',"}}
[info] >      purchaseId: 'zuDSRe9m9p2oU9O4Kz1o', {"user":"    purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',"}}
[info] >      customerId: 'rMuIfSk9AarUm73FZVtC', {"user":"    customerId: 'rMuIfSk9AarUm73FZVtC',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     customerId: 'rMuIfSk9AarUm73FZVtC',"}}
[info] >      timestamp: 1729177549038 {"user":"    timestamp: 1729177549038","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     timestamp: 1729177549038"}}
[info] >    } {"user":"  }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   }"}}
[info] >  ] {"user":"]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ]"}}
[debug] [2024-10-18T12:26:21.258Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:26:21.258Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:26:21.259Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:26:21.258Z"],"workRunningCount":1}
[debug] [2024-10-18T12:26:21.259Z] Accepted request GET /totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T12:26:21.266Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:26:21.267Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T12:26:21.267Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:26:21.269Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[debug] [2024-10-18T12:26:21.340Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 70.7532ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 70.7532ms"}}
[debug] [2024-10-18T12:26:21.342Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T12:26:21.342Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:26:21.342Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:26:21.343Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:26:21.350Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:26:21.349Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:26:21.350Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:26:21.349Z"],"workRunningCount":1}
[debug] [2024-10-18T12:26:21.350Z] Accepted request GET /totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T12:26:21.354Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:26:21.354Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T12:26:21.354Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:26:21.355Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[info] >  QuerySnapshot { {"user":"QuerySnapshot {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m QuerySnapshot {"}}
[info] >    _query: Query { {"user":"  _query: Query {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _query: Query {"}}
[info] >      _firestore: Firestore { {"user":"    _firestore: Firestore {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _firestore: Firestore {"}}
[info] >        _settings: [Object], {"user":"      _settings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settings: [Object],"}}
[info] >        _settingsFrozen: true, {"user":"      _settingsFrozen: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settingsFrozen: true,"}}
[info] >        _serializer: [Serializer], {"user":"      _serializer: [Serializer],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer],"}}
[info] >        _projectId: 'totem-tour', {"user":"      _projectId: 'totem-tour',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _projectId: 'totem-tour',"}}
[info] >        _databaseId: '(default)', {"user":"      _databaseId: '(default)',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _databaseId: '(default)',"}}
[info] >        registeredListenersCount: 0, {"user":"      registeredListenersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       registeredListenersCount: 0,"}}
[info] >        bulkWritersCount: 0, {"user":"      bulkWritersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       bulkWritersCount: 0,"}}
[info] >        _traceUtil: DisabledTraceUtil {}, {"user":"      _traceUtil: DisabledTraceUtil {},","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _traceUtil: DisabledTraceUtil {},"}}
[info] >        _backoffSettings: [Object], {"user":"      _backoffSettings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _backoffSettings: [Object],"}}
[info] >        _clientPool: [ClientPool], {"user":"      _clientPool: [ClientPool],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _clientPool: [ClientPool],"}}
[info] >        _gax: [Object] {"user":"      _gax: [Object]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _gax: [Object]"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _queryOptions: QueryOptions { {"user":"    _queryOptions: QueryOptions {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryOptions: QueryOptions {"}}
[info] >        parentPath: [ResourcePath], {"user":"      parentPath: [ResourcePath],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       parentPath: [ResourcePath],"}}
[info] >        collectionId: 'purchaseItems', {"user":"      collectionId: 'purchaseItems',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       collectionId: 'purchaseItems',"}}
[info] >        converter: [Object], {"user":"      converter: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       converter: [Object],"}}
[info] >        allDescendants: false, {"user":"      allDescendants: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allDescendants: false,"}}
[info] >        filters: [Array], {"user":"      filters: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       filters: [Array],"}}
[info] >        fieldOrders: [Array], {"user":"      fieldOrders: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       fieldOrders: [Array],"}}
[info] >        startAt: undefined, {"user":"      startAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       startAt: undefined,"}}
[info] >        endAt: undefined, {"user":"      endAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       endAt: undefined,"}}
[info] >        limit: undefined, {"user":"      limit: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limit: undefined,"}}
[info] >        limitType: undefined, {"user":"      limitType: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limitType: undefined,"}}
[info] >        offset: undefined, {"user":"      offset: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       offset: undefined,"}}
[info] >        projection: undefined, {"user":"      projection: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       projection: undefined,"}}
[info] >        kindless: false, {"user":"      kindless: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       kindless: false,"}}
[info] >        requireConsistency: true {"user":"      requireConsistency: true","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       requireConsistency: true"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _serializer: Serializer { {"user":"    _serializer: Serializer {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _serializer: Serializer {"}}
[info] >        createReference: [Function (anonymous)], {"user":"      createReference: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createReference: [Function (anonymous)],"}}
[info] >        createInteger: [Function (anonymous)], {"user":"      createInteger: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createInteger: [Function (anonymous)],"}}
[info] >        allowUndefined: false {"user":"      allowUndefined: false","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allowUndefined: false"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _allowUndefined: false, {"user":"    _allowUndefined: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _allowUndefined: false,"}}
[info] >      _queryUtil: QueryUtil { {"user":"    _queryUtil: QueryUtil {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryUtil: QueryUtil {"}}
[info] >        _firestore: [Firestore], {"user":"      _firestore: [Firestore],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _firestore: [Firestore],"}}
[info] >        _queryOptions: [QueryOptions], {"user":"      _queryOptions: [QueryOptions],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _queryOptions: [QueryOptions],"}}
[info] >        _serializer: [Serializer] {"user":"      _serializer: [Serializer]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer]"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    _readTime: Timestamp { _seconds: 1729254381, _nanoseconds: 8754000 }, {"user":"  _readTime: Timestamp { _seconds: 1729254381, _nanoseconds: 8754000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _readTime: Timestamp { _seconds: 1729254381, _nanoseconds: 8754000 },"}}
[info] >    _size: 1, {"user":"  _size: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _size: 1,"}}
[info] >    _materializedDocs: null, {"user":"  _materializedDocs: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedDocs: null,"}}
[info] >    _materializedChanges: null, {"user":"  _materializedChanges: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedChanges: null,"}}
[info] >    _docs: [Function (anonymous)], {"user":"  _docs: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _docs: [Function (anonymous)],"}}
[info] >    _changes: [Function (anonymous)] {"user":"  _changes: [Function (anonymous)]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _changes: [Function (anonymous)]"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2024-10-18T12:26:21.450Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 95.1693ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 95.1693ms"}}
[debug] [2024-10-18T12:26:21.451Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T12:26:21.451Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:26:21.451Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:26:21.451Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] >  [ {"user":"[","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ["}}
[info] >    { {"user":"  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   {"}}
[info] >      id: 'AIxFbug16kvF6PQU0ybK', {"user":"    id: 'AIxFbug16kvF6PQU0ybK',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     id: 'AIxFbug16kvF6PQU0ybK',"}}
[info] >      productId: '2PHnd6lM4TG6lP6Y5fOc', {"user":"    productId: '2PHnd6lM4TG6lP6Y5fOc',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     productId: '2PHnd6lM4TG6lP6Y5fOc',"}}
[info] >      qty: 1, {"user":"    qty: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     qty: 1,"}}
[info] >      netPrice: 1, {"user":"    netPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     netPrice: 1,"}}
[info] >      partnerComm: 1, {"user":"    partnerComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     partnerComm: 1,"}}
[info] >      companyComm: 1, {"user":"    companyComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     companyComm: 1,"}}
[info] >      pricePerPerson: 1, {"user":"    pricePerPerson: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     pricePerPerson: 1,"}}
[info] >      minTotalPrice: 1, {"user":"    minTotalPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     minTotalPrice: 1,"}}
[info] >      totalPrice: 3, {"user":"    totalPrice: 3,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totalPrice: 3,"}}
[info] >      date: '2024-10-18', {"user":"    date: '2024-10-18',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: '2024-10-18',"}}
[info] >      cityId: 'OiCHcy7zKcp2uU3zlMPU', {"user":"    cityId: 'OiCHcy7zKcp2uU3zlMPU',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     cityId: 'OiCHcy7zKcp2uU3zlMPU',"}}
[info] >      totemId: '1LoQvuu4KzHC1ux7qfOR', {"user":"    totemId: '1LoQvuu4KzHC1ux7qfOR',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totemId: '1LoQvuu4KzHC1ux7qfOR',"}}
[info] >      purchaseId: 'zuDSRe9m9p2oU9O4Kz1o', {"user":"    purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',"}}
[info] >      customerId: 'rMuIfSk9AarUm73FZVtC', {"user":"    customerId: 'rMuIfSk9AarUm73FZVtC',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     customerId: 'rMuIfSk9AarUm73FZVtC',"}}
[info] >      timestamp: 1729177549038 {"user":"    timestamp: 1729177549038","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     timestamp: 1729177549038"}}
[info] >    } {"user":"  }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   }"}}
[info] >  ] {"user":"]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ]"}}
[debug] [2024-10-18T12:26:24.471Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:26:24.471Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:26:24.471Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:26:24.471Z"],"workRunningCount":1}
[debug] [2024-10-18T12:26:24.471Z] Accepted request GET /totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T12:26:24.471Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:26:24.471Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T12:26:24.472Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:26:24.472Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[debug] [2024-10-18T12:26:24.518Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 45.9573ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 45.9573ms"}}
[debug] [2024-10-18T12:26:24.520Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T12:26:24.520Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:26:24.520Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:26:24.520Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:26:24.528Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:26:24.528Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:26:24.528Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:26:24.528Z"],"workRunningCount":1}
[debug] [2024-10-18T12:26:24.528Z] Accepted request GET /totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T12:26:24.529Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:26:24.529Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T12:26:24.529Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:26:24.530Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[info] >  QuerySnapshot { {"user":"QuerySnapshot {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m QuerySnapshot {"}}
[info] >    _query: Query { {"user":"  _query: Query {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _query: Query {"}}
[info] >      _firestore: Firestore { {"user":"    _firestore: Firestore {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _firestore: Firestore {"}}
[info] >        _settings: [Object], {"user":"      _settings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settings: [Object],"}}
[info] >        _settingsFrozen: true, {"user":"      _settingsFrozen: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settingsFrozen: true,"}}
[info] >        _serializer: [Serializer], {"user":"      _serializer: [Serializer],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer],"}}
[info] >        _projectId: 'totem-tour', {"user":"      _projectId: 'totem-tour',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _projectId: 'totem-tour',"}}
[info] >        _databaseId: '(default)', {"user":"      _databaseId: '(default)',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _databaseId: '(default)',"}}
[info] >        registeredListenersCount: 0, {"user":"      registeredListenersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       registeredListenersCount: 0,"}}
[info] >        bulkWritersCount: 0, {"user":"      bulkWritersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       bulkWritersCount: 0,"}}
[info] >        _traceUtil: DisabledTraceUtil {}, {"user":"      _traceUtil: DisabledTraceUtil {},","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _traceUtil: DisabledTraceUtil {},"}}
[info] >        _backoffSettings: [Object], {"user":"      _backoffSettings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _backoffSettings: [Object],"}}
[info] >        _clientPool: [ClientPool], {"user":"      _clientPool: [ClientPool],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _clientPool: [ClientPool],"}}
[info] >        _gax: [Object] {"user":"      _gax: [Object]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _gax: [Object]"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _queryOptions: QueryOptions { {"user":"    _queryOptions: QueryOptions {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryOptions: QueryOptions {"}}
[info] >        parentPath: [ResourcePath], {"user":"      parentPath: [ResourcePath],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       parentPath: [ResourcePath],"}}
[info] >        collectionId: 'purchaseItems', {"user":"      collectionId: 'purchaseItems',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       collectionId: 'purchaseItems',"}}
[info] >        converter: [Object], {"user":"      converter: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       converter: [Object],"}}
[info] >        allDescendants: false, {"user":"      allDescendants: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allDescendants: false,"}}
[info] >        filters: [Array], {"user":"      filters: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       filters: [Array],"}}
[info] >        fieldOrders: [Array], {"user":"      fieldOrders: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       fieldOrders: [Array],"}}
[info] >        startAt: undefined, {"user":"      startAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       startAt: undefined,"}}
[info] >        endAt: undefined, {"user":"      endAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       endAt: undefined,"}}
[info] >        limit: undefined, {"user":"      limit: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limit: undefined,"}}
[info] >        limitType: undefined, {"user":"      limitType: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limitType: undefined,"}}
[info] >        offset: undefined, {"user":"      offset: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       offset: undefined,"}}
[info] >        projection: undefined, {"user":"      projection: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       projection: undefined,"}}
[info] >        kindless: false, {"user":"      kindless: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       kindless: false,"}}
[info] >        requireConsistency: true {"user":"      requireConsistency: true","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       requireConsistency: true"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _serializer: Serializer { {"user":"    _serializer: Serializer {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _serializer: Serializer {"}}
[info] >        createReference: [Function (anonymous)], {"user":"      createReference: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createReference: [Function (anonymous)],"}}
[info] >        createInteger: [Function (anonymous)], {"user":"      createInteger: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createInteger: [Function (anonymous)],"}}
[info] >        allowUndefined: false {"user":"      allowUndefined: false","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allowUndefined: false"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _allowUndefined: false, {"user":"    _allowUndefined: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _allowUndefined: false,"}}
[info] >      _queryUtil: QueryUtil { {"user":"    _queryUtil: QueryUtil {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryUtil: QueryUtil {"}}
[info] >        _firestore: [Firestore], {"user":"      _firestore: [Firestore],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _firestore: [Firestore],"}}
[info] >        _queryOptions: [QueryOptions], {"user":"      _queryOptions: [QueryOptions],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _queryOptions: [QueryOptions],"}}
[info] >        _serializer: [Serializer] {"user":"      _serializer: [Serializer]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer]"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    _readTime: Timestamp { _seconds: 1729254384, _nanoseconds: 178593000 }, {"user":"  _readTime: Timestamp { _seconds: 1729254384, _nanoseconds: 178593000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _readTime: Timestamp { _seconds: 1729254384, _nanoseconds: 178593000 },"}}
[info] >    _size: 1, {"user":"  _size: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _size: 1,"}}
[info] >    _materializedDocs: null, {"user":"  _materializedDocs: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedDocs: null,"}}
[info] >    _materializedChanges: null, {"user":"  _materializedChanges: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedChanges: null,"}}
[info] >    _docs: [Function (anonymous)], {"user":"  _docs: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _docs: [Function (anonymous)],"}}
[info] >    _changes: [Function (anonymous)] {"user":"  _changes: [Function (anonymous)]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _changes: [Function (anonymous)]"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2024-10-18T12:26:24.598Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 68.3679ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 68.3679ms"}}
[debug] [2024-10-18T12:26:24.599Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T12:26:24.599Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:26:24.599Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:26:24.599Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] >  [ {"user":"[","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ["}}
[info] >    { {"user":"  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   {"}}
[info] >      id: 'AIxFbug16kvF6PQU0ybK', {"user":"    id: 'AIxFbug16kvF6PQU0ybK',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     id: 'AIxFbug16kvF6PQU0ybK',"}}
[info] >      productId: '2PHnd6lM4TG6lP6Y5fOc', {"user":"    productId: '2PHnd6lM4TG6lP6Y5fOc',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     productId: '2PHnd6lM4TG6lP6Y5fOc',"}}
[info] >      qty: 1, {"user":"    qty: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     qty: 1,"}}
[info] >      netPrice: 1, {"user":"    netPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     netPrice: 1,"}}
[info] >      partnerComm: 1, {"user":"    partnerComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     partnerComm: 1,"}}
[info] >      companyComm: 1, {"user":"    companyComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     companyComm: 1,"}}
[info] >      pricePerPerson: 1, {"user":"    pricePerPerson: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     pricePerPerson: 1,"}}
[info] >      minTotalPrice: 1, {"user":"    minTotalPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     minTotalPrice: 1,"}}
[info] >      totalPrice: 3, {"user":"    totalPrice: 3,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totalPrice: 3,"}}
[info] >      date: '2024-10-18', {"user":"    date: '2024-10-18',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: '2024-10-18',"}}
[info] >      cityId: 'OiCHcy7zKcp2uU3zlMPU', {"user":"    cityId: 'OiCHcy7zKcp2uU3zlMPU',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     cityId: 'OiCHcy7zKcp2uU3zlMPU',"}}
[info] >      totemId: '1LoQvuu4KzHC1ux7qfOR', {"user":"    totemId: '1LoQvuu4KzHC1ux7qfOR',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totemId: '1LoQvuu4KzHC1ux7qfOR',"}}
[info] >      purchaseId: 'zuDSRe9m9p2oU9O4Kz1o', {"user":"    purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',"}}
[info] >      customerId: 'rMuIfSk9AarUm73FZVtC', {"user":"    customerId: 'rMuIfSk9AarUm73FZVtC',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     customerId: 'rMuIfSk9AarUm73FZVtC',"}}
[info] >      timestamp: 1729177549038 {"user":"    timestamp: 1729177549038","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     timestamp: 1729177549038"}}
[info] >    } {"user":"  }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   }"}}
[info] >  ] {"user":"]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ]"}}
[debug] [2024-10-18T12:27:24.253Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:27:24.253Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:27:24.253Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:27:24.253Z"],"workRunningCount":1}
[debug] [2024-10-18T12:27:24.253Z] Accepted request GET /totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T12:27:24.255Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:27:24.255Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T12:27:24.255Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:27:24.256Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[debug] [2024-10-18T12:27:24.355Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 99.6031ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 99.6031ms"}}
[debug] [2024-10-18T12:27:24.356Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T12:27:24.356Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:27:24.356Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:27:24.356Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:27:24.360Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:27:24.360Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:27:24.360Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:27:24.360Z"],"workRunningCount":1}
[debug] [2024-10-18T12:27:24.360Z] Accepted request GET /totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T12:27:24.363Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:27:24.363Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T12:27:24.363Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:27:24.364Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[info] >  QuerySnapshot { {"user":"QuerySnapshot {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m QuerySnapshot {"}}
[info] >    _query: Query { {"user":"  _query: Query {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _query: Query {"}}
[info] >      _firestore: Firestore { {"user":"    _firestore: Firestore {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _firestore: Firestore {"}}
[info] >        _settings: [Object], {"user":"      _settings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settings: [Object],"}}
[info] >        _settingsFrozen: true, {"user":"      _settingsFrozen: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settingsFrozen: true,"}}
[info] >        _serializer: [Serializer], {"user":"      _serializer: [Serializer],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer],"}}
[info] >        _projectId: 'totem-tour', {"user":"      _projectId: 'totem-tour',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _projectId: 'totem-tour',"}}
[info] >        _databaseId: '(default)', {"user":"      _databaseId: '(default)',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _databaseId: '(default)',"}}
[info] >        registeredListenersCount: 0, {"user":"      registeredListenersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       registeredListenersCount: 0,"}}
[info] >        bulkWritersCount: 0, {"user":"      bulkWritersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       bulkWritersCount: 0,"}}
[info] >        _traceUtil: DisabledTraceUtil {}, {"user":"      _traceUtil: DisabledTraceUtil {},","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _traceUtil: DisabledTraceUtil {},"}}
[info] >        _backoffSettings: [Object], {"user":"      _backoffSettings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _backoffSettings: [Object],"}}
[info] >        _clientPool: [ClientPool], {"user":"      _clientPool: [ClientPool],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _clientPool: [ClientPool],"}}
[info] >        _gax: [Object] {"user":"      _gax: [Object]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _gax: [Object]"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _queryOptions: QueryOptions { {"user":"    _queryOptions: QueryOptions {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryOptions: QueryOptions {"}}
[info] >        parentPath: [ResourcePath], {"user":"      parentPath: [ResourcePath],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       parentPath: [ResourcePath],"}}
[info] >        collectionId: 'purchaseItems', {"user":"      collectionId: 'purchaseItems',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       collectionId: 'purchaseItems',"}}
[info] >        converter: [Object], {"user":"      converter: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       converter: [Object],"}}
[info] >        allDescendants: false, {"user":"      allDescendants: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allDescendants: false,"}}
[info] >        filters: [Array], {"user":"      filters: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       filters: [Array],"}}
[info] >        fieldOrders: [Array], {"user":"      fieldOrders: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       fieldOrders: [Array],"}}
[info] >        startAt: undefined, {"user":"      startAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       startAt: undefined,"}}
[info] >        endAt: undefined, {"user":"      endAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       endAt: undefined,"}}
[info] >        limit: undefined, {"user":"      limit: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limit: undefined,"}}
[info] >        limitType: undefined, {"user":"      limitType: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limitType: undefined,"}}
[info] >        offset: undefined, {"user":"      offset: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       offset: undefined,"}}
[info] >        projection: undefined, {"user":"      projection: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       projection: undefined,"}}
[info] >        kindless: false, {"user":"      kindless: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       kindless: false,"}}
[info] >        requireConsistency: true {"user":"      requireConsistency: true","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       requireConsistency: true"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _serializer: Serializer { {"user":"    _serializer: Serializer {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _serializer: Serializer {"}}
[info] >        createReference: [Function (anonymous)], {"user":"      createReference: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createReference: [Function (anonymous)],"}}
[info] >        createInteger: [Function (anonymous)], {"user":"      createInteger: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createInteger: [Function (anonymous)],"}}
[info] >        allowUndefined: false {"user":"      allowUndefined: false","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allowUndefined: false"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _allowUndefined: false, {"user":"    _allowUndefined: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _allowUndefined: false,"}}
[info] >      _queryUtil: QueryUtil { {"user":"    _queryUtil: QueryUtil {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryUtil: QueryUtil {"}}
[info] >        _firestore: [Firestore], {"user":"      _firestore: [Firestore],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _firestore: [Firestore],"}}
[info] >        _queryOptions: [QueryOptions], {"user":"      _queryOptions: [QueryOptions],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _queryOptions: [QueryOptions],"}}
[info] >        _serializer: [Serializer] {"user":"      _serializer: [Serializer]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer]"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    _readTime: Timestamp { _seconds: 1729254444, _nanoseconds: 23428000 }, {"user":"  _readTime: Timestamp { _seconds: 1729254444, _nanoseconds: 23428000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _readTime: Timestamp { _seconds: 1729254444, _nanoseconds: 23428000 },"}}
[info] >    _size: 1, {"user":"  _size: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _size: 1,"}}
[info] >    _materializedDocs: null, {"user":"  _materializedDocs: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedDocs: null,"}}
[info] >    _materializedChanges: null, {"user":"  _materializedChanges: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedChanges: null,"}}
[info] >    _docs: [Function (anonymous)], {"user":"  _docs: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _docs: [Function (anonymous)],"}}
[info] >    _changes: [Function (anonymous)] {"user":"  _changes: [Function (anonymous)]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _changes: [Function (anonymous)]"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2024-10-18T12:27:24.448Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 83.9451ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 83.9451ms"}}
[debug] [2024-10-18T12:27:24.448Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T12:27:24.449Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:27:24.449Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:27:24.449Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] >  [ {"user":"[","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ["}}
[info] >    { {"user":"  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   {"}}
[info] >      id: 'AIxFbug16kvF6PQU0ybK', {"user":"    id: 'AIxFbug16kvF6PQU0ybK',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     id: 'AIxFbug16kvF6PQU0ybK',"}}
[info] >      productId: '2PHnd6lM4TG6lP6Y5fOc', {"user":"    productId: '2PHnd6lM4TG6lP6Y5fOc',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     productId: '2PHnd6lM4TG6lP6Y5fOc',"}}
[info] >      qty: 1, {"user":"    qty: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     qty: 1,"}}
[info] >      netPrice: 1, {"user":"    netPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     netPrice: 1,"}}
[info] >      partnerComm: 1, {"user":"    partnerComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     partnerComm: 1,"}}
[info] >      companyComm: 1, {"user":"    companyComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     companyComm: 1,"}}
[info] >      pricePerPerson: 1, {"user":"    pricePerPerson: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     pricePerPerson: 1,"}}
[info] >      minTotalPrice: 1, {"user":"    minTotalPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     minTotalPrice: 1,"}}
[info] >      totalPrice: 3, {"user":"    totalPrice: 3,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totalPrice: 3,"}}
[info] >      date: '2024-10-18', {"user":"    date: '2024-10-18',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: '2024-10-18',"}}
[info] >      cityId: 'OiCHcy7zKcp2uU3zlMPU', {"user":"    cityId: 'OiCHcy7zKcp2uU3zlMPU',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     cityId: 'OiCHcy7zKcp2uU3zlMPU',"}}
[info] >      totemId: '1LoQvuu4KzHC1ux7qfOR', {"user":"    totemId: '1LoQvuu4KzHC1ux7qfOR',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totemId: '1LoQvuu4KzHC1ux7qfOR',"}}
[info] >      purchaseId: 'zuDSRe9m9p2oU9O4Kz1o', {"user":"    purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',"}}
[info] >      customerId: 'rMuIfSk9AarUm73FZVtC', {"user":"    customerId: 'rMuIfSk9AarUm73FZVtC',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     customerId: 'rMuIfSk9AarUm73FZVtC',"}}
[info] >      timestamp: 1729177549038 {"user":"    timestamp: 1729177549038","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     timestamp: 1729177549038"}}
[info] >    } {"user":"  }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   }"}}
[info] >  ] {"user":"]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ]"}}
[debug] [2024-10-18T12:27:28.247Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:27:28.247Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:27:28.247Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:27:28.247Z"],"workRunningCount":1}
[debug] [2024-10-18T12:27:28.247Z] Accepted request GET /totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T12:27:28.248Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:27:28.248Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T12:27:28.248Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:27:28.249Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[debug] [2024-10-18T12:27:28.293Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 44.7355ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 44.7355ms"}}
[debug] [2024-10-18T12:27:28.294Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T12:27:28.294Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:27:28.294Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:27:28.294Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:27:28.297Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:27:28.297Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:27:28.297Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:27:28.297Z"],"workRunningCount":1}
[debug] [2024-10-18T12:27:28.297Z] Accepted request GET /totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T12:27:28.298Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:27:28.298Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T12:27:28.298Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:27:28.299Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[info] >  QuerySnapshot { {"user":"QuerySnapshot {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m QuerySnapshot {"}}
[info] >    _query: Query { {"user":"  _query: Query {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _query: Query {"}}
[info] >      _firestore: Firestore { {"user":"    _firestore: Firestore {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _firestore: Firestore {"}}
[info] >        _settings: [Object], {"user":"      _settings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settings: [Object],"}}
[info] >        _settingsFrozen: true, {"user":"      _settingsFrozen: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settingsFrozen: true,"}}
[info] >        _serializer: [Serializer], {"user":"      _serializer: [Serializer],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer],"}}
[info] >        _projectId: 'totem-tour', {"user":"      _projectId: 'totem-tour',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _projectId: 'totem-tour',"}}
[info] >        _databaseId: '(default)', {"user":"      _databaseId: '(default)',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _databaseId: '(default)',"}}
[info] >        registeredListenersCount: 0, {"user":"      registeredListenersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       registeredListenersCount: 0,"}}
[info] >        bulkWritersCount: 0, {"user":"      bulkWritersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       bulkWritersCount: 0,"}}
[info] >        _traceUtil: DisabledTraceUtil {}, {"user":"      _traceUtil: DisabledTraceUtil {},","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _traceUtil: DisabledTraceUtil {},"}}
[info] >        _backoffSettings: [Object], {"user":"      _backoffSettings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _backoffSettings: [Object],"}}
[info] >        _clientPool: [ClientPool], {"user":"      _clientPool: [ClientPool],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _clientPool: [ClientPool],"}}
[info] >        _gax: [Object] {"user":"      _gax: [Object]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _gax: [Object]"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _queryOptions: QueryOptions { {"user":"    _queryOptions: QueryOptions {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryOptions: QueryOptions {"}}
[info] >        parentPath: [ResourcePath], {"user":"      parentPath: [ResourcePath],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       parentPath: [ResourcePath],"}}
[info] >        collectionId: 'purchaseItems', {"user":"      collectionId: 'purchaseItems',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       collectionId: 'purchaseItems',"}}
[info] >        converter: [Object], {"user":"      converter: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       converter: [Object],"}}
[info] >        allDescendants: false, {"user":"      allDescendants: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allDescendants: false,"}}
[info] >        filters: [Array], {"user":"      filters: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       filters: [Array],"}}
[info] >        fieldOrders: [Array], {"user":"      fieldOrders: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       fieldOrders: [Array],"}}
[info] >        startAt: undefined, {"user":"      startAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       startAt: undefined,"}}
[info] >        endAt: undefined, {"user":"      endAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       endAt: undefined,"}}
[info] >        limit: undefined, {"user":"      limit: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limit: undefined,"}}
[info] >        limitType: undefined, {"user":"      limitType: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limitType: undefined,"}}
[info] >        offset: undefined, {"user":"      offset: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       offset: undefined,"}}
[info] >        projection: undefined, {"user":"      projection: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       projection: undefined,"}}
[info] >        kindless: false, {"user":"      kindless: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       kindless: false,"}}
[info] >        requireConsistency: true {"user":"      requireConsistency: true","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       requireConsistency: true"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _serializer: Serializer { {"user":"    _serializer: Serializer {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _serializer: Serializer {"}}
[info] >        createReference: [Function (anonymous)], {"user":"      createReference: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createReference: [Function (anonymous)],"}}
[info] >        createInteger: [Function (anonymous)], {"user":"      createInteger: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createInteger: [Function (anonymous)],"}}
[info] >        allowUndefined: false {"user":"      allowUndefined: false","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allowUndefined: false"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _allowUndefined: false, {"user":"    _allowUndefined: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _allowUndefined: false,"}}
[info] >      _queryUtil: QueryUtil { {"user":"    _queryUtil: QueryUtil {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryUtil: QueryUtil {"}}
[info] >        _firestore: [Firestore], {"user":"      _firestore: [Firestore],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _firestore: [Firestore],"}}
[info] >        _queryOptions: [QueryOptions], {"user":"      _queryOptions: [QueryOptions],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _queryOptions: [QueryOptions],"}}
[info] >        _serializer: [Serializer] {"user":"      _serializer: [Serializer]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer]"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    _readTime: Timestamp { _seconds: 1729254447, _nanoseconds: 954912000 }, {"user":"  _readTime: Timestamp { _seconds: 1729254447, _nanoseconds: 954912000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _readTime: Timestamp { _seconds: 1729254447, _nanoseconds: 954912000 },"}}
[info] >    _size: 1, {"user":"  _size: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _size: 1,"}}
[info] >    _materializedDocs: null, {"user":"  _materializedDocs: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedDocs: null,"}}
[info] >    _materializedChanges: null, {"user":"  _materializedChanges: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedChanges: null,"}}
[info] >    _docs: [Function (anonymous)], {"user":"  _docs: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _docs: [Function (anonymous)],"}}
[info] >    _changes: [Function (anonymous)] {"user":"  _changes: [Function (anonymous)]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _changes: [Function (anonymous)]"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2024-10-18T12:27:28.383Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 84.5688ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 84.5688ms"}}
[debug] [2024-10-18T12:27:28.384Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T12:27:28.384Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:27:28.384Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:27:28.384Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] >  [ {"user":"[","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ["}}
[info] >    { {"user":"  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   {"}}
[info] >      id: 'AIxFbug16kvF6PQU0ybK', {"user":"    id: 'AIxFbug16kvF6PQU0ybK',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     id: 'AIxFbug16kvF6PQU0ybK',"}}
[info] >      productId: '2PHnd6lM4TG6lP6Y5fOc', {"user":"    productId: '2PHnd6lM4TG6lP6Y5fOc',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     productId: '2PHnd6lM4TG6lP6Y5fOc',"}}
[info] >      qty: 1, {"user":"    qty: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     qty: 1,"}}
[info] >      netPrice: 1, {"user":"    netPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     netPrice: 1,"}}
[info] >      partnerComm: 1, {"user":"    partnerComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     partnerComm: 1,"}}
[info] >      companyComm: 1, {"user":"    companyComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     companyComm: 1,"}}
[info] >      pricePerPerson: 1, {"user":"    pricePerPerson: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     pricePerPerson: 1,"}}
[info] >      minTotalPrice: 1, {"user":"    minTotalPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     minTotalPrice: 1,"}}
[info] >      totalPrice: 3, {"user":"    totalPrice: 3,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totalPrice: 3,"}}
[info] >      date: '2024-10-18', {"user":"    date: '2024-10-18',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: '2024-10-18',"}}
[info] >      cityId: 'OiCHcy7zKcp2uU3zlMPU', {"user":"    cityId: 'OiCHcy7zKcp2uU3zlMPU',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     cityId: 'OiCHcy7zKcp2uU3zlMPU',"}}
[info] >      totemId: '1LoQvuu4KzHC1ux7qfOR', {"user":"    totemId: '1LoQvuu4KzHC1ux7qfOR',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totemId: '1LoQvuu4KzHC1ux7qfOR',"}}
[info] >      purchaseId: 'zuDSRe9m9p2oU9O4Kz1o', {"user":"    purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',"}}
[info] >      customerId: 'rMuIfSk9AarUm73FZVtC', {"user":"    customerId: 'rMuIfSk9AarUm73FZVtC',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     customerId: 'rMuIfSk9AarUm73FZVtC',"}}
[info] >      timestamp: 1729177549038 {"user":"    timestamp: 1729177549038","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     timestamp: 1729177549038"}}
[info] >    } {"user":"  }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   }"}}
[info] >  ] {"user":"]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ]"}}
[debug] [2024-10-18T12:27:48.271Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:27:48.271Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:27:48.271Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:27:48.271Z"],"workRunningCount":1}
[debug] [2024-10-18T12:27:48.272Z] Accepted request GET /totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T12:27:48.275Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:27:48.275Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T12:27:48.275Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:27:48.276Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[debug] [2024-10-18T12:27:48.319Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 42.7029ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 42.7029ms"}}
[debug] [2024-10-18T12:27:48.320Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T12:27:48.320Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:27:48.320Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:27:48.320Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:27:48.324Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:27:48.324Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:27:48.324Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:27:48.324Z"],"workRunningCount":1}
[debug] [2024-10-18T12:27:48.324Z] Accepted request GET /totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T12:27:48.327Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:27:48.327Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T12:27:48.327Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:27:48.328Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[info] >  QuerySnapshot { {"user":"QuerySnapshot {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m QuerySnapshot {"}}
[info] >    _query: Query { {"user":"  _query: Query {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _query: Query {"}}
[info] >      _firestore: Firestore { {"user":"    _firestore: Firestore {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _firestore: Firestore {"}}
[info] >        _settings: [Object], {"user":"      _settings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settings: [Object],"}}
[info] >        _settingsFrozen: true, {"user":"      _settingsFrozen: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settingsFrozen: true,"}}
[info] >        _serializer: [Serializer], {"user":"      _serializer: [Serializer],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer],"}}
[info] >        _projectId: 'totem-tour', {"user":"      _projectId: 'totem-tour',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _projectId: 'totem-tour',"}}
[info] >        _databaseId: '(default)', {"user":"      _databaseId: '(default)',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _databaseId: '(default)',"}}
[info] >        registeredListenersCount: 0, {"user":"      registeredListenersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       registeredListenersCount: 0,"}}
[info] >        bulkWritersCount: 0, {"user":"      bulkWritersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       bulkWritersCount: 0,"}}
[info] >        _traceUtil: DisabledTraceUtil {}, {"user":"      _traceUtil: DisabledTraceUtil {},","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _traceUtil: DisabledTraceUtil {},"}}
[info] >        _backoffSettings: [Object], {"user":"      _backoffSettings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _backoffSettings: [Object],"}}
[info] >        _clientPool: [ClientPool], {"user":"      _clientPool: [ClientPool],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _clientPool: [ClientPool],"}}
[info] >        _gax: [Object] {"user":"      _gax: [Object]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _gax: [Object]"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _queryOptions: QueryOptions { {"user":"    _queryOptions: QueryOptions {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryOptions: QueryOptions {"}}
[info] >        parentPath: [ResourcePath], {"user":"      parentPath: [ResourcePath],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       parentPath: [ResourcePath],"}}
[info] >        collectionId: 'purchaseItems', {"user":"      collectionId: 'purchaseItems',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       collectionId: 'purchaseItems',"}}
[info] >        converter: [Object], {"user":"      converter: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       converter: [Object],"}}
[info] >        allDescendants: false, {"user":"      allDescendants: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allDescendants: false,"}}
[info] >        filters: [Array], {"user":"      filters: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       filters: [Array],"}}
[info] >        fieldOrders: [Array], {"user":"      fieldOrders: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       fieldOrders: [Array],"}}
[info] >        startAt: undefined, {"user":"      startAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       startAt: undefined,"}}
[info] >        endAt: undefined, {"user":"      endAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       endAt: undefined,"}}
[info] >        limit: undefined, {"user":"      limit: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limit: undefined,"}}
[info] >        limitType: undefined, {"user":"      limitType: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limitType: undefined,"}}
[info] >        offset: undefined, {"user":"      offset: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       offset: undefined,"}}
[info] >        projection: undefined, {"user":"      projection: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       projection: undefined,"}}
[info] >        kindless: false, {"user":"      kindless: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       kindless: false,"}}
[info] >        requireConsistency: true {"user":"      requireConsistency: true","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       requireConsistency: true"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _serializer: Serializer { {"user":"    _serializer: Serializer {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _serializer: Serializer {"}}
[info] >        createReference: [Function (anonymous)], {"user":"      createReference: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createReference: [Function (anonymous)],"}}
[info] >        createInteger: [Function (anonymous)], {"user":"      createInteger: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createInteger: [Function (anonymous)],"}}
[info] >        allowUndefined: false {"user":"      allowUndefined: false","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allowUndefined: false"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _allowUndefined: false, {"user":"    _allowUndefined: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _allowUndefined: false,"}}
[info] >      _queryUtil: QueryUtil { {"user":"    _queryUtil: QueryUtil {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryUtil: QueryUtil {"}}
[info] >        _firestore: [Firestore], {"user":"      _firestore: [Firestore],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _firestore: [Firestore],"}}
[info] >        _queryOptions: [QueryOptions], {"user":"      _queryOptions: [QueryOptions],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _queryOptions: [QueryOptions],"}}
[info] >        _serializer: [Serializer] {"user":"      _serializer: [Serializer]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer]"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    _readTime: Timestamp { _seconds: 1729254467, _nanoseconds: 971561000 }, {"user":"  _readTime: Timestamp { _seconds: 1729254467, _nanoseconds: 971561000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _readTime: Timestamp { _seconds: 1729254467, _nanoseconds: 971561000 },"}}
[info] >    _size: 1, {"user":"  _size: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _size: 1,"}}
[info] >    _materializedDocs: null, {"user":"  _materializedDocs: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedDocs: null,"}}
[info] >    _materializedChanges: null, {"user":"  _materializedChanges: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedChanges: null,"}}
[info] >    _docs: [Function (anonymous)], {"user":"  _docs: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _docs: [Function (anonymous)],"}}
[info] >    _changes: [Function (anonymous)] {"user":"  _changes: [Function (anonymous)]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _changes: [Function (anonymous)]"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2024-10-18T12:27:48.391Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 62.9435ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 62.9435ms"}}
[debug] [2024-10-18T12:27:48.391Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T12:27:48.391Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:27:48.392Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:27:48.392Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] >  [ {"user":"[","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ["}}
[info] >    { {"user":"  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   {"}}
[info] >      id: 'AIxFbug16kvF6PQU0ybK', {"user":"    id: 'AIxFbug16kvF6PQU0ybK',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     id: 'AIxFbug16kvF6PQU0ybK',"}}
[info] >      productId: '2PHnd6lM4TG6lP6Y5fOc', {"user":"    productId: '2PHnd6lM4TG6lP6Y5fOc',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     productId: '2PHnd6lM4TG6lP6Y5fOc',"}}
[info] >      qty: 1, {"user":"    qty: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     qty: 1,"}}
[info] >      netPrice: 1, {"user":"    netPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     netPrice: 1,"}}
[info] >      partnerComm: 1, {"user":"    partnerComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     partnerComm: 1,"}}
[info] >      companyComm: 1, {"user":"    companyComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     companyComm: 1,"}}
[info] >      pricePerPerson: 1, {"user":"    pricePerPerson: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     pricePerPerson: 1,"}}
[info] >      minTotalPrice: 1, {"user":"    minTotalPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     minTotalPrice: 1,"}}
[info] >      totalPrice: 3, {"user":"    totalPrice: 3,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totalPrice: 3,"}}
[info] >      date: '2024-10-18', {"user":"    date: '2024-10-18',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: '2024-10-18',"}}
[info] >      cityId: 'OiCHcy7zKcp2uU3zlMPU', {"user":"    cityId: 'OiCHcy7zKcp2uU3zlMPU',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     cityId: 'OiCHcy7zKcp2uU3zlMPU',"}}
[info] >      totemId: '1LoQvuu4KzHC1ux7qfOR', {"user":"    totemId: '1LoQvuu4KzHC1ux7qfOR',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totemId: '1LoQvuu4KzHC1ux7qfOR',"}}
[info] >      purchaseId: 'zuDSRe9m9p2oU9O4Kz1o', {"user":"    purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',"}}
[info] >      customerId: 'rMuIfSk9AarUm73FZVtC', {"user":"    customerId: 'rMuIfSk9AarUm73FZVtC',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     customerId: 'rMuIfSk9AarUm73FZVtC',"}}
[info] >      timestamp: 1729177549038 {"user":"    timestamp: 1729177549038","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     timestamp: 1729177549038"}}
[info] >    } {"user":"  }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   }"}}
[info] >  ] {"user":"]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ]"}}
[debug] [2024-10-18T12:27:50.254Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:27:50.254Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:27:50.255Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:27:50.254Z"],"workRunningCount":1}
[debug] [2024-10-18T12:27:50.255Z] Accepted request GET /totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T12:27:50.256Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:27:50.256Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T12:27:50.257Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:27:50.258Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[debug] [2024-10-18T12:27:50.297Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 39.3012ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 39.3012ms"}}
[debug] [2024-10-18T12:27:50.299Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T12:27:50.299Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:27:50.299Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:27:50.300Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:27:50.305Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:27:50.305Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:27:50.305Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:27:50.305Z"],"workRunningCount":1}
[debug] [2024-10-18T12:27:50.305Z] Accepted request GET /totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T12:27:50.307Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:27:50.307Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T12:27:50.307Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:27:50.308Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[info] >  QuerySnapshot { {"user":"QuerySnapshot {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m QuerySnapshot {"}}
[info] >    _query: Query { {"user":"  _query: Query {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _query: Query {"}}
[info] >      _firestore: Firestore { {"user":"    _firestore: Firestore {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _firestore: Firestore {"}}
[info] >        _settings: [Object], {"user":"      _settings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settings: [Object],"}}
[info] >        _settingsFrozen: true, {"user":"      _settingsFrozen: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settingsFrozen: true,"}}
[info] >        _serializer: [Serializer], {"user":"      _serializer: [Serializer],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer],"}}
[info] >        _projectId: 'totem-tour', {"user":"      _projectId: 'totem-tour',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _projectId: 'totem-tour',"}}
[info] >        _databaseId: '(default)', {"user":"      _databaseId: '(default)',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _databaseId: '(default)',"}}
[info] >        registeredListenersCount: 0, {"user":"      registeredListenersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       registeredListenersCount: 0,"}}
[info] >        bulkWritersCount: 0, {"user":"      bulkWritersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       bulkWritersCount: 0,"}}
[info] >        _traceUtil: DisabledTraceUtil {}, {"user":"      _traceUtil: DisabledTraceUtil {},","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _traceUtil: DisabledTraceUtil {},"}}
[info] >        _backoffSettings: [Object], {"user":"      _backoffSettings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _backoffSettings: [Object],"}}
[info] >        _clientPool: [ClientPool], {"user":"      _clientPool: [ClientPool],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _clientPool: [ClientPool],"}}
[info] >        _gax: [Object] {"user":"      _gax: [Object]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _gax: [Object]"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _queryOptions: QueryOptions { {"user":"    _queryOptions: QueryOptions {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryOptions: QueryOptions {"}}
[info] >        parentPath: [ResourcePath], {"user":"      parentPath: [ResourcePath],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       parentPath: [ResourcePath],"}}
[info] >        collectionId: 'purchaseItems', {"user":"      collectionId: 'purchaseItems',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       collectionId: 'purchaseItems',"}}
[info] >        converter: [Object], {"user":"      converter: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       converter: [Object],"}}
[info] >        allDescendants: false, {"user":"      allDescendants: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allDescendants: false,"}}
[info] >        filters: [Array], {"user":"      filters: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       filters: [Array],"}}
[info] >        fieldOrders: [Array], {"user":"      fieldOrders: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       fieldOrders: [Array],"}}
[info] >        startAt: undefined, {"user":"      startAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       startAt: undefined,"}}
[info] >        endAt: undefined, {"user":"      endAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       endAt: undefined,"}}
[info] >        limit: undefined, {"user":"      limit: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limit: undefined,"}}
[info] >        limitType: undefined, {"user":"      limitType: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limitType: undefined,"}}
[info] >        offset: undefined, {"user":"      offset: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       offset: undefined,"}}
[info] >        projection: undefined, {"user":"      projection: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       projection: undefined,"}}
[info] >        kindless: false, {"user":"      kindless: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       kindless: false,"}}
[info] >        requireConsistency: true {"user":"      requireConsistency: true","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       requireConsistency: true"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _serializer: Serializer { {"user":"    _serializer: Serializer {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _serializer: Serializer {"}}
[info] >        createReference: [Function (anonymous)], {"user":"      createReference: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createReference: [Function (anonymous)],"}}
[info] >        createInteger: [Function (anonymous)], {"user":"      createInteger: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createInteger: [Function (anonymous)],"}}
[info] >        allowUndefined: false {"user":"      allowUndefined: false","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allowUndefined: false"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _allowUndefined: false, {"user":"    _allowUndefined: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _allowUndefined: false,"}}
[info] >      _queryUtil: QueryUtil { {"user":"    _queryUtil: QueryUtil {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryUtil: QueryUtil {"}}
[info] >        _firestore: [Firestore], {"user":"      _firestore: [Firestore],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _firestore: [Firestore],"}}
[info] >        _queryOptions: [QueryOptions], {"user":"      _queryOptions: [QueryOptions],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _queryOptions: [QueryOptions],"}}
[info] >        _serializer: [Serializer] {"user":"      _serializer: [Serializer]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer]"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    _readTime: Timestamp { _seconds: 1729254469, _nanoseconds: 966424000 }, {"user":"  _readTime: Timestamp { _seconds: 1729254469, _nanoseconds: 966424000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _readTime: Timestamp { _seconds: 1729254469, _nanoseconds: 966424000 },"}}
[info] >    _size: 1, {"user":"  _size: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _size: 1,"}}
[info] >    _materializedDocs: null, {"user":"  _materializedDocs: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedDocs: null,"}}
[info] >    _materializedChanges: null, {"user":"  _materializedChanges: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedChanges: null,"}}
[info] >    _docs: [Function (anonymous)], {"user":"  _docs: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _docs: [Function (anonymous)],"}}
[info] >    _changes: [Function (anonymous)] {"user":"  _changes: [Function (anonymous)]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _changes: [Function (anonymous)]"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2024-10-18T12:27:50.398Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 89.5204ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 89.5204ms"}}
[debug] [2024-10-18T12:27:50.398Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T12:27:50.398Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:27:50.399Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:27:50.399Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] >  [ {"user":"[","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ["}}
[info] >    { {"user":"  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   {"}}
[info] >      id: 'AIxFbug16kvF6PQU0ybK', {"user":"    id: 'AIxFbug16kvF6PQU0ybK',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     id: 'AIxFbug16kvF6PQU0ybK',"}}
[info] >      productId: '2PHnd6lM4TG6lP6Y5fOc', {"user":"    productId: '2PHnd6lM4TG6lP6Y5fOc',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     productId: '2PHnd6lM4TG6lP6Y5fOc',"}}
[info] >      qty: 1, {"user":"    qty: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     qty: 1,"}}
[info] >      netPrice: 1, {"user":"    netPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     netPrice: 1,"}}
[info] >      partnerComm: 1, {"user":"    partnerComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     partnerComm: 1,"}}
[info] >      companyComm: 1, {"user":"    companyComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     companyComm: 1,"}}
[info] >      pricePerPerson: 1, {"user":"    pricePerPerson: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     pricePerPerson: 1,"}}
[info] >      minTotalPrice: 1, {"user":"    minTotalPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     minTotalPrice: 1,"}}
[info] >      totalPrice: 3, {"user":"    totalPrice: 3,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totalPrice: 3,"}}
[info] >      date: '2024-10-18', {"user":"    date: '2024-10-18',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: '2024-10-18',"}}
[info] >      cityId: 'OiCHcy7zKcp2uU3zlMPU', {"user":"    cityId: 'OiCHcy7zKcp2uU3zlMPU',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     cityId: 'OiCHcy7zKcp2uU3zlMPU',"}}
[info] >      totemId: '1LoQvuu4KzHC1ux7qfOR', {"user":"    totemId: '1LoQvuu4KzHC1ux7qfOR',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totemId: '1LoQvuu4KzHC1ux7qfOR',"}}
[info] >      purchaseId: 'zuDSRe9m9p2oU9O4Kz1o', {"user":"    purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',"}}
[info] >      customerId: 'rMuIfSk9AarUm73FZVtC', {"user":"    customerId: 'rMuIfSk9AarUm73FZVtC',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     customerId: 'rMuIfSk9AarUm73FZVtC',"}}
[info] >      timestamp: 1729177549038 {"user":"    timestamp: 1729177549038","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     timestamp: 1729177549038"}}
[info] >    } {"user":"  }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   }"}}
[info] >  ] {"user":"]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ]"}}
[debug] [2024-10-18T12:29:33.316Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:29:33.316Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:29:33.316Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:29:33.316Z"],"workRunningCount":1}
[debug] [2024-10-18T12:29:33.316Z] Accepted request GET /totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T12:29:33.319Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:29:33.320Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T12:29:33.320Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:29:33.320Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[debug] [2024-10-18T12:29:33.417Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 96.667ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 96.667ms"}}
[debug] [2024-10-18T12:29:33.418Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T12:29:33.418Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:29:33.418Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:29:33.418Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:29:33.421Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:29:33.421Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:29:33.421Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:29:33.421Z"],"workRunningCount":1}
[debug] [2024-10-18T12:29:33.421Z] Accepted request GET /totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T12:29:33.424Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:29:33.424Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T12:29:33.424Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:29:33.425Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[info] >  QuerySnapshot { {"user":"QuerySnapshot {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m QuerySnapshot {"}}
[info] >    _query: Query { {"user":"  _query: Query {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _query: Query {"}}
[info] >      _firestore: Firestore { {"user":"    _firestore: Firestore {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _firestore: Firestore {"}}
[info] >        _settings: [Object], {"user":"      _settings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settings: [Object],"}}
[info] >        _settingsFrozen: true, {"user":"      _settingsFrozen: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settingsFrozen: true,"}}
[info] >        _serializer: [Serializer], {"user":"      _serializer: [Serializer],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer],"}}
[info] >        _projectId: 'totem-tour', {"user":"      _projectId: 'totem-tour',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _projectId: 'totem-tour',"}}
[info] >        _databaseId: '(default)', {"user":"      _databaseId: '(default)',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _databaseId: '(default)',"}}
[info] >        registeredListenersCount: 0, {"user":"      registeredListenersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       registeredListenersCount: 0,"}}
[info] >        bulkWritersCount: 0, {"user":"      bulkWritersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       bulkWritersCount: 0,"}}
[info] >        _traceUtil: DisabledTraceUtil {}, {"user":"      _traceUtil: DisabledTraceUtil {},","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _traceUtil: DisabledTraceUtil {},"}}
[info] >        _backoffSettings: [Object], {"user":"      _backoffSettings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _backoffSettings: [Object],"}}
[info] >        _clientPool: [ClientPool], {"user":"      _clientPool: [ClientPool],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _clientPool: [ClientPool],"}}
[info] >        _gax: [Object] {"user":"      _gax: [Object]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _gax: [Object]"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _queryOptions: QueryOptions { {"user":"    _queryOptions: QueryOptions {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryOptions: QueryOptions {"}}
[info] >        parentPath: [ResourcePath], {"user":"      parentPath: [ResourcePath],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       parentPath: [ResourcePath],"}}
[info] >        collectionId: 'purchaseItems', {"user":"      collectionId: 'purchaseItems',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       collectionId: 'purchaseItems',"}}
[info] >        converter: [Object], {"user":"      converter: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       converter: [Object],"}}
[info] >        allDescendants: false, {"user":"      allDescendants: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allDescendants: false,"}}
[info] >        filters: [Array], {"user":"      filters: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       filters: [Array],"}}
[info] >        fieldOrders: [Array], {"user":"      fieldOrders: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       fieldOrders: [Array],"}}
[info] >        startAt: undefined, {"user":"      startAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       startAt: undefined,"}}
[info] >        endAt: undefined, {"user":"      endAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       endAt: undefined,"}}
[info] >        limit: undefined, {"user":"      limit: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limit: undefined,"}}
[info] >        limitType: undefined, {"user":"      limitType: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limitType: undefined,"}}
[info] >        offset: undefined, {"user":"      offset: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       offset: undefined,"}}
[info] >        projection: undefined, {"user":"      projection: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       projection: undefined,"}}
[info] >        kindless: false, {"user":"      kindless: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       kindless: false,"}}
[info] >        requireConsistency: true {"user":"      requireConsistency: true","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       requireConsistency: true"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _serializer: Serializer { {"user":"    _serializer: Serializer {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _serializer: Serializer {"}}
[info] >        createReference: [Function (anonymous)], {"user":"      createReference: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createReference: [Function (anonymous)],"}}
[info] >        createInteger: [Function (anonymous)], {"user":"      createInteger: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createInteger: [Function (anonymous)],"}}
[info] >        allowUndefined: false {"user":"      allowUndefined: false","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allowUndefined: false"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _allowUndefined: false, {"user":"    _allowUndefined: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _allowUndefined: false,"}}
[info] >      _queryUtil: QueryUtil { {"user":"    _queryUtil: QueryUtil {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryUtil: QueryUtil {"}}
[info] >        _firestore: [Firestore], {"user":"      _firestore: [Firestore],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _firestore: [Firestore],"}}
[info] >        _queryOptions: [QueryOptions], {"user":"      _queryOptions: [QueryOptions],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _queryOptions: [QueryOptions],"}}
[info] >        _serializer: [Serializer] {"user":"      _serializer: [Serializer]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer]"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    _readTime: Timestamp { _seconds: 1729254573, _nanoseconds: 60632000 }, {"user":"  _readTime: Timestamp { _seconds: 1729254573, _nanoseconds: 60632000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _readTime: Timestamp { _seconds: 1729254573, _nanoseconds: 60632000 },"}}
[info] >    _size: 1, {"user":"  _size: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _size: 1,"}}
[info] >    _materializedDocs: null, {"user":"  _materializedDocs: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedDocs: null,"}}
[info] >    _materializedChanges: null, {"user":"  _materializedChanges: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedChanges: null,"}}
[info] >    _docs: [Function (anonymous)], {"user":"  _docs: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _docs: [Function (anonymous)],"}}
[info] >    _changes: [Function (anonymous)] {"user":"  _changes: [Function (anonymous)]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _changes: [Function (anonymous)]"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2024-10-18T12:29:33.492Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 67.1074ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 67.1074ms"}}
[debug] [2024-10-18T12:29:33.492Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T12:29:33.493Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:29:33.493Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:29:33.493Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] >  [ {"user":"[","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ["}}
[info] >    { {"user":"  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   {"}}
[info] >      id: 'AIxFbug16kvF6PQU0ybK', {"user":"    id: 'AIxFbug16kvF6PQU0ybK',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     id: 'AIxFbug16kvF6PQU0ybK',"}}
[info] >      productId: '2PHnd6lM4TG6lP6Y5fOc', {"user":"    productId: '2PHnd6lM4TG6lP6Y5fOc',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     productId: '2PHnd6lM4TG6lP6Y5fOc',"}}
[info] >      qty: 1, {"user":"    qty: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     qty: 1,"}}
[info] >      netPrice: 1, {"user":"    netPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     netPrice: 1,"}}
[info] >      partnerComm: 1, {"user":"    partnerComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     partnerComm: 1,"}}
[info] >      companyComm: 1, {"user":"    companyComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     companyComm: 1,"}}
[info] >      pricePerPerson: 1, {"user":"    pricePerPerson: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     pricePerPerson: 1,"}}
[info] >      minTotalPrice: 1, {"user":"    minTotalPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     minTotalPrice: 1,"}}
[info] >      totalPrice: 3, {"user":"    totalPrice: 3,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totalPrice: 3,"}}
[info] >      date: '2024-10-18', {"user":"    date: '2024-10-18',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: '2024-10-18',"}}
[info] >      cityId: 'OiCHcy7zKcp2uU3zlMPU', {"user":"    cityId: 'OiCHcy7zKcp2uU3zlMPU',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     cityId: 'OiCHcy7zKcp2uU3zlMPU',"}}
[info] >      totemId: '1LoQvuu4KzHC1ux7qfOR', {"user":"    totemId: '1LoQvuu4KzHC1ux7qfOR',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totemId: '1LoQvuu4KzHC1ux7qfOR',"}}
[info] >      purchaseId: 'zuDSRe9m9p2oU9O4Kz1o', {"user":"    purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',"}}
[info] >      customerId: 'rMuIfSk9AarUm73FZVtC', {"user":"    customerId: 'rMuIfSk9AarUm73FZVtC',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     customerId: 'rMuIfSk9AarUm73FZVtC',"}}
[info] >      timestamp: 1729177549038 {"user":"    timestamp: 1729177549038","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     timestamp: 1729177549038"}}
[info] >    } {"user":"  }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   }"}}
[info] >  ] {"user":"]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ]"}}
[debug] [2024-10-18T12:29:39.269Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:29:39.269Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:29:39.270Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:29:39.269Z"],"workRunningCount":1}
[debug] [2024-10-18T12:29:39.270Z] Accepted request GET /totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T12:29:39.277Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:29:39.278Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T12:29:39.278Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:29:39.280Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[debug] [2024-10-18T12:29:39.329Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 48.9027ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 48.9027ms"}}
[debug] [2024-10-18T12:29:39.330Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T12:29:39.331Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:29:39.331Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:29:39.331Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:29:39.340Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:29:39.339Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:29:39.340Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:29:39.339Z"],"workRunningCount":1}
[debug] [2024-10-18T12:29:39.341Z] Accepted request GET /totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T12:29:39.347Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:29:39.347Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T12:29:39.347Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:29:39.349Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[info] >  QuerySnapshot { {"user":"QuerySnapshot {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m QuerySnapshot {"}}
[info] >    _query: Query { {"user":"  _query: Query {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _query: Query {"}}
[info] >      _firestore: Firestore { {"user":"    _firestore: Firestore {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _firestore: Firestore {"}}
[info] >        _settings: [Object], {"user":"      _settings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settings: [Object],"}}
[info] >        _settingsFrozen: true, {"user":"      _settingsFrozen: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settingsFrozen: true,"}}
[info] >        _serializer: [Serializer], {"user":"      _serializer: [Serializer],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer],"}}
[info] >        _projectId: 'totem-tour', {"user":"      _projectId: 'totem-tour',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _projectId: 'totem-tour',"}}
[info] >        _databaseId: '(default)', {"user":"      _databaseId: '(default)',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _databaseId: '(default)',"}}
[info] >        registeredListenersCount: 0, {"user":"      registeredListenersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       registeredListenersCount: 0,"}}
[info] >        bulkWritersCount: 0, {"user":"      bulkWritersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       bulkWritersCount: 0,"}}
[info] >        _traceUtil: DisabledTraceUtil {}, {"user":"      _traceUtil: DisabledTraceUtil {},","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _traceUtil: DisabledTraceUtil {},"}}
[info] >        _backoffSettings: [Object], {"user":"      _backoffSettings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _backoffSettings: [Object],"}}
[info] >        _clientPool: [ClientPool], {"user":"      _clientPool: [ClientPool],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _clientPool: [ClientPool],"}}
[info] >        _gax: [Object] {"user":"      _gax: [Object]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _gax: [Object]"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _queryOptions: QueryOptions { {"user":"    _queryOptions: QueryOptions {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryOptions: QueryOptions {"}}
[info] >        parentPath: [ResourcePath], {"user":"      parentPath: [ResourcePath],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       parentPath: [ResourcePath],"}}
[info] >        collectionId: 'purchaseItems', {"user":"      collectionId: 'purchaseItems',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       collectionId: 'purchaseItems',"}}
[info] >        converter: [Object], {"user":"      converter: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       converter: [Object],"}}
[info] >        allDescendants: false, {"user":"      allDescendants: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allDescendants: false,"}}
[info] >        filters: [Array], {"user":"      filters: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       filters: [Array],"}}
[info] >        fieldOrders: [Array], {"user":"      fieldOrders: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       fieldOrders: [Array],"}}
[info] >        startAt: undefined, {"user":"      startAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       startAt: undefined,"}}
[info] >        endAt: undefined, {"user":"      endAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       endAt: undefined,"}}
[info] >        limit: undefined, {"user":"      limit: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limit: undefined,"}}
[info] >        limitType: undefined, {"user":"      limitType: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limitType: undefined,"}}
[info] >        offset: undefined, {"user":"      offset: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       offset: undefined,"}}
[info] >        projection: undefined, {"user":"      projection: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       projection: undefined,"}}
[info] >        kindless: false, {"user":"      kindless: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       kindless: false,"}}
[info] >        requireConsistency: true {"user":"      requireConsistency: true","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       requireConsistency: true"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _serializer: Serializer { {"user":"    _serializer: Serializer {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _serializer: Serializer {"}}
[info] >        createReference: [Function (anonymous)], {"user":"      createReference: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createReference: [Function (anonymous)],"}}
[info] >        createInteger: [Function (anonymous)], {"user":"      createInteger: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createInteger: [Function (anonymous)],"}}
[info] >        allowUndefined: false {"user":"      allowUndefined: false","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allowUndefined: false"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _allowUndefined: false, {"user":"    _allowUndefined: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _allowUndefined: false,"}}
[info] >      _queryUtil: QueryUtil { {"user":"    _queryUtil: QueryUtil {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryUtil: QueryUtil {"}}
[info] >        _firestore: [Firestore], {"user":"      _firestore: [Firestore],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _firestore: [Firestore],"}}
[info] >        _queryOptions: [QueryOptions], {"user":"      _queryOptions: [QueryOptions],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _queryOptions: [QueryOptions],"}}
[info] >        _serializer: [Serializer] {"user":"      _serializer: [Serializer]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer]"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    _readTime: Timestamp { _seconds: 1729254579, _nanoseconds: 1197000 }, {"user":"  _readTime: Timestamp { _seconds: 1729254579, _nanoseconds: 1197000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _readTime: Timestamp { _seconds: 1729254579, _nanoseconds: 1197000 },"}}
[info] >    _size: 1, {"user":"  _size: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _size: 1,"}}
[info] >    _materializedDocs: null, {"user":"  _materializedDocs: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedDocs: null,"}}
[info] >    _materializedChanges: null, {"user":"  _materializedChanges: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedChanges: null,"}}
[info] >    _docs: [Function (anonymous)], {"user":"  _docs: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _docs: [Function (anonymous)],"}}
[info] >    _changes: [Function (anonymous)] {"user":"  _changes: [Function (anonymous)]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _changes: [Function (anonymous)]"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2024-10-18T12:29:39.426Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 77.9329ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 77.9329ms"}}
[debug] [2024-10-18T12:29:39.427Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T12:29:39.427Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:29:39.427Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:29:39.427Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] >  [ {"user":"[","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ["}}
[info] >    { {"user":"  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   {"}}
[info] >      id: 'AIxFbug16kvF6PQU0ybK', {"user":"    id: 'AIxFbug16kvF6PQU0ybK',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     id: 'AIxFbug16kvF6PQU0ybK',"}}
[info] >      productId: '2PHnd6lM4TG6lP6Y5fOc', {"user":"    productId: '2PHnd6lM4TG6lP6Y5fOc',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     productId: '2PHnd6lM4TG6lP6Y5fOc',"}}
[info] >      qty: 1, {"user":"    qty: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     qty: 1,"}}
[info] >      netPrice: 1, {"user":"    netPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     netPrice: 1,"}}
[info] >      partnerComm: 1, {"user":"    partnerComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     partnerComm: 1,"}}
[info] >      companyComm: 1, {"user":"    companyComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     companyComm: 1,"}}
[info] >      pricePerPerson: 1, {"user":"    pricePerPerson: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     pricePerPerson: 1,"}}
[info] >      minTotalPrice: 1, {"user":"    minTotalPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     minTotalPrice: 1,"}}
[info] >      totalPrice: 3, {"user":"    totalPrice: 3,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totalPrice: 3,"}}
[info] >      date: '2024-10-18', {"user":"    date: '2024-10-18',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: '2024-10-18',"}}
[info] >      cityId: 'OiCHcy7zKcp2uU3zlMPU', {"user":"    cityId: 'OiCHcy7zKcp2uU3zlMPU',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     cityId: 'OiCHcy7zKcp2uU3zlMPU',"}}
[info] >      totemId: '1LoQvuu4KzHC1ux7qfOR', {"user":"    totemId: '1LoQvuu4KzHC1ux7qfOR',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totemId: '1LoQvuu4KzHC1ux7qfOR',"}}
[info] >      purchaseId: 'zuDSRe9m9p2oU9O4Kz1o', {"user":"    purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',"}}
[info] >      customerId: 'rMuIfSk9AarUm73FZVtC', {"user":"    customerId: 'rMuIfSk9AarUm73FZVtC',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     customerId: 'rMuIfSk9AarUm73FZVtC',"}}
[info] >      timestamp: 1729177549038 {"user":"    timestamp: 1729177549038","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     timestamp: 1729177549038"}}
[info] >    } {"user":"  }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   }"}}
[info] >  ] {"user":"]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ]"}}
[debug] [2024-10-18T12:29:47.265Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:29:47.265Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:29:47.266Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:29:47.265Z"],"workRunningCount":1}
[debug] [2024-10-18T12:29:47.266Z] Accepted request GET /totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T12:29:47.273Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:29:47.274Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T12:29:47.274Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:29:47.276Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[debug] [2024-10-18T12:29:47.325Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 48.927ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 48.927ms"}}
[debug] [2024-10-18T12:29:47.326Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T12:29:47.327Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:29:47.327Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:29:47.327Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:29:47.331Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:29:47.331Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:29:47.331Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:29:47.331Z"],"workRunningCount":1}
[debug] [2024-10-18T12:29:47.332Z] Accepted request GET /totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T12:29:47.335Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:29:47.336Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T12:29:47.336Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:29:47.337Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[info] >  QuerySnapshot { {"user":"QuerySnapshot {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m QuerySnapshot {"}}
[info] >    _query: Query { {"user":"  _query: Query {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _query: Query {"}}
[info] >      _firestore: Firestore { {"user":"    _firestore: Firestore {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _firestore: Firestore {"}}
[info] >        _settings: [Object], {"user":"      _settings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settings: [Object],"}}
[info] >        _settingsFrozen: true, {"user":"      _settingsFrozen: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settingsFrozen: true,"}}
[info] >        _serializer: [Serializer], {"user":"      _serializer: [Serializer],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer],"}}
[info] >        _projectId: 'totem-tour', {"user":"      _projectId: 'totem-tour',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _projectId: 'totem-tour',"}}
[info] >        _databaseId: '(default)', {"user":"      _databaseId: '(default)',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _databaseId: '(default)',"}}
[info] >        registeredListenersCount: 0, {"user":"      registeredListenersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       registeredListenersCount: 0,"}}
[info] >        bulkWritersCount: 0, {"user":"      bulkWritersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       bulkWritersCount: 0,"}}
[info] >        _traceUtil: DisabledTraceUtil {}, {"user":"      _traceUtil: DisabledTraceUtil {},","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _traceUtil: DisabledTraceUtil {},"}}
[info] >        _backoffSettings: [Object], {"user":"      _backoffSettings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _backoffSettings: [Object],"}}
[info] >        _clientPool: [ClientPool], {"user":"      _clientPool: [ClientPool],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _clientPool: [ClientPool],"}}
[info] >        _gax: [Object] {"user":"      _gax: [Object]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _gax: [Object]"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _queryOptions: QueryOptions { {"user":"    _queryOptions: QueryOptions {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryOptions: QueryOptions {"}}
[info] >        parentPath: [ResourcePath], {"user":"      parentPath: [ResourcePath],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       parentPath: [ResourcePath],"}}
[info] >        collectionId: 'purchaseItems', {"user":"      collectionId: 'purchaseItems',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       collectionId: 'purchaseItems',"}}
[info] >        converter: [Object], {"user":"      converter: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       converter: [Object],"}}
[info] >        allDescendants: false, {"user":"      allDescendants: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allDescendants: false,"}}
[info] >        filters: [Array], {"user":"      filters: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       filters: [Array],"}}
[info] >        fieldOrders: [Array], {"user":"      fieldOrders: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       fieldOrders: [Array],"}}
[info] >        startAt: undefined, {"user":"      startAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       startAt: undefined,"}}
[info] >        endAt: undefined, {"user":"      endAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       endAt: undefined,"}}
[info] >        limit: undefined, {"user":"      limit: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limit: undefined,"}}
[info] >        limitType: undefined, {"user":"      limitType: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limitType: undefined,"}}
[info] >        offset: undefined, {"user":"      offset: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       offset: undefined,"}}
[info] >        projection: undefined, {"user":"      projection: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       projection: undefined,"}}
[info] >        kindless: false, {"user":"      kindless: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       kindless: false,"}}
[info] >        requireConsistency: true {"user":"      requireConsistency: true","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       requireConsistency: true"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _serializer: Serializer { {"user":"    _serializer: Serializer {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _serializer: Serializer {"}}
[info] >        createReference: [Function (anonymous)], {"user":"      createReference: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createReference: [Function (anonymous)],"}}
[info] >        createInteger: [Function (anonymous)], {"user":"      createInteger: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createInteger: [Function (anonymous)],"}}
[info] >        allowUndefined: false {"user":"      allowUndefined: false","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allowUndefined: false"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _allowUndefined: false, {"user":"    _allowUndefined: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _allowUndefined: false,"}}
[info] >      _queryUtil: QueryUtil { {"user":"    _queryUtil: QueryUtil {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryUtil: QueryUtil {"}}
[info] >        _firestore: [Firestore], {"user":"      _firestore: [Firestore],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _firestore: [Firestore],"}}
[info] >        _queryOptions: [QueryOptions], {"user":"      _queryOptions: [QueryOptions],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _queryOptions: [QueryOptions],"}}
[info] >        _serializer: [Serializer] {"user":"      _serializer: [Serializer]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer]"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    _readTime: Timestamp { _seconds: 1729254586, _nanoseconds: 973344000 }, {"user":"  _readTime: Timestamp { _seconds: 1729254586, _nanoseconds: 973344000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _readTime: Timestamp { _seconds: 1729254586, _nanoseconds: 973344000 },"}}
[info] >    _size: 1, {"user":"  _size: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _size: 1,"}}
[info] >    _materializedDocs: null, {"user":"  _materializedDocs: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedDocs: null,"}}
[info] >    _materializedChanges: null, {"user":"  _materializedChanges: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedChanges: null,"}}
[info] >    _docs: [Function (anonymous)], {"user":"  _docs: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _docs: [Function (anonymous)],"}}
[info] >    _changes: [Function (anonymous)] {"user":"  _changes: [Function (anonymous)]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _changes: [Function (anonymous)]"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2024-10-18T12:29:47.459Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 122.4926ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 122.4926ms"}}
[debug] [2024-10-18T12:29:47.462Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T12:29:47.462Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:29:47.462Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:29:47.463Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] >  [ {"user":"[","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ["}}
[info] >    { {"user":"  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   {"}}
[info] >      id: 'AIxFbug16kvF6PQU0ybK', {"user":"    id: 'AIxFbug16kvF6PQU0ybK',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     id: 'AIxFbug16kvF6PQU0ybK',"}}
[info] >      productId: '2PHnd6lM4TG6lP6Y5fOc', {"user":"    productId: '2PHnd6lM4TG6lP6Y5fOc',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     productId: '2PHnd6lM4TG6lP6Y5fOc',"}}
[info] >      qty: 1, {"user":"    qty: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     qty: 1,"}}
[info] >      netPrice: 1, {"user":"    netPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     netPrice: 1,"}}
[info] >      partnerComm: 1, {"user":"    partnerComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     partnerComm: 1,"}}
[info] >      companyComm: 1, {"user":"    companyComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     companyComm: 1,"}}
[info] >      pricePerPerson: 1, {"user":"    pricePerPerson: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     pricePerPerson: 1,"}}
[info] >      minTotalPrice: 1, {"user":"    minTotalPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     minTotalPrice: 1,"}}
[info] >      totalPrice: 3, {"user":"    totalPrice: 3,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totalPrice: 3,"}}
[info] >      date: '2024-10-18', {"user":"    date: '2024-10-18',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: '2024-10-18',"}}
[info] >      cityId: 'OiCHcy7zKcp2uU3zlMPU', {"user":"    cityId: 'OiCHcy7zKcp2uU3zlMPU',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     cityId: 'OiCHcy7zKcp2uU3zlMPU',"}}
[info] >      totemId: '1LoQvuu4KzHC1ux7qfOR', {"user":"    totemId: '1LoQvuu4KzHC1ux7qfOR',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totemId: '1LoQvuu4KzHC1ux7qfOR',"}}
[info] >      purchaseId: 'zuDSRe9m9p2oU9O4Kz1o', {"user":"    purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',"}}
[info] >      customerId: 'rMuIfSk9AarUm73FZVtC', {"user":"    customerId: 'rMuIfSk9AarUm73FZVtC',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     customerId: 'rMuIfSk9AarUm73FZVtC',"}}
[info] >      timestamp: 1729177549038 {"user":"    timestamp: 1729177549038","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     timestamp: 1729177549038"}}
[info] >    } {"user":"  }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   }"}}
[info] >  ] {"user":"]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ]"}}
[debug] [2024-10-18T12:29:48.486Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:29:48.486Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:29:48.486Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:29:48.486Z"],"workRunningCount":1}
[debug] [2024-10-18T12:29:48.486Z] Accepted request GET /totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T12:29:48.487Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:29:48.487Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T12:29:48.487Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:29:48.488Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[debug] [2024-10-18T12:29:48.526Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 38.1933ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 38.1933ms"}}
[debug] [2024-10-18T12:29:48.527Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T12:29:48.527Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:29:48.527Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:29:48.527Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:29:48.532Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:29:48.532Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:29:48.532Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:29:48.532Z"],"workRunningCount":1}
[debug] [2024-10-18T12:29:48.532Z] Accepted request GET /totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T12:29:48.534Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:29:48.534Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T12:29:48.534Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:29:48.535Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[info] >  QuerySnapshot { {"user":"QuerySnapshot {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m QuerySnapshot {"}}
[info] >    _query: Query { {"user":"  _query: Query {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _query: Query {"}}
[info] >      _firestore: Firestore { {"user":"    _firestore: Firestore {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _firestore: Firestore {"}}
[info] >        _settings: [Object], {"user":"      _settings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settings: [Object],"}}
[info] >        _settingsFrozen: true, {"user":"      _settingsFrozen: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settingsFrozen: true,"}}
[info] >        _serializer: [Serializer], {"user":"      _serializer: [Serializer],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer],"}}
[info] >        _projectId: 'totem-tour', {"user":"      _projectId: 'totem-tour',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _projectId: 'totem-tour',"}}
[info] >        _databaseId: '(default)', {"user":"      _databaseId: '(default)',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _databaseId: '(default)',"}}
[info] >        registeredListenersCount: 0, {"user":"      registeredListenersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       registeredListenersCount: 0,"}}
[info] >        bulkWritersCount: 0, {"user":"      bulkWritersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       bulkWritersCount: 0,"}}
[info] >        _traceUtil: DisabledTraceUtil {}, {"user":"      _traceUtil: DisabledTraceUtil {},","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _traceUtil: DisabledTraceUtil {},"}}
[info] >        _backoffSettings: [Object], {"user":"      _backoffSettings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _backoffSettings: [Object],"}}
[info] >        _clientPool: [ClientPool], {"user":"      _clientPool: [ClientPool],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _clientPool: [ClientPool],"}}
[info] >        _gax: [Object] {"user":"      _gax: [Object]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _gax: [Object]"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _queryOptions: QueryOptions { {"user":"    _queryOptions: QueryOptions {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryOptions: QueryOptions {"}}
[info] >        parentPath: [ResourcePath], {"user":"      parentPath: [ResourcePath],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       parentPath: [ResourcePath],"}}
[info] >        collectionId: 'purchaseItems', {"user":"      collectionId: 'purchaseItems',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       collectionId: 'purchaseItems',"}}
[info] >        converter: [Object], {"user":"      converter: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       converter: [Object],"}}
[info] >        allDescendants: false, {"user":"      allDescendants: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allDescendants: false,"}}
[info] >        filters: [Array], {"user":"      filters: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       filters: [Array],"}}
[info] >        fieldOrders: [Array], {"user":"      fieldOrders: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       fieldOrders: [Array],"}}
[info] >        startAt: undefined, {"user":"      startAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       startAt: undefined,"}}
[info] >        endAt: undefined, {"user":"      endAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       endAt: undefined,"}}
[info] >        limit: undefined, {"user":"      limit: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limit: undefined,"}}
[info] >        limitType: undefined, {"user":"      limitType: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limitType: undefined,"}}
[info] >        offset: undefined, {"user":"      offset: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       offset: undefined,"}}
[info] >        projection: undefined, {"user":"      projection: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       projection: undefined,"}}
[info] >        kindless: false, {"user":"      kindless: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       kindless: false,"}}
[info] >        requireConsistency: true {"user":"      requireConsistency: true","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       requireConsistency: true"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _serializer: Serializer { {"user":"    _serializer: Serializer {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _serializer: Serializer {"}}
[info] >        createReference: [Function (anonymous)], {"user":"      createReference: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createReference: [Function (anonymous)],"}}
[info] >        createInteger: [Function (anonymous)], {"user":"      createInteger: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createInteger: [Function (anonymous)],"}}
[info] >        allowUndefined: false {"user":"      allowUndefined: false","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allowUndefined: false"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _allowUndefined: false, {"user":"    _allowUndefined: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _allowUndefined: false,"}}
[info] >      _queryUtil: QueryUtil { {"user":"    _queryUtil: QueryUtil {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryUtil: QueryUtil {"}}
[info] >        _firestore: [Firestore], {"user":"      _firestore: [Firestore],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _firestore: [Firestore],"}}
[info] >        _queryOptions: [QueryOptions], {"user":"      _queryOptions: [QueryOptions],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _queryOptions: [QueryOptions],"}}
[info] >        _serializer: [Serializer] {"user":"      _serializer: [Serializer]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer]"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    _readTime: Timestamp { _seconds: 1729254588, _nanoseconds: 177608000 }, {"user":"  _readTime: Timestamp { _seconds: 1729254588, _nanoseconds: 177608000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _readTime: Timestamp { _seconds: 1729254588, _nanoseconds: 177608000 },"}}
[info] >    _size: 1, {"user":"  _size: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _size: 1,"}}
[info] >    _materializedDocs: null, {"user":"  _materializedDocs: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedDocs: null,"}}
[info] >    _materializedChanges: null, {"user":"  _materializedChanges: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedChanges: null,"}}
[info] >    _docs: [Function (anonymous)], {"user":"  _docs: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _docs: [Function (anonymous)],"}}
[info] >    _changes: [Function (anonymous)] {"user":"  _changes: [Function (anonymous)]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _changes: [Function (anonymous)]"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2024-10-18T12:29:48.607Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 72.6927ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 72.6927ms"}}
[debug] [2024-10-18T12:29:48.608Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T12:29:48.608Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:29:48.608Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:29:48.608Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] >  [ {"user":"[","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ["}}
[info] >    { {"user":"  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   {"}}
[info] >      id: 'AIxFbug16kvF6PQU0ybK', {"user":"    id: 'AIxFbug16kvF6PQU0ybK',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     id: 'AIxFbug16kvF6PQU0ybK',"}}
[info] >      productId: '2PHnd6lM4TG6lP6Y5fOc', {"user":"    productId: '2PHnd6lM4TG6lP6Y5fOc',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     productId: '2PHnd6lM4TG6lP6Y5fOc',"}}
[info] >      qty: 1, {"user":"    qty: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     qty: 1,"}}
[info] >      netPrice: 1, {"user":"    netPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     netPrice: 1,"}}
[info] >      partnerComm: 1, {"user":"    partnerComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     partnerComm: 1,"}}
[info] >      companyComm: 1, {"user":"    companyComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     companyComm: 1,"}}
[info] >      pricePerPerson: 1, {"user":"    pricePerPerson: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     pricePerPerson: 1,"}}
[info] >      minTotalPrice: 1, {"user":"    minTotalPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     minTotalPrice: 1,"}}
[info] >      totalPrice: 3, {"user":"    totalPrice: 3,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totalPrice: 3,"}}
[info] >      date: '2024-10-18', {"user":"    date: '2024-10-18',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: '2024-10-18',"}}
[info] >      cityId: 'OiCHcy7zKcp2uU3zlMPU', {"user":"    cityId: 'OiCHcy7zKcp2uU3zlMPU',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     cityId: 'OiCHcy7zKcp2uU3zlMPU',"}}
[info] >      totemId: '1LoQvuu4KzHC1ux7qfOR', {"user":"    totemId: '1LoQvuu4KzHC1ux7qfOR',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totemId: '1LoQvuu4KzHC1ux7qfOR',"}}
[info] >      purchaseId: 'zuDSRe9m9p2oU9O4Kz1o', {"user":"    purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',"}}
[info] >      customerId: 'rMuIfSk9AarUm73FZVtC', {"user":"    customerId: 'rMuIfSk9AarUm73FZVtC',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     customerId: 'rMuIfSk9AarUm73FZVtC',"}}
[info] >      timestamp: 1729177549038 {"user":"    timestamp: 1729177549038","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     timestamp: 1729177549038"}}
[info] >    } {"user":"  }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   }"}}
[info] >  ] {"user":"]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ]"}}
[debug] [2024-10-18T12:29:56.299Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:29:56.299Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:29:56.299Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:29:56.299Z"],"workRunningCount":1}
[debug] [2024-10-18T12:29:56.299Z] Accepted request GET /totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T12:29:56.302Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:29:56.302Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T12:29:56.302Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:29:56.303Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[debug] [2024-10-18T12:29:56.341Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 38.6196ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 38.6196ms"}}
[debug] [2024-10-18T12:29:56.342Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T12:29:56.342Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:29:56.343Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:29:56.343Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:29:56.345Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:29:56.345Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:29:56.345Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:29:56.345Z"],"workRunningCount":1}
[debug] [2024-10-18T12:29:56.345Z] Accepted request GET /totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T12:29:56.347Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:29:56.347Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T12:29:56.347Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:29:56.348Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[info] >  QuerySnapshot { {"user":"QuerySnapshot {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m QuerySnapshot {"}}
[info] >    _query: Query { {"user":"  _query: Query {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _query: Query {"}}
[info] >      _firestore: Firestore { {"user":"    _firestore: Firestore {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _firestore: Firestore {"}}
[info] >        _settings: [Object], {"user":"      _settings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settings: [Object],"}}
[info] >        _settingsFrozen: true, {"user":"      _settingsFrozen: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settingsFrozen: true,"}}
[info] >        _serializer: [Serializer], {"user":"      _serializer: [Serializer],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer],"}}
[info] >        _projectId: 'totem-tour', {"user":"      _projectId: 'totem-tour',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _projectId: 'totem-tour',"}}
[info] >        _databaseId: '(default)', {"user":"      _databaseId: '(default)',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _databaseId: '(default)',"}}
[info] >        registeredListenersCount: 0, {"user":"      registeredListenersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       registeredListenersCount: 0,"}}
[info] >        bulkWritersCount: 0, {"user":"      bulkWritersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       bulkWritersCount: 0,"}}
[info] >        _traceUtil: DisabledTraceUtil {}, {"user":"      _traceUtil: DisabledTraceUtil {},","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _traceUtil: DisabledTraceUtil {},"}}
[info] >        _backoffSettings: [Object], {"user":"      _backoffSettings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _backoffSettings: [Object],"}}
[info] >        _clientPool: [ClientPool], {"user":"      _clientPool: [ClientPool],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _clientPool: [ClientPool],"}}
[info] >        _gax: [Object] {"user":"      _gax: [Object]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _gax: [Object]"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _queryOptions: QueryOptions { {"user":"    _queryOptions: QueryOptions {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryOptions: QueryOptions {"}}
[info] >        parentPath: [ResourcePath], {"user":"      parentPath: [ResourcePath],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       parentPath: [ResourcePath],"}}
[info] >        collectionId: 'purchaseItems', {"user":"      collectionId: 'purchaseItems',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       collectionId: 'purchaseItems',"}}
[info] >        converter: [Object], {"user":"      converter: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       converter: [Object],"}}
[info] >        allDescendants: false, {"user":"      allDescendants: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allDescendants: false,"}}
[info] >        filters: [Array], {"user":"      filters: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       filters: [Array],"}}
[info] >        fieldOrders: [Array], {"user":"      fieldOrders: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       fieldOrders: [Array],"}}
[info] >        startAt: undefined, {"user":"      startAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       startAt: undefined,"}}
[info] >        endAt: undefined, {"user":"      endAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       endAt: undefined,"}}
[info] >        limit: undefined, {"user":"      limit: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limit: undefined,"}}
[info] >        limitType: undefined, {"user":"      limitType: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limitType: undefined,"}}
[info] >        offset: undefined, {"user":"      offset: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       offset: undefined,"}}
[info] >        projection: undefined, {"user":"      projection: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       projection: undefined,"}}
[info] >        kindless: false, {"user":"      kindless: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       kindless: false,"}}
[info] >        requireConsistency: true {"user":"      requireConsistency: true","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       requireConsistency: true"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _serializer: Serializer { {"user":"    _serializer: Serializer {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _serializer: Serializer {"}}
[info] >        createReference: [Function (anonymous)], {"user":"      createReference: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createReference: [Function (anonymous)],"}}
[info] >        createInteger: [Function (anonymous)], {"user":"      createInteger: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createInteger: [Function (anonymous)],"}}
[info] >        allowUndefined: false {"user":"      allowUndefined: false","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allowUndefined: false"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _allowUndefined: false, {"user":"    _allowUndefined: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _allowUndefined: false,"}}
[info] >      _queryUtil: QueryUtil { {"user":"    _queryUtil: QueryUtil {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryUtil: QueryUtil {"}}
[info] >        _firestore: [Firestore], {"user":"      _firestore: [Firestore],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _firestore: [Firestore],"}}
[info] >        _queryOptions: [QueryOptions], {"user":"      _queryOptions: [QueryOptions],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _queryOptions: [QueryOptions],"}}
[info] >        _serializer: [Serializer] {"user":"      _serializer: [Serializer]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer]"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    _readTime: Timestamp { _seconds: 1729254595, _nanoseconds: 983819000 }, {"user":"  _readTime: Timestamp { _seconds: 1729254595, _nanoseconds: 983819000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _readTime: Timestamp { _seconds: 1729254595, _nanoseconds: 983819000 },"}}
[info] >    _size: 1, {"user":"  _size: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _size: 1,"}}
[info] >    _materializedDocs: null, {"user":"  _materializedDocs: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedDocs: null,"}}
[info] >    _materializedChanges: null, {"user":"  _materializedChanges: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedChanges: null,"}}
[info] >    _docs: [Function (anonymous)], {"user":"  _docs: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _docs: [Function (anonymous)],"}}
[info] >    _changes: [Function (anonymous)] {"user":"  _changes: [Function (anonymous)]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _changes: [Function (anonymous)]"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2024-10-18T12:29:56.416Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 68.2487ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 68.2487ms"}}
[debug] [2024-10-18T12:29:56.416Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T12:29:56.416Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:29:56.417Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:29:56.417Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] >  [ {"user":"[","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ["}}
[info] >    { {"user":"  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   {"}}
[info] >      id: 'AIxFbug16kvF6PQU0ybK', {"user":"    id: 'AIxFbug16kvF6PQU0ybK',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     id: 'AIxFbug16kvF6PQU0ybK',"}}
[info] >      productId: '2PHnd6lM4TG6lP6Y5fOc', {"user":"    productId: '2PHnd6lM4TG6lP6Y5fOc',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     productId: '2PHnd6lM4TG6lP6Y5fOc',"}}
[info] >      qty: 1, {"user":"    qty: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     qty: 1,"}}
[info] >      netPrice: 1, {"user":"    netPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     netPrice: 1,"}}
[info] >      partnerComm: 1, {"user":"    partnerComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     partnerComm: 1,"}}
[info] >      companyComm: 1, {"user":"    companyComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     companyComm: 1,"}}
[info] >      pricePerPerson: 1, {"user":"    pricePerPerson: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     pricePerPerson: 1,"}}
[info] >      minTotalPrice: 1, {"user":"    minTotalPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     minTotalPrice: 1,"}}
[info] >      totalPrice: 3, {"user":"    totalPrice: 3,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totalPrice: 3,"}}
[info] >      date: '2024-10-18', {"user":"    date: '2024-10-18',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: '2024-10-18',"}}
[info] >      cityId: 'OiCHcy7zKcp2uU3zlMPU', {"user":"    cityId: 'OiCHcy7zKcp2uU3zlMPU',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     cityId: 'OiCHcy7zKcp2uU3zlMPU',"}}
[info] >      totemId: '1LoQvuu4KzHC1ux7qfOR', {"user":"    totemId: '1LoQvuu4KzHC1ux7qfOR',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totemId: '1LoQvuu4KzHC1ux7qfOR',"}}
[info] >      purchaseId: 'zuDSRe9m9p2oU9O4Kz1o', {"user":"    purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',"}}
[info] >      customerId: 'rMuIfSk9AarUm73FZVtC', {"user":"    customerId: 'rMuIfSk9AarUm73FZVtC',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     customerId: 'rMuIfSk9AarUm73FZVtC',"}}
[info] >      timestamp: 1729177549038 {"user":"    timestamp: 1729177549038","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     timestamp: 1729177549038"}}
[info] >    } {"user":"  }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   }"}}
[info] >  ] {"user":"]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ]"}}
[debug] [2024-10-18T12:30:22.253Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:30:22.253Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:30:22.253Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:30:22.253Z"],"workRunningCount":1}
[debug] [2024-10-18T12:30:22.253Z] Accepted request GET /totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T12:30:22.256Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:30:22.256Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T12:30:22.256Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:30:22.257Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[debug] [2024-10-18T12:30:22.292Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 35.1262ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 35.1262ms"}}
[debug] [2024-10-18T12:30:22.292Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T12:30:22.292Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:30:22.293Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:30:22.293Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:30:22.296Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:30:22.296Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:30:22.296Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:30:22.296Z"],"workRunningCount":1}
[debug] [2024-10-18T12:30:22.296Z] Accepted request GET /totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T12:30:22.298Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:30:22.299Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T12:30:22.299Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:30:22.299Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[info] >  QuerySnapshot { {"user":"QuerySnapshot {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m QuerySnapshot {"}}
[info] >    _query: Query { {"user":"  _query: Query {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _query: Query {"}}
[info] >      _firestore: Firestore { {"user":"    _firestore: Firestore {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _firestore: Firestore {"}}
[info] >        _settings: [Object], {"user":"      _settings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settings: [Object],"}}
[info] >        _settingsFrozen: true, {"user":"      _settingsFrozen: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settingsFrozen: true,"}}
[info] >        _serializer: [Serializer], {"user":"      _serializer: [Serializer],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer],"}}
[info] >        _projectId: 'totem-tour', {"user":"      _projectId: 'totem-tour',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _projectId: 'totem-tour',"}}
[info] >        _databaseId: '(default)', {"user":"      _databaseId: '(default)',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _databaseId: '(default)',"}}
[info] >        registeredListenersCount: 0, {"user":"      registeredListenersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       registeredListenersCount: 0,"}}
[info] >        bulkWritersCount: 0, {"user":"      bulkWritersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       bulkWritersCount: 0,"}}
[info] >        _traceUtil: DisabledTraceUtil {}, {"user":"      _traceUtil: DisabledTraceUtil {},","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _traceUtil: DisabledTraceUtil {},"}}
[info] >        _backoffSettings: [Object], {"user":"      _backoffSettings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _backoffSettings: [Object],"}}
[info] >        _clientPool: [ClientPool], {"user":"      _clientPool: [ClientPool],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _clientPool: [ClientPool],"}}
[info] >        _gax: [Object] {"user":"      _gax: [Object]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _gax: [Object]"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _queryOptions: QueryOptions { {"user":"    _queryOptions: QueryOptions {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryOptions: QueryOptions {"}}
[info] >        parentPath: [ResourcePath], {"user":"      parentPath: [ResourcePath],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       parentPath: [ResourcePath],"}}
[info] >        collectionId: 'purchaseItems', {"user":"      collectionId: 'purchaseItems',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       collectionId: 'purchaseItems',"}}
[info] >        converter: [Object], {"user":"      converter: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       converter: [Object],"}}
[info] >        allDescendants: false, {"user":"      allDescendants: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allDescendants: false,"}}
[info] >        filters: [Array], {"user":"      filters: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       filters: [Array],"}}
[info] >        fieldOrders: [Array], {"user":"      fieldOrders: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       fieldOrders: [Array],"}}
[info] >        startAt: undefined, {"user":"      startAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       startAt: undefined,"}}
[info] >        endAt: undefined, {"user":"      endAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       endAt: undefined,"}}
[info] >        limit: undefined, {"user":"      limit: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limit: undefined,"}}
[info] >        limitType: undefined, {"user":"      limitType: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limitType: undefined,"}}
[info] >        offset: undefined, {"user":"      offset: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       offset: undefined,"}}
[info] >        projection: undefined, {"user":"      projection: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       projection: undefined,"}}
[info] >        kindless: false, {"user":"      kindless: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       kindless: false,"}}
[info] >        requireConsistency: true {"user":"      requireConsistency: true","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       requireConsistency: true"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _serializer: Serializer { {"user":"    _serializer: Serializer {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _serializer: Serializer {"}}
[info] >        createReference: [Function (anonymous)], {"user":"      createReference: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createReference: [Function (anonymous)],"}}
[info] >        createInteger: [Function (anonymous)], {"user":"      createInteger: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createInteger: [Function (anonymous)],"}}
[info] >        allowUndefined: false {"user":"      allowUndefined: false","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allowUndefined: false"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _allowUndefined: false, {"user":"    _allowUndefined: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _allowUndefined: false,"}}
[info] >      _queryUtil: QueryUtil { {"user":"    _queryUtil: QueryUtil {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryUtil: QueryUtil {"}}
[info] >        _firestore: [Firestore], {"user":"      _firestore: [Firestore],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _firestore: [Firestore],"}}
[info] >        _queryOptions: [QueryOptions], {"user":"      _queryOptions: [QueryOptions],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _queryOptions: [QueryOptions],"}}
[info] >        _serializer: [Serializer] {"user":"      _serializer: [Serializer]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer]"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    _readTime: Timestamp { _seconds: 1729254621, _nanoseconds: 946131000 }, {"user":"  _readTime: Timestamp { _seconds: 1729254621, _nanoseconds: 946131000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _readTime: Timestamp { _seconds: 1729254621, _nanoseconds: 946131000 },"}}
[info] >    _size: 1, {"user":"  _size: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _size: 1,"}}
[info] >    _materializedDocs: null, {"user":"  _materializedDocs: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedDocs: null,"}}
[info] >    _materializedChanges: null, {"user":"  _materializedChanges: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedChanges: null,"}}
[info] >    _docs: [Function (anonymous)], {"user":"  _docs: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _docs: [Function (anonymous)],"}}
[info] >    _changes: [Function (anonymous)] {"user":"  _changes: [Function (anonymous)]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _changes: [Function (anonymous)]"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2024-10-18T12:30:22.380Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 80.5958ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 80.5958ms"}}
[debug] [2024-10-18T12:30:22.380Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T12:30:22.380Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:30:22.380Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:30:22.380Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] >  [ {"user":"[","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ["}}
[info] >    { {"user":"  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   {"}}
[info] >      id: 'AIxFbug16kvF6PQU0ybK', {"user":"    id: 'AIxFbug16kvF6PQU0ybK',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     id: 'AIxFbug16kvF6PQU0ybK',"}}
[info] >      productId: '2PHnd6lM4TG6lP6Y5fOc', {"user":"    productId: '2PHnd6lM4TG6lP6Y5fOc',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     productId: '2PHnd6lM4TG6lP6Y5fOc',"}}
[info] >      qty: 1, {"user":"    qty: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     qty: 1,"}}
[info] >      netPrice: 1, {"user":"    netPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     netPrice: 1,"}}
[info] >      partnerComm: 1, {"user":"    partnerComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     partnerComm: 1,"}}
[info] >      companyComm: 1, {"user":"    companyComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     companyComm: 1,"}}
[info] >      pricePerPerson: 1, {"user":"    pricePerPerson: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     pricePerPerson: 1,"}}
[info] >      minTotalPrice: 1, {"user":"    minTotalPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     minTotalPrice: 1,"}}
[info] >      totalPrice: 3, {"user":"    totalPrice: 3,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totalPrice: 3,"}}
[info] >      date: '2024-10-18', {"user":"    date: '2024-10-18',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: '2024-10-18',"}}
[info] >      cityId: 'OiCHcy7zKcp2uU3zlMPU', {"user":"    cityId: 'OiCHcy7zKcp2uU3zlMPU',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     cityId: 'OiCHcy7zKcp2uU3zlMPU',"}}
[info] >      totemId: '1LoQvuu4KzHC1ux7qfOR', {"user":"    totemId: '1LoQvuu4KzHC1ux7qfOR',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totemId: '1LoQvuu4KzHC1ux7qfOR',"}}
[info] >      purchaseId: 'zuDSRe9m9p2oU9O4Kz1o', {"user":"    purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',"}}
[info] >      customerId: 'rMuIfSk9AarUm73FZVtC', {"user":"    customerId: 'rMuIfSk9AarUm73FZVtC',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     customerId: 'rMuIfSk9AarUm73FZVtC',"}}
[info] >      timestamp: 1729177549038 {"user":"    timestamp: 1729177549038","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     timestamp: 1729177549038"}}
[info] >    } {"user":"  }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   }"}}
[info] >  ] {"user":"]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ]"}}
[debug] [2024-10-18T12:30:25.244Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:30:25.244Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:30:25.244Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:30:25.244Z"],"workRunningCount":1}
[debug] [2024-10-18T12:30:25.244Z] Accepted request GET /totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T12:30:25.245Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:30:25.245Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T12:30:25.245Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:30:25.245Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[debug] [2024-10-18T12:30:25.287Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 41.9255ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 41.9255ms"}}
[debug] [2024-10-18T12:30:25.289Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T12:30:25.289Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:30:25.290Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:30:25.290Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:30:25.299Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:30:25.299Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:30:25.299Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:30:25.299Z"],"workRunningCount":1}
[debug] [2024-10-18T12:30:25.300Z] Accepted request GET /totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T12:30:25.301Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:30:25.302Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T12:30:25.302Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:30:25.304Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[info] >  QuerySnapshot { {"user":"QuerySnapshot {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m QuerySnapshot {"}}
[info] >    _query: Query { {"user":"  _query: Query {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _query: Query {"}}
[info] >      _firestore: Firestore { {"user":"    _firestore: Firestore {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _firestore: Firestore {"}}
[info] >        _settings: [Object], {"user":"      _settings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settings: [Object],"}}
[info] >        _settingsFrozen: true, {"user":"      _settingsFrozen: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settingsFrozen: true,"}}
[info] >        _serializer: [Serializer], {"user":"      _serializer: [Serializer],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer],"}}
[info] >        _projectId: 'totem-tour', {"user":"      _projectId: 'totem-tour',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _projectId: 'totem-tour',"}}
[info] >        _databaseId: '(default)', {"user":"      _databaseId: '(default)',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _databaseId: '(default)',"}}
[info] >        registeredListenersCount: 0, {"user":"      registeredListenersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       registeredListenersCount: 0,"}}
[info] >        bulkWritersCount: 0, {"user":"      bulkWritersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       bulkWritersCount: 0,"}}
[info] >        _traceUtil: DisabledTraceUtil {}, {"user":"      _traceUtil: DisabledTraceUtil {},","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _traceUtil: DisabledTraceUtil {},"}}
[info] >        _backoffSettings: [Object], {"user":"      _backoffSettings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _backoffSettings: [Object],"}}
[info] >        _clientPool: [ClientPool], {"user":"      _clientPool: [ClientPool],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _clientPool: [ClientPool],"}}
[info] >        _gax: [Object] {"user":"      _gax: [Object]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _gax: [Object]"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _queryOptions: QueryOptions { {"user":"    _queryOptions: QueryOptions {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryOptions: QueryOptions {"}}
[info] >        parentPath: [ResourcePath], {"user":"      parentPath: [ResourcePath],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       parentPath: [ResourcePath],"}}
[info] >        collectionId: 'purchaseItems', {"user":"      collectionId: 'purchaseItems',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       collectionId: 'purchaseItems',"}}
[info] >        converter: [Object], {"user":"      converter: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       converter: [Object],"}}
[info] >        allDescendants: false, {"user":"      allDescendants: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allDescendants: false,"}}
[info] >        filters: [Array], {"user":"      filters: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       filters: [Array],"}}
[info] >        fieldOrders: [Array], {"user":"      fieldOrders: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       fieldOrders: [Array],"}}
[info] >        startAt: undefined, {"user":"      startAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       startAt: undefined,"}}
[info] >        endAt: undefined, {"user":"      endAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       endAt: undefined,"}}
[info] >        limit: undefined, {"user":"      limit: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limit: undefined,"}}
[info] >        limitType: undefined, {"user":"      limitType: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limitType: undefined,"}}
[info] >        offset: undefined, {"user":"      offset: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       offset: undefined,"}}
[info] >        projection: undefined, {"user":"      projection: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       projection: undefined,"}}
[info] >        kindless: false, {"user":"      kindless: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       kindless: false,"}}
[info] >        requireConsistency: true {"user":"      requireConsistency: true","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       requireConsistency: true"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _serializer: Serializer { {"user":"    _serializer: Serializer {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _serializer: Serializer {"}}
[info] >        createReference: [Function (anonymous)], {"user":"      createReference: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createReference: [Function (anonymous)],"}}
[info] >        createInteger: [Function (anonymous)], {"user":"      createInteger: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createInteger: [Function (anonymous)],"}}
[info] >        allowUndefined: false {"user":"      allowUndefined: false","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allowUndefined: false"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _allowUndefined: false, {"user":"    _allowUndefined: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _allowUndefined: false,"}}
[info] >      _queryUtil: QueryUtil { {"user":"    _queryUtil: QueryUtil {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryUtil: QueryUtil {"}}
[info] >        _firestore: [Firestore], {"user":"      _firestore: [Firestore],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _firestore: [Firestore],"}}
[info] >        _queryOptions: [QueryOptions], {"user":"      _queryOptions: [QueryOptions],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _queryOptions: [QueryOptions],"}}
[info] >        _serializer: [Serializer] {"user":"      _serializer: [Serializer]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer]"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    _readTime: Timestamp { _seconds: 1729254624, _nanoseconds: 950358000 }, {"user":"  _readTime: Timestamp { _seconds: 1729254624, _nanoseconds: 950358000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _readTime: Timestamp { _seconds: 1729254624, _nanoseconds: 950358000 },"}}
[info] >    _size: 1, {"user":"  _size: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _size: 1,"}}
[info] >    _materializedDocs: null, {"user":"  _materializedDocs: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedDocs: null,"}}
[info] >    _materializedChanges: null, {"user":"  _materializedChanges: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedChanges: null,"}}
[info] >    _docs: [Function (anonymous)], {"user":"  _docs: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _docs: [Function (anonymous)],"}}
[info] >    _changes: [Function (anonymous)] {"user":"  _changes: [Function (anonymous)]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _changes: [Function (anonymous)]"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2024-10-18T12:30:25.375Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 71.2713ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 71.2713ms"}}
[debug] [2024-10-18T12:30:25.376Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T12:30:25.376Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:30:25.376Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:30:25.376Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] >  [ {"user":"[","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ["}}
[info] >    { {"user":"  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   {"}}
[info] >      id: 'AIxFbug16kvF6PQU0ybK', {"user":"    id: 'AIxFbug16kvF6PQU0ybK',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     id: 'AIxFbug16kvF6PQU0ybK',"}}
[info] >      productId: '2PHnd6lM4TG6lP6Y5fOc', {"user":"    productId: '2PHnd6lM4TG6lP6Y5fOc',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     productId: '2PHnd6lM4TG6lP6Y5fOc',"}}
[info] >      qty: 1, {"user":"    qty: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     qty: 1,"}}
[info] >      netPrice: 1, {"user":"    netPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     netPrice: 1,"}}
[info] >      partnerComm: 1, {"user":"    partnerComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     partnerComm: 1,"}}
[info] >      companyComm: 1, {"user":"    companyComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     companyComm: 1,"}}
[info] >      pricePerPerson: 1, {"user":"    pricePerPerson: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     pricePerPerson: 1,"}}
[info] >      minTotalPrice: 1, {"user":"    minTotalPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     minTotalPrice: 1,"}}
[info] >      totalPrice: 3, {"user":"    totalPrice: 3,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totalPrice: 3,"}}
[info] >      date: '2024-10-18', {"user":"    date: '2024-10-18',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: '2024-10-18',"}}
[info] >      cityId: 'OiCHcy7zKcp2uU3zlMPU', {"user":"    cityId: 'OiCHcy7zKcp2uU3zlMPU',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     cityId: 'OiCHcy7zKcp2uU3zlMPU',"}}
[info] >      totemId: '1LoQvuu4KzHC1ux7qfOR', {"user":"    totemId: '1LoQvuu4KzHC1ux7qfOR',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totemId: '1LoQvuu4KzHC1ux7qfOR',"}}
[info] >      purchaseId: 'zuDSRe9m9p2oU9O4Kz1o', {"user":"    purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',"}}
[info] >      customerId: 'rMuIfSk9AarUm73FZVtC', {"user":"    customerId: 'rMuIfSk9AarUm73FZVtC',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     customerId: 'rMuIfSk9AarUm73FZVtC',"}}
[info] >      timestamp: 1729177549038 {"user":"    timestamp: 1729177549038","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     timestamp: 1729177549038"}}
[info] >    } {"user":"  }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   }"}}
[info] >  ] {"user":"]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ]"}}
[debug] [2024-10-18T12:30:29.724Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:30:29.724Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:30:29.724Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:30:29.724Z"],"workRunningCount":1}
[debug] [2024-10-18T12:30:29.724Z] Accepted request GET /totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T12:30:29.725Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:30:29.725Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T12:30:29.725Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:30:29.726Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[debug] [2024-10-18T12:30:29.765Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 39.4713ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 39.4713ms"}}
[debug] [2024-10-18T12:30:29.766Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T12:30:29.766Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:30:29.766Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:30:29.766Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:30:29.769Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:30:29.769Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:30:29.770Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:30:29.769Z"],"workRunningCount":1}
[debug] [2024-10-18T12:30:29.770Z] Accepted request GET /totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T12:30:29.771Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:30:29.771Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T12:30:29.771Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:30:29.772Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[info] >  QuerySnapshot { {"user":"QuerySnapshot {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m QuerySnapshot {"}}
[info] >    _query: Query { {"user":"  _query: Query {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _query: Query {"}}
[info] >      _firestore: Firestore { {"user":"    _firestore: Firestore {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _firestore: Firestore {"}}
[info] >        _settings: [Object], {"user":"      _settings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settings: [Object],"}}
[info] >        _settingsFrozen: true, {"user":"      _settingsFrozen: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settingsFrozen: true,"}}
[info] >        _serializer: [Serializer], {"user":"      _serializer: [Serializer],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer],"}}
[info] >        _projectId: 'totem-tour', {"user":"      _projectId: 'totem-tour',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _projectId: 'totem-tour',"}}
[info] >        _databaseId: '(default)', {"user":"      _databaseId: '(default)',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _databaseId: '(default)',"}}
[info] >        registeredListenersCount: 0, {"user":"      registeredListenersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       registeredListenersCount: 0,"}}
[info] >        bulkWritersCount: 0, {"user":"      bulkWritersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       bulkWritersCount: 0,"}}
[info] >        _traceUtil: DisabledTraceUtil {}, {"user":"      _traceUtil: DisabledTraceUtil {},","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _traceUtil: DisabledTraceUtil {},"}}
[info] >        _backoffSettings: [Object], {"user":"      _backoffSettings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _backoffSettings: [Object],"}}
[info] >        _clientPool: [ClientPool], {"user":"      _clientPool: [ClientPool],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _clientPool: [ClientPool],"}}
[info] >        _gax: [Object] {"user":"      _gax: [Object]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _gax: [Object]"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _queryOptions: QueryOptions { {"user":"    _queryOptions: QueryOptions {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryOptions: QueryOptions {"}}
[info] >        parentPath: [ResourcePath], {"user":"      parentPath: [ResourcePath],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       parentPath: [ResourcePath],"}}
[info] >        collectionId: 'purchaseItems', {"user":"      collectionId: 'purchaseItems',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       collectionId: 'purchaseItems',"}}
[info] >        converter: [Object], {"user":"      converter: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       converter: [Object],"}}
[info] >        allDescendants: false, {"user":"      allDescendants: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allDescendants: false,"}}
[info] >        filters: [Array], {"user":"      filters: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       filters: [Array],"}}
[info] >        fieldOrders: [Array], {"user":"      fieldOrders: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       fieldOrders: [Array],"}}
[info] >        startAt: undefined, {"user":"      startAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       startAt: undefined,"}}
[info] >        endAt: undefined, {"user":"      endAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       endAt: undefined,"}}
[info] >        limit: undefined, {"user":"      limit: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limit: undefined,"}}
[info] >        limitType: undefined, {"user":"      limitType: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limitType: undefined,"}}
[info] >        offset: undefined, {"user":"      offset: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       offset: undefined,"}}
[info] >        projection: undefined, {"user":"      projection: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       projection: undefined,"}}
[info] >        kindless: false, {"user":"      kindless: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       kindless: false,"}}
[info] >        requireConsistency: true {"user":"      requireConsistency: true","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       requireConsistency: true"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _serializer: Serializer { {"user":"    _serializer: Serializer {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _serializer: Serializer {"}}
[info] >        createReference: [Function (anonymous)], {"user":"      createReference: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createReference: [Function (anonymous)],"}}
[info] >        createInteger: [Function (anonymous)], {"user":"      createInteger: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createInteger: [Function (anonymous)],"}}
[info] >        allowUndefined: false {"user":"      allowUndefined: false","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allowUndefined: false"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _allowUndefined: false, {"user":"    _allowUndefined: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _allowUndefined: false,"}}
[info] >      _queryUtil: QueryUtil { {"user":"    _queryUtil: QueryUtil {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryUtil: QueryUtil {"}}
[info] >        _firestore: [Firestore], {"user":"      _firestore: [Firestore],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _firestore: [Firestore],"}}
[info] >        _queryOptions: [QueryOptions], {"user":"      _queryOptions: [QueryOptions],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _queryOptions: [QueryOptions],"}}
[info] >        _serializer: [Serializer] {"user":"      _serializer: [Serializer]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer]"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    _readTime: Timestamp { _seconds: 1729254629, _nanoseconds: 412166000 }, {"user":"  _readTime: Timestamp { _seconds: 1729254629, _nanoseconds: 412166000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _readTime: Timestamp { _seconds: 1729254629, _nanoseconds: 412166000 },"}}
[info] >    _size: 1, {"user":"  _size: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _size: 1,"}}
[info] >    _materializedDocs: null, {"user":"  _materializedDocs: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedDocs: null,"}}
[info] >    _materializedChanges: null, {"user":"  _materializedChanges: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedChanges: null,"}}
[info] >    _docs: [Function (anonymous)], {"user":"  _docs: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _docs: [Function (anonymous)],"}}
[info] >    _changes: [Function (anonymous)] {"user":"  _changes: [Function (anonymous)]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _changes: [Function (anonymous)]"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >  [ {"user":"[","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ["}}
[info] >    { {"user":"  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   {"}}
[info] >      id: 'AIxFbug16kvF6PQU0ybK', {"user":"    id: 'AIxFbug16kvF6PQU0ybK',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     id: 'AIxFbug16kvF6PQU0ybK',"}}
[info] >      productId: '2PHnd6lM4TG6lP6Y5fOc', {"user":"    productId: '2PHnd6lM4TG6lP6Y5fOc',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     productId: '2PHnd6lM4TG6lP6Y5fOc',"}}
[info] >      qty: 1, {"user":"    qty: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     qty: 1,"}}
[info] >      netPrice: 1, {"user":"    netPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     netPrice: 1,"}}
[info] >      partnerComm: 1, {"user":"    partnerComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     partnerComm: 1,"}}
[info] >      companyComm: 1, {"user":"    companyComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     companyComm: 1,"}}
[info] >      pricePerPerson: 1, {"user":"    pricePerPerson: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     pricePerPerson: 1,"}}
[info] >      minTotalPrice: 1, {"user":"    minTotalPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     minTotalPrice: 1,"}}
[info] >      totalPrice: 3, {"user":"    totalPrice: 3,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totalPrice: 3,"}}
[info] >      date: '2024-10-18', {"user":"    date: '2024-10-18',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: '2024-10-18',"}}
[info] >      cityId: 'OiCHcy7zKcp2uU3zlMPU', {"user":"    cityId: 'OiCHcy7zKcp2uU3zlMPU',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     cityId: 'OiCHcy7zKcp2uU3zlMPU',"}}
[info] >      totemId: '1LoQvuu4KzHC1ux7qfOR', {"user":"    totemId: '1LoQvuu4KzHC1ux7qfOR',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totemId: '1LoQvuu4KzHC1ux7qfOR',"}}
[info] >      purchaseId: 'zuDSRe9m9p2oU9O4Kz1o', {"user":"    purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',"}}
[info] >      customerId: 'rMuIfSk9AarUm73FZVtC', {"user":"    customerId: 'rMuIfSk9AarUm73FZVtC',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     customerId: 'rMuIfSk9AarUm73FZVtC',"}}
[info] >      timestamp: 1729177549038 {"user":"    timestamp: 1729177549038","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     timestamp: 1729177549038"}}
[info] >    } {"user":"  }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   }"}}
[info] >  ] {"user":"]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ]"}}
[debug] [2024-10-18T12:30:29.856Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 83.8765ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 83.8765ms"}}
[debug] [2024-10-18T12:30:29.856Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T12:30:29.856Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:30:29.857Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:30:29.857Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:30:43.368Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:30:43.368Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:30:43.368Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:30:43.368Z"],"workRunningCount":1}
[debug] [2024-10-18T12:30:43.368Z] Accepted request GET /totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T12:30:43.373Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:30:43.373Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T12:30:43.373Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:30:43.373Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[debug] [2024-10-18T12:30:43.422Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 48.4939ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 48.4939ms"}}
[debug] [2024-10-18T12:30:43.422Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T12:30:43.423Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:30:43.423Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:30:43.423Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:30:43.425Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:30:43.425Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:30:43.425Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:30:43.425Z"],"workRunningCount":1}
[debug] [2024-10-18T12:30:43.425Z] Accepted request GET /totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T12:30:43.428Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:30:43.428Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T12:30:43.428Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:30:43.428Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[info] >  QuerySnapshot { {"user":"QuerySnapshot {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m QuerySnapshot {"}}
[info] >    _query: Query { {"user":"  _query: Query {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _query: Query {"}}
[info] >      _firestore: Firestore { {"user":"    _firestore: Firestore {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _firestore: Firestore {"}}
[info] >        _settings: [Object], {"user":"      _settings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settings: [Object],"}}
[info] >        _settingsFrozen: true, {"user":"      _settingsFrozen: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settingsFrozen: true,"}}
[info] >        _serializer: [Serializer], {"user":"      _serializer: [Serializer],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer],"}}
[info] >        _projectId: 'totem-tour', {"user":"      _projectId: 'totem-tour',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _projectId: 'totem-tour',"}}
[info] >        _databaseId: '(default)', {"user":"      _databaseId: '(default)',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _databaseId: '(default)',"}}
[info] >        registeredListenersCount: 0, {"user":"      registeredListenersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       registeredListenersCount: 0,"}}
[info] >        bulkWritersCount: 0, {"user":"      bulkWritersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       bulkWritersCount: 0,"}}
[info] >        _traceUtil: DisabledTraceUtil {}, {"user":"      _traceUtil: DisabledTraceUtil {},","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _traceUtil: DisabledTraceUtil {},"}}
[info] >        _backoffSettings: [Object], {"user":"      _backoffSettings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _backoffSettings: [Object],"}}
[info] >        _clientPool: [ClientPool], {"user":"      _clientPool: [ClientPool],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _clientPool: [ClientPool],"}}
[info] >        _gax: [Object] {"user":"      _gax: [Object]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _gax: [Object]"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _queryOptions: QueryOptions { {"user":"    _queryOptions: QueryOptions {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryOptions: QueryOptions {"}}
[info] >        parentPath: [ResourcePath], {"user":"      parentPath: [ResourcePath],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       parentPath: [ResourcePath],"}}
[info] >        collectionId: 'purchaseItems', {"user":"      collectionId: 'purchaseItems',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       collectionId: 'purchaseItems',"}}
[info] >        converter: [Object], {"user":"      converter: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       converter: [Object],"}}
[info] >        allDescendants: false, {"user":"      allDescendants: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allDescendants: false,"}}
[info] >        filters: [Array], {"user":"      filters: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       filters: [Array],"}}
[info] >        fieldOrders: [Array], {"user":"      fieldOrders: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       fieldOrders: [Array],"}}
[info] >        startAt: undefined, {"user":"      startAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       startAt: undefined,"}}
[info] >        endAt: undefined, {"user":"      endAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       endAt: undefined,"}}
[info] >        limit: undefined, {"user":"      limit: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limit: undefined,"}}
[info] >        limitType: undefined, {"user":"      limitType: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limitType: undefined,"}}
[info] >        offset: undefined, {"user":"      offset: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       offset: undefined,"}}
[info] >        projection: undefined, {"user":"      projection: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       projection: undefined,"}}
[info] >        kindless: false, {"user":"      kindless: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       kindless: false,"}}
[info] >        requireConsistency: true {"user":"      requireConsistency: true","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       requireConsistency: true"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _serializer: Serializer { {"user":"    _serializer: Serializer {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _serializer: Serializer {"}}
[info] >        createReference: [Function (anonymous)], {"user":"      createReference: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createReference: [Function (anonymous)],"}}
[info] >        createInteger: [Function (anonymous)], {"user":"      createInteger: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createInteger: [Function (anonymous)],"}}
[info] >        allowUndefined: false {"user":"      allowUndefined: false","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allowUndefined: false"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _allowUndefined: false, {"user":"    _allowUndefined: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _allowUndefined: false,"}}
[info] >      _queryUtil: QueryUtil { {"user":"    _queryUtil: QueryUtil {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryUtil: QueryUtil {"}}
[info] >        _firestore: [Firestore], {"user":"      _firestore: [Firestore],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _firestore: [Firestore],"}}
[info] >        _queryOptions: [QueryOptions], {"user":"      _queryOptions: [QueryOptions],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _queryOptions: [QueryOptions],"}}
[info] >        _serializer: [Serializer] {"user":"      _serializer: [Serializer]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer]"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    _readTime: Timestamp { _seconds: 1729254643, _nanoseconds: 67752000 }, {"user":"  _readTime: Timestamp { _seconds: 1729254643, _nanoseconds: 67752000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _readTime: Timestamp { _seconds: 1729254643, _nanoseconds: 67752000 },"}}
[info] >    _size: 1, {"user":"  _size: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _size: 1,"}}
[info] >    _materializedDocs: null, {"user":"  _materializedDocs: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedDocs: null,"}}
[info] >    _materializedChanges: null, {"user":"  _materializedChanges: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedChanges: null,"}}
[info] >    _docs: [Function (anonymous)], {"user":"  _docs: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _docs: [Function (anonymous)],"}}
[info] >    _changes: [Function (anonymous)] {"user":"  _changes: [Function (anonymous)]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _changes: [Function (anonymous)]"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2024-10-18T12:30:43.503Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 74.5579ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 74.5579ms"}}
[debug] [2024-10-18T12:30:43.504Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T12:30:43.504Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:30:43.504Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:30:43.504Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] >  [ {"user":"[","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ["}}
[info] >    { {"user":"  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   {"}}
[info] >      id: 'AIxFbug16kvF6PQU0ybK', {"user":"    id: 'AIxFbug16kvF6PQU0ybK',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     id: 'AIxFbug16kvF6PQU0ybK',"}}
[info] >      productId: '2PHnd6lM4TG6lP6Y5fOc', {"user":"    productId: '2PHnd6lM4TG6lP6Y5fOc',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     productId: '2PHnd6lM4TG6lP6Y5fOc',"}}
[info] >      qty: 1, {"user":"    qty: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     qty: 1,"}}
[info] >      netPrice: 1, {"user":"    netPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     netPrice: 1,"}}
[info] >      partnerComm: 1, {"user":"    partnerComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     partnerComm: 1,"}}
[info] >      companyComm: 1, {"user":"    companyComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     companyComm: 1,"}}
[info] >      pricePerPerson: 1, {"user":"    pricePerPerson: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     pricePerPerson: 1,"}}
[info] >      minTotalPrice: 1, {"user":"    minTotalPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     minTotalPrice: 1,"}}
[info] >      totalPrice: 3, {"user":"    totalPrice: 3,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totalPrice: 3,"}}
[info] >      date: '2024-10-18', {"user":"    date: '2024-10-18',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: '2024-10-18',"}}
[info] >      cityId: 'OiCHcy7zKcp2uU3zlMPU', {"user":"    cityId: 'OiCHcy7zKcp2uU3zlMPU',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     cityId: 'OiCHcy7zKcp2uU3zlMPU',"}}
[info] >      totemId: '1LoQvuu4KzHC1ux7qfOR', {"user":"    totemId: '1LoQvuu4KzHC1ux7qfOR',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totemId: '1LoQvuu4KzHC1ux7qfOR',"}}
[info] >      purchaseId: 'zuDSRe9m9p2oU9O4Kz1o', {"user":"    purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',"}}
[info] >      customerId: 'rMuIfSk9AarUm73FZVtC', {"user":"    customerId: 'rMuIfSk9AarUm73FZVtC',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     customerId: 'rMuIfSk9AarUm73FZVtC',"}}
[info] >      timestamp: 1729177549038 {"user":"    timestamp: 1729177549038","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     timestamp: 1729177549038"}}
[info] >    } {"user":"  }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   }"}}
[info] >  ] {"user":"]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ]"}}
[debug] [2024-10-18T12:32:10.263Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:32:10.263Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:32:10.264Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:32:10.263Z"],"workRunningCount":1}
[debug] [2024-10-18T12:32:10.264Z] Accepted request GET /totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T12:32:10.271Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:32:10.271Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T12:32:10.271Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:32:10.273Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[debug] [2024-10-18T12:32:10.388Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 114.8798ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 114.8798ms"}}
[debug] [2024-10-18T12:32:10.389Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T12:32:10.389Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:32:10.389Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:32:10.389Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:32:10.392Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:32:10.392Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:32:10.392Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:32:10.392Z"],"workRunningCount":1}
[debug] [2024-10-18T12:32:10.392Z] Accepted request GET /totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T12:32:10.394Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:32:10.394Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T12:32:10.394Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:32:10.394Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[info] >  QuerySnapshot { {"user":"QuerySnapshot {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m QuerySnapshot {"}}
[info] >    _query: Query { {"user":"  _query: Query {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _query: Query {"}}
[info] >      _firestore: Firestore { {"user":"    _firestore: Firestore {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _firestore: Firestore {"}}
[info] >        _settings: [Object], {"user":"      _settings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settings: [Object],"}}
[info] >        _settingsFrozen: true, {"user":"      _settingsFrozen: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settingsFrozen: true,"}}
[info] >        _serializer: [Serializer], {"user":"      _serializer: [Serializer],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer],"}}
[info] >        _projectId: 'totem-tour', {"user":"      _projectId: 'totem-tour',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _projectId: 'totem-tour',"}}
[info] >        _databaseId: '(default)', {"user":"      _databaseId: '(default)',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _databaseId: '(default)',"}}
[info] >        registeredListenersCount: 0, {"user":"      registeredListenersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       registeredListenersCount: 0,"}}
[info] >        bulkWritersCount: 0, {"user":"      bulkWritersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       bulkWritersCount: 0,"}}
[info] >        _traceUtil: DisabledTraceUtil {}, {"user":"      _traceUtil: DisabledTraceUtil {},","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _traceUtil: DisabledTraceUtil {},"}}
[info] >        _backoffSettings: [Object], {"user":"      _backoffSettings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _backoffSettings: [Object],"}}
[info] >        _clientPool: [ClientPool], {"user":"      _clientPool: [ClientPool],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _clientPool: [ClientPool],"}}
[info] >        _gax: [Object] {"user":"      _gax: [Object]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _gax: [Object]"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _queryOptions: QueryOptions { {"user":"    _queryOptions: QueryOptions {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryOptions: QueryOptions {"}}
[info] >        parentPath: [ResourcePath], {"user":"      parentPath: [ResourcePath],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       parentPath: [ResourcePath],"}}
[info] >        collectionId: 'purchaseItems', {"user":"      collectionId: 'purchaseItems',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       collectionId: 'purchaseItems',"}}
[info] >        converter: [Object], {"user":"      converter: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       converter: [Object],"}}
[info] >        allDescendants: false, {"user":"      allDescendants: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allDescendants: false,"}}
[info] >        filters: [Array], {"user":"      filters: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       filters: [Array],"}}
[info] >        fieldOrders: [Array], {"user":"      fieldOrders: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       fieldOrders: [Array],"}}
[info] >        startAt: undefined, {"user":"      startAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       startAt: undefined,"}}
[info] >        endAt: undefined, {"user":"      endAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       endAt: undefined,"}}
[info] >        limit: undefined, {"user":"      limit: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limit: undefined,"}}
[info] >        limitType: undefined, {"user":"      limitType: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limitType: undefined,"}}
[info] >        offset: undefined, {"user":"      offset: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       offset: undefined,"}}
[info] >        projection: undefined, {"user":"      projection: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       projection: undefined,"}}
[info] >        kindless: false, {"user":"      kindless: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       kindless: false,"}}
[info] >        requireConsistency: true {"user":"      requireConsistency: true","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       requireConsistency: true"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _serializer: Serializer { {"user":"    _serializer: Serializer {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _serializer: Serializer {"}}
[info] >        createReference: [Function (anonymous)], {"user":"      createReference: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createReference: [Function (anonymous)],"}}
[info] >        createInteger: [Function (anonymous)], {"user":"      createInteger: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createInteger: [Function (anonymous)],"}}
[info] >        allowUndefined: false {"user":"      allowUndefined: false","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allowUndefined: false"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _allowUndefined: false, {"user":"    _allowUndefined: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _allowUndefined: false,"}}
[info] >      _queryUtil: QueryUtil { {"user":"    _queryUtil: QueryUtil {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryUtil: QueryUtil {"}}
[info] >        _firestore: [Firestore], {"user":"      _firestore: [Firestore],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _firestore: [Firestore],"}}
[info] >        _queryOptions: [QueryOptions], {"user":"      _queryOptions: [QueryOptions],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _queryOptions: [QueryOptions],"}}
[info] >        _serializer: [Serializer] {"user":"      _serializer: [Serializer]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer]"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    _readTime: Timestamp { _seconds: 1729254730, _nanoseconds: 48010000 }, {"user":"  _readTime: Timestamp { _seconds: 1729254730, _nanoseconds: 48010000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _readTime: Timestamp { _seconds: 1729254730, _nanoseconds: 48010000 },"}}
[info] >    _size: 1, {"user":"  _size: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _size: 1,"}}
[info] >    _materializedDocs: null, {"user":"  _materializedDocs: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedDocs: null,"}}
[info] >    _materializedChanges: null, {"user":"  _materializedChanges: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedChanges: null,"}}
[info] >    _docs: [Function (anonymous)], {"user":"  _docs: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _docs: [Function (anonymous)],"}}
[info] >    _changes: [Function (anonymous)] {"user":"  _changes: [Function (anonymous)]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _changes: [Function (anonymous)]"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2024-10-18T12:32:10.487Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 92.4637ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 92.4637ms"}}
[debug] [2024-10-18T12:32:10.488Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T12:32:10.488Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:32:10.488Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:32:10.488Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] >  [ {"user":"[","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ["}}
[info] >    { {"user":"  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   {"}}
[info] >      id: 'AIxFbug16kvF6PQU0ybK', {"user":"    id: 'AIxFbug16kvF6PQU0ybK',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     id: 'AIxFbug16kvF6PQU0ybK',"}}
[info] >      productId: '2PHnd6lM4TG6lP6Y5fOc', {"user":"    productId: '2PHnd6lM4TG6lP6Y5fOc',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     productId: '2PHnd6lM4TG6lP6Y5fOc',"}}
[info] >      qty: 1, {"user":"    qty: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     qty: 1,"}}
[info] >      netPrice: 1, {"user":"    netPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     netPrice: 1,"}}
[info] >      partnerComm: 1, {"user":"    partnerComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     partnerComm: 1,"}}
[info] >      companyComm: 1, {"user":"    companyComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     companyComm: 1,"}}
[info] >      pricePerPerson: 1, {"user":"    pricePerPerson: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     pricePerPerson: 1,"}}
[info] >      minTotalPrice: 1, {"user":"    minTotalPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     minTotalPrice: 1,"}}
[info] >      totalPrice: 3, {"user":"    totalPrice: 3,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totalPrice: 3,"}}
[info] >      date: '2024-10-18', {"user":"    date: '2024-10-18',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: '2024-10-18',"}}
[info] >      cityId: 'OiCHcy7zKcp2uU3zlMPU', {"user":"    cityId: 'OiCHcy7zKcp2uU3zlMPU',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     cityId: 'OiCHcy7zKcp2uU3zlMPU',"}}
[info] >      totemId: '1LoQvuu4KzHC1ux7qfOR', {"user":"    totemId: '1LoQvuu4KzHC1ux7qfOR',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totemId: '1LoQvuu4KzHC1ux7qfOR',"}}
[info] >      purchaseId: 'zuDSRe9m9p2oU9O4Kz1o', {"user":"    purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',"}}
[info] >      customerId: 'rMuIfSk9AarUm73FZVtC', {"user":"    customerId: 'rMuIfSk9AarUm73FZVtC',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     customerId: 'rMuIfSk9AarUm73FZVtC',"}}
[info] >      timestamp: 1729177549038 {"user":"    timestamp: 1729177549038","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     timestamp: 1729177549038"}}
[info] >    } {"user":"  }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   }"}}
[info] >  ] {"user":"]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ]"}}
[debug] [2024-10-18T12:32:13.239Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:32:13.238Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:32:13.239Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:32:13.238Z"],"workRunningCount":1}
[debug] [2024-10-18T12:32:13.239Z] Accepted request GET /totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T12:32:13.240Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:32:13.240Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T12:32:13.240Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:32:13.241Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[debug] [2024-10-18T12:32:13.286Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 44.9712ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 44.9712ms"}}
[debug] [2024-10-18T12:32:13.287Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T12:32:13.287Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:32:13.287Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:32:13.287Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:32:13.291Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:32:13.290Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:32:13.291Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:32:13.290Z"],"workRunningCount":1}
[debug] [2024-10-18T12:32:13.291Z] Accepted request GET /totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T12:32:13.291Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:32:13.292Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T12:32:13.292Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:32:13.292Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[info] >  QuerySnapshot { {"user":"QuerySnapshot {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m QuerySnapshot {"}}
[info] >    _query: Query { {"user":"  _query: Query {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _query: Query {"}}
[info] >      _firestore: Firestore { {"user":"    _firestore: Firestore {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _firestore: Firestore {"}}
[info] >        _settings: [Object], {"user":"      _settings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settings: [Object],"}}
[info] >        _settingsFrozen: true, {"user":"      _settingsFrozen: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settingsFrozen: true,"}}
[info] >        _serializer: [Serializer], {"user":"      _serializer: [Serializer],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer],"}}
[info] >        _projectId: 'totem-tour', {"user":"      _projectId: 'totem-tour',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _projectId: 'totem-tour',"}}
[info] >        _databaseId: '(default)', {"user":"      _databaseId: '(default)',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _databaseId: '(default)',"}}
[info] >        registeredListenersCount: 0, {"user":"      registeredListenersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       registeredListenersCount: 0,"}}
[info] >        bulkWritersCount: 0, {"user":"      bulkWritersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       bulkWritersCount: 0,"}}
[info] >        _traceUtil: DisabledTraceUtil {}, {"user":"      _traceUtil: DisabledTraceUtil {},","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _traceUtil: DisabledTraceUtil {},"}}
[info] >        _backoffSettings: [Object], {"user":"      _backoffSettings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _backoffSettings: [Object],"}}
[info] >        _clientPool: [ClientPool], {"user":"      _clientPool: [ClientPool],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _clientPool: [ClientPool],"}}
[info] >        _gax: [Object] {"user":"      _gax: [Object]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _gax: [Object]"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _queryOptions: QueryOptions { {"user":"    _queryOptions: QueryOptions {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryOptions: QueryOptions {"}}
[info] >        parentPath: [ResourcePath], {"user":"      parentPath: [ResourcePath],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       parentPath: [ResourcePath],"}}
[info] >        collectionId: 'purchaseItems', {"user":"      collectionId: 'purchaseItems',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       collectionId: 'purchaseItems',"}}
[info] >        converter: [Object], {"user":"      converter: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       converter: [Object],"}}
[info] >        allDescendants: false, {"user":"      allDescendants: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allDescendants: false,"}}
[info] >        filters: [Array], {"user":"      filters: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       filters: [Array],"}}
[info] >        fieldOrders: [Array], {"user":"      fieldOrders: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       fieldOrders: [Array],"}}
[info] >        startAt: undefined, {"user":"      startAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       startAt: undefined,"}}
[info] >        endAt: undefined, {"user":"      endAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       endAt: undefined,"}}
[info] >        limit: undefined, {"user":"      limit: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limit: undefined,"}}
[info] >        limitType: undefined, {"user":"      limitType: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limitType: undefined,"}}
[info] >        offset: undefined, {"user":"      offset: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       offset: undefined,"}}
[info] >        projection: undefined, {"user":"      projection: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       projection: undefined,"}}
[info] >        kindless: false, {"user":"      kindless: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       kindless: false,"}}
[info] >        requireConsistency: true {"user":"      requireConsistency: true","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       requireConsistency: true"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _serializer: Serializer { {"user":"    _serializer: Serializer {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _serializer: Serializer {"}}
[info] >        createReference: [Function (anonymous)], {"user":"      createReference: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createReference: [Function (anonymous)],"}}
[info] >        createInteger: [Function (anonymous)], {"user":"      createInteger: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createInteger: [Function (anonymous)],"}}
[info] >        allowUndefined: false {"user":"      allowUndefined: false","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allowUndefined: false"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _allowUndefined: false, {"user":"    _allowUndefined: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _allowUndefined: false,"}}
[info] >      _queryUtil: QueryUtil { {"user":"    _queryUtil: QueryUtil {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryUtil: QueryUtil {"}}
[info] >        _firestore: [Firestore], {"user":"      _firestore: [Firestore],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _firestore: [Firestore],"}}
[info] >        _queryOptions: [QueryOptions], {"user":"      _queryOptions: [QueryOptions],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _queryOptions: [QueryOptions],"}}
[info] >        _serializer: [Serializer] {"user":"      _serializer: [Serializer]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer]"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    _readTime: Timestamp { _seconds: 1729254732, _nanoseconds: 949634000 }, {"user":"  _readTime: Timestamp { _seconds: 1729254732, _nanoseconds: 949634000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _readTime: Timestamp { _seconds: 1729254732, _nanoseconds: 949634000 },"}}
[info] >    _size: 1, {"user":"  _size: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _size: 1,"}}
[info] >    _materializedDocs: null, {"user":"  _materializedDocs: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedDocs: null,"}}
[info] >    _materializedChanges: null, {"user":"  _materializedChanges: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedChanges: null,"}}
[info] >    _docs: [Function (anonymous)], {"user":"  _docs: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _docs: [Function (anonymous)],"}}
[info] >    _changes: [Function (anonymous)] {"user":"  _changes: [Function (anonymous)]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _changes: [Function (anonymous)]"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2024-10-18T12:32:13.370Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 77.9615ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 77.9615ms"}}
[debug] [2024-10-18T12:32:13.371Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T12:32:13.371Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:32:13.371Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:32:13.371Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] >  [ {"user":"[","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ["}}
[info] >    { {"user":"  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   {"}}
[info] >      id: 'AIxFbug16kvF6PQU0ybK', {"user":"    id: 'AIxFbug16kvF6PQU0ybK',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     id: 'AIxFbug16kvF6PQU0ybK',"}}
[info] >      productId: '2PHnd6lM4TG6lP6Y5fOc', {"user":"    productId: '2PHnd6lM4TG6lP6Y5fOc',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     productId: '2PHnd6lM4TG6lP6Y5fOc',"}}
[info] >      qty: 1, {"user":"    qty: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     qty: 1,"}}
[info] >      netPrice: 1, {"user":"    netPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     netPrice: 1,"}}
[info] >      partnerComm: 1, {"user":"    partnerComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     partnerComm: 1,"}}
[info] >      companyComm: 1, {"user":"    companyComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     companyComm: 1,"}}
[info] >      pricePerPerson: 1, {"user":"    pricePerPerson: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     pricePerPerson: 1,"}}
[info] >      minTotalPrice: 1, {"user":"    minTotalPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     minTotalPrice: 1,"}}
[info] >      totalPrice: 3, {"user":"    totalPrice: 3,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totalPrice: 3,"}}
[info] >      date: '2024-10-18', {"user":"    date: '2024-10-18',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: '2024-10-18',"}}
[info] >      cityId: 'OiCHcy7zKcp2uU3zlMPU', {"user":"    cityId: 'OiCHcy7zKcp2uU3zlMPU',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     cityId: 'OiCHcy7zKcp2uU3zlMPU',"}}
[info] >      totemId: '1LoQvuu4KzHC1ux7qfOR', {"user":"    totemId: '1LoQvuu4KzHC1ux7qfOR',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totemId: '1LoQvuu4KzHC1ux7qfOR',"}}
[info] >      purchaseId: 'zuDSRe9m9p2oU9O4Kz1o', {"user":"    purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',"}}
[info] >      customerId: 'rMuIfSk9AarUm73FZVtC', {"user":"    customerId: 'rMuIfSk9AarUm73FZVtC',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     customerId: 'rMuIfSk9AarUm73FZVtC',"}}
[info] >      timestamp: 1729177549038 {"user":"    timestamp: 1729177549038","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     timestamp: 1729177549038"}}
[info] >    } {"user":"  }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   }"}}
[info] >  ] {"user":"]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ]"}}
[debug] [2024-10-18T12:32:15.249Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:32:15.249Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:32:15.249Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:32:15.249Z"],"workRunningCount":1}
[debug] [2024-10-18T12:32:15.250Z] Accepted request GET /totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T12:32:15.252Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:32:15.253Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T12:32:15.253Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:32:15.256Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[debug] [2024-10-18T12:32:15.307Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 51.882ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 51.882ms"}}
[debug] [2024-10-18T12:32:15.309Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T12:32:15.309Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:32:15.310Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:32:15.310Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:32:15.318Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:32:15.318Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:32:15.319Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:32:15.318Z"],"workRunningCount":1}
[debug] [2024-10-18T12:32:15.319Z] Accepted request GET /totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T12:32:15.321Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:32:15.322Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T12:32:15.322Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:32:15.323Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[info] >  QuerySnapshot { {"user":"QuerySnapshot {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m QuerySnapshot {"}}
[info] >    _query: Query { {"user":"  _query: Query {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _query: Query {"}}
[info] >      _firestore: Firestore { {"user":"    _firestore: Firestore {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _firestore: Firestore {"}}
[info] >        _settings: [Object], {"user":"      _settings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settings: [Object],"}}
[info] >        _settingsFrozen: true, {"user":"      _settingsFrozen: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settingsFrozen: true,"}}
[info] >        _serializer: [Serializer], {"user":"      _serializer: [Serializer],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer],"}}
[info] >        _projectId: 'totem-tour', {"user":"      _projectId: 'totem-tour',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _projectId: 'totem-tour',"}}
[info] >        _databaseId: '(default)', {"user":"      _databaseId: '(default)',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _databaseId: '(default)',"}}
[info] >        registeredListenersCount: 0, {"user":"      registeredListenersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       registeredListenersCount: 0,"}}
[info] >        bulkWritersCount: 0, {"user":"      bulkWritersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       bulkWritersCount: 0,"}}
[info] >        _traceUtil: DisabledTraceUtil {}, {"user":"      _traceUtil: DisabledTraceUtil {},","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _traceUtil: DisabledTraceUtil {},"}}
[info] >        _backoffSettings: [Object], {"user":"      _backoffSettings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _backoffSettings: [Object],"}}
[info] >        _clientPool: [ClientPool], {"user":"      _clientPool: [ClientPool],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _clientPool: [ClientPool],"}}
[info] >        _gax: [Object] {"user":"      _gax: [Object]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _gax: [Object]"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _queryOptions: QueryOptions { {"user":"    _queryOptions: QueryOptions {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryOptions: QueryOptions {"}}
[info] >        parentPath: [ResourcePath], {"user":"      parentPath: [ResourcePath],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       parentPath: [ResourcePath],"}}
[info] >        collectionId: 'purchaseItems', {"user":"      collectionId: 'purchaseItems',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       collectionId: 'purchaseItems',"}}
[info] >        converter: [Object], {"user":"      converter: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       converter: [Object],"}}
[info] >        allDescendants: false, {"user":"      allDescendants: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allDescendants: false,"}}
[info] >        filters: [Array], {"user":"      filters: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       filters: [Array],"}}
[info] >        fieldOrders: [Array], {"user":"      fieldOrders: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       fieldOrders: [Array],"}}
[info] >        startAt: undefined, {"user":"      startAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       startAt: undefined,"}}
[info] >        endAt: undefined, {"user":"      endAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       endAt: undefined,"}}
[info] >        limit: undefined, {"user":"      limit: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limit: undefined,"}}
[info] >        limitType: undefined, {"user":"      limitType: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limitType: undefined,"}}
[info] >        offset: undefined, {"user":"      offset: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       offset: undefined,"}}
[info] >        projection: undefined, {"user":"      projection: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       projection: undefined,"}}
[info] >        kindless: false, {"user":"      kindless: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       kindless: false,"}}
[info] >        requireConsistency: true {"user":"      requireConsistency: true","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       requireConsistency: true"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _serializer: Serializer { {"user":"    _serializer: Serializer {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _serializer: Serializer {"}}
[info] >        createReference: [Function (anonymous)], {"user":"      createReference: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createReference: [Function (anonymous)],"}}
[info] >        createInteger: [Function (anonymous)], {"user":"      createInteger: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createInteger: [Function (anonymous)],"}}
[info] >        allowUndefined: false {"user":"      allowUndefined: false","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allowUndefined: false"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _allowUndefined: false, {"user":"    _allowUndefined: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _allowUndefined: false,"}}
[info] >      _queryUtil: QueryUtil { {"user":"    _queryUtil: QueryUtil {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryUtil: QueryUtil {"}}
[info] >        _firestore: [Firestore], {"user":"      _firestore: [Firestore],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _firestore: [Firestore],"}}
[info] >        _queryOptions: [QueryOptions], {"user":"      _queryOptions: [QueryOptions],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _queryOptions: [QueryOptions],"}}
[info] >        _serializer: [Serializer] {"user":"      _serializer: [Serializer]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer]"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    _readTime: Timestamp { _seconds: 1729254734, _nanoseconds: 983792000 }, {"user":"  _readTime: Timestamp { _seconds: 1729254734, _nanoseconds: 983792000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _readTime: Timestamp { _seconds: 1729254734, _nanoseconds: 983792000 },"}}
[info] >    _size: 1, {"user":"  _size: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _size: 1,"}}
[info] >    _materializedDocs: null, {"user":"  _materializedDocs: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedDocs: null,"}}
[info] >    _materializedChanges: null, {"user":"  _materializedChanges: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedChanges: null,"}}
[info] >    _docs: [Function (anonymous)], {"user":"  _docs: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _docs: [Function (anonymous)],"}}
[info] >    _changes: [Function (anonymous)] {"user":"  _changes: [Function (anonymous)]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _changes: [Function (anonymous)]"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2024-10-18T12:32:15.433Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 110.1574ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 110.1574ms"}}
[debug] [2024-10-18T12:32:15.434Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T12:32:15.434Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:32:15.434Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:32:15.434Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] >  [ {"user":"[","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ["}}
[info] >    { {"user":"  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   {"}}
[info] >      id: 'AIxFbug16kvF6PQU0ybK', {"user":"    id: 'AIxFbug16kvF6PQU0ybK',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     id: 'AIxFbug16kvF6PQU0ybK',"}}
[info] >      productId: '2PHnd6lM4TG6lP6Y5fOc', {"user":"    productId: '2PHnd6lM4TG6lP6Y5fOc',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     productId: '2PHnd6lM4TG6lP6Y5fOc',"}}
[info] >      qty: 1, {"user":"    qty: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     qty: 1,"}}
[info] >      netPrice: 1, {"user":"    netPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     netPrice: 1,"}}
[info] >      partnerComm: 1, {"user":"    partnerComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     partnerComm: 1,"}}
[info] >      companyComm: 1, {"user":"    companyComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     companyComm: 1,"}}
[info] >      pricePerPerson: 1, {"user":"    pricePerPerson: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     pricePerPerson: 1,"}}
[info] >      minTotalPrice: 1, {"user":"    minTotalPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     minTotalPrice: 1,"}}
[info] >      totalPrice: 3, {"user":"    totalPrice: 3,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totalPrice: 3,"}}
[info] >      date: '2024-10-18', {"user":"    date: '2024-10-18',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: '2024-10-18',"}}
[info] >      cityId: 'OiCHcy7zKcp2uU3zlMPU', {"user":"    cityId: 'OiCHcy7zKcp2uU3zlMPU',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     cityId: 'OiCHcy7zKcp2uU3zlMPU',"}}
[info] >      totemId: '1LoQvuu4KzHC1ux7qfOR', {"user":"    totemId: '1LoQvuu4KzHC1ux7qfOR',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totemId: '1LoQvuu4KzHC1ux7qfOR',"}}
[info] >      purchaseId: 'zuDSRe9m9p2oU9O4Kz1o', {"user":"    purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',"}}
[info] >      customerId: 'rMuIfSk9AarUm73FZVtC', {"user":"    customerId: 'rMuIfSk9AarUm73FZVtC',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     customerId: 'rMuIfSk9AarUm73FZVtC',"}}
[info] >      timestamp: 1729177549038 {"user":"    timestamp: 1729177549038","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     timestamp: 1729177549038"}}
[info] >    } {"user":"  }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   }"}}
[info] >  ] {"user":"]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ]"}}
[debug] [2024-10-18T12:32:19.244Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:32:19.244Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:32:19.244Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:32:19.244Z"],"workRunningCount":1}
[debug] [2024-10-18T12:32:19.244Z] Accepted request GET /totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T12:32:19.244Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:32:19.245Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T12:32:19.245Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:32:19.245Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[debug] [2024-10-18T12:32:19.288Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 42.7301ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 42.7301ms"}}
[debug] [2024-10-18T12:32:19.289Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T12:32:19.289Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:32:19.289Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:32:19.289Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:32:19.293Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:32:19.293Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:32:19.293Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:32:19.293Z"],"workRunningCount":1}
[debug] [2024-10-18T12:32:19.293Z] Accepted request GET /totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T12:32:19.294Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:32:19.294Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T12:32:19.294Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:32:19.295Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[info] >  QuerySnapshot { {"user":"QuerySnapshot {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m QuerySnapshot {"}}
[info] >    _query: Query { {"user":"  _query: Query {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _query: Query {"}}
[info] >      _firestore: Firestore { {"user":"    _firestore: Firestore {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _firestore: Firestore {"}}
[info] >        _settings: [Object], {"user":"      _settings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settings: [Object],"}}
[info] >        _settingsFrozen: true, {"user":"      _settingsFrozen: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settingsFrozen: true,"}}
[info] >        _serializer: [Serializer], {"user":"      _serializer: [Serializer],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer],"}}
[info] >        _projectId: 'totem-tour', {"user":"      _projectId: 'totem-tour',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _projectId: 'totem-tour',"}}
[info] >        _databaseId: '(default)', {"user":"      _databaseId: '(default)',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _databaseId: '(default)',"}}
[info] >        registeredListenersCount: 0, {"user":"      registeredListenersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       registeredListenersCount: 0,"}}
[info] >        bulkWritersCount: 0, {"user":"      bulkWritersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       bulkWritersCount: 0,"}}
[info] >        _traceUtil: DisabledTraceUtil {}, {"user":"      _traceUtil: DisabledTraceUtil {},","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _traceUtil: DisabledTraceUtil {},"}}
[info] >        _backoffSettings: [Object], {"user":"      _backoffSettings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _backoffSettings: [Object],"}}
[info] >        _clientPool: [ClientPool], {"user":"      _clientPool: [ClientPool],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _clientPool: [ClientPool],"}}
[info] >        _gax: [Object] {"user":"      _gax: [Object]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _gax: [Object]"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _queryOptions: QueryOptions { {"user":"    _queryOptions: QueryOptions {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryOptions: QueryOptions {"}}
[info] >        parentPath: [ResourcePath], {"user":"      parentPath: [ResourcePath],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       parentPath: [ResourcePath],"}}
[info] >        collectionId: 'purchaseItems', {"user":"      collectionId: 'purchaseItems',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       collectionId: 'purchaseItems',"}}
[info] >        converter: [Object], {"user":"      converter: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       converter: [Object],"}}
[info] >        allDescendants: false, {"user":"      allDescendants: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allDescendants: false,"}}
[info] >        filters: [Array], {"user":"      filters: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       filters: [Array],"}}
[info] >        fieldOrders: [Array], {"user":"      fieldOrders: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       fieldOrders: [Array],"}}
[info] >        startAt: undefined, {"user":"      startAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       startAt: undefined,"}}
[info] >        endAt: undefined, {"user":"      endAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       endAt: undefined,"}}
[info] >        limit: undefined, {"user":"      limit: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limit: undefined,"}}
[info] >        limitType: undefined, {"user":"      limitType: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limitType: undefined,"}}
[info] >        offset: undefined, {"user":"      offset: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       offset: undefined,"}}
[info] >        projection: undefined, {"user":"      projection: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       projection: undefined,"}}
[info] >        kindless: false, {"user":"      kindless: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       kindless: false,"}}
[info] >        requireConsistency: true {"user":"      requireConsistency: true","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       requireConsistency: true"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _serializer: Serializer { {"user":"    _serializer: Serializer {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _serializer: Serializer {"}}
[info] >        createReference: [Function (anonymous)], {"user":"      createReference: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createReference: [Function (anonymous)],"}}
[info] >        createInteger: [Function (anonymous)], {"user":"      createInteger: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createInteger: [Function (anonymous)],"}}
[info] >        allowUndefined: false {"user":"      allowUndefined: false","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allowUndefined: false"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _allowUndefined: false, {"user":"    _allowUndefined: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _allowUndefined: false,"}}
[info] >      _queryUtil: QueryUtil { {"user":"    _queryUtil: QueryUtil {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryUtil: QueryUtil {"}}
[info] >        _firestore: [Firestore], {"user":"      _firestore: [Firestore],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _firestore: [Firestore],"}}
[info] >        _queryOptions: [QueryOptions], {"user":"      _queryOptions: [QueryOptions],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _queryOptions: [QueryOptions],"}}
[info] >        _serializer: [Serializer] {"user":"      _serializer: [Serializer]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer]"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    _readTime: Timestamp { _seconds: 1729254738, _nanoseconds: 959419000 }, {"user":"  _readTime: Timestamp { _seconds: 1729254738, _nanoseconds: 959419000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _readTime: Timestamp { _seconds: 1729254738, _nanoseconds: 959419000 },"}}
[info] >    _size: 1, {"user":"  _size: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _size: 1,"}}
[info] >    _materializedDocs: null, {"user":"  _materializedDocs: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedDocs: null,"}}
[info] >    _materializedChanges: null, {"user":"  _materializedChanges: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedChanges: null,"}}
[info] >    _docs: [Function (anonymous)], {"user":"  _docs: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _docs: [Function (anonymous)],"}}
[info] >    _changes: [Function (anonymous)] {"user":"  _changes: [Function (anonymous)]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _changes: [Function (anonymous)]"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2024-10-18T12:32:19.405Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 110.2769ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 110.2769ms"}}
[debug] [2024-10-18T12:32:19.405Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T12:32:19.405Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:32:19.405Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:32:19.406Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] >  [ {"user":"[","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ["}}
[info] >    { {"user":"  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   {"}}
[info] >      id: 'AIxFbug16kvF6PQU0ybK', {"user":"    id: 'AIxFbug16kvF6PQU0ybK',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     id: 'AIxFbug16kvF6PQU0ybK',"}}
[info] >      productId: '2PHnd6lM4TG6lP6Y5fOc', {"user":"    productId: '2PHnd6lM4TG6lP6Y5fOc',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     productId: '2PHnd6lM4TG6lP6Y5fOc',"}}
[info] >      qty: 1, {"user":"    qty: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     qty: 1,"}}
[info] >      netPrice: 1, {"user":"    netPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     netPrice: 1,"}}
[info] >      partnerComm: 1, {"user":"    partnerComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     partnerComm: 1,"}}
[info] >      companyComm: 1, {"user":"    companyComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     companyComm: 1,"}}
[info] >      pricePerPerson: 1, {"user":"    pricePerPerson: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     pricePerPerson: 1,"}}
[info] >      minTotalPrice: 1, {"user":"    minTotalPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     minTotalPrice: 1,"}}
[info] >      totalPrice: 3, {"user":"    totalPrice: 3,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totalPrice: 3,"}}
[info] >      date: '2024-10-18', {"user":"    date: '2024-10-18',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: '2024-10-18',"}}
[info] >      cityId: 'OiCHcy7zKcp2uU3zlMPU', {"user":"    cityId: 'OiCHcy7zKcp2uU3zlMPU',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     cityId: 'OiCHcy7zKcp2uU3zlMPU',"}}
[info] >      totemId: '1LoQvuu4KzHC1ux7qfOR', {"user":"    totemId: '1LoQvuu4KzHC1ux7qfOR',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totemId: '1LoQvuu4KzHC1ux7qfOR',"}}
[info] >      purchaseId: 'zuDSRe9m9p2oU9O4Kz1o', {"user":"    purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',"}}
[info] >      customerId: 'rMuIfSk9AarUm73FZVtC', {"user":"    customerId: 'rMuIfSk9AarUm73FZVtC',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     customerId: 'rMuIfSk9AarUm73FZVtC',"}}
[info] >      timestamp: 1729177549038 {"user":"    timestamp: 1729177549038","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     timestamp: 1729177549038"}}
[info] >    } {"user":"  }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   }"}}
[info] >  ] {"user":"]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ]"}}
[debug] [2024-10-18T12:32:22.257Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:32:22.257Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:32:22.258Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:32:22.257Z"],"workRunningCount":1}
[debug] [2024-10-18T12:32:22.258Z] Accepted request GET /totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T12:32:22.260Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:32:22.261Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T12:32:22.261Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:32:22.263Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[debug] [2024-10-18T12:32:22.321Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 58.428ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 58.428ms"}}
[debug] [2024-10-18T12:32:22.323Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T12:32:22.324Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:32:22.324Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:32:22.324Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:32:22.334Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:32:22.333Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:32:22.334Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:32:22.333Z"],"workRunningCount":1}
[debug] [2024-10-18T12:32:22.334Z] Accepted request GET /totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T12:32:22.335Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:32:22.335Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T12:32:22.335Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:32:22.336Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[info] >  QuerySnapshot { {"user":"QuerySnapshot {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m QuerySnapshot {"}}
[info] >    _query: Query { {"user":"  _query: Query {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _query: Query {"}}
[info] >      _firestore: Firestore { {"user":"    _firestore: Firestore {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _firestore: Firestore {"}}
[info] >        _settings: [Object], {"user":"      _settings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settings: [Object],"}}
[info] >        _settingsFrozen: true, {"user":"      _settingsFrozen: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settingsFrozen: true,"}}
[info] >        _serializer: [Serializer], {"user":"      _serializer: [Serializer],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer],"}}
[info] >        _projectId: 'totem-tour', {"user":"      _projectId: 'totem-tour',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _projectId: 'totem-tour',"}}
[info] >        _databaseId: '(default)', {"user":"      _databaseId: '(default)',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _databaseId: '(default)',"}}
[info] >        registeredListenersCount: 0, {"user":"      registeredListenersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       registeredListenersCount: 0,"}}
[info] >        bulkWritersCount: 0, {"user":"      bulkWritersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       bulkWritersCount: 0,"}}
[info] >        _traceUtil: DisabledTraceUtil {}, {"user":"      _traceUtil: DisabledTraceUtil {},","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _traceUtil: DisabledTraceUtil {},"}}
[info] >        _backoffSettings: [Object], {"user":"      _backoffSettings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _backoffSettings: [Object],"}}
[info] >        _clientPool: [ClientPool], {"user":"      _clientPool: [ClientPool],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _clientPool: [ClientPool],"}}
[info] >        _gax: [Object] {"user":"      _gax: [Object]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _gax: [Object]"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _queryOptions: QueryOptions { {"user":"    _queryOptions: QueryOptions {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryOptions: QueryOptions {"}}
[info] >        parentPath: [ResourcePath], {"user":"      parentPath: [ResourcePath],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       parentPath: [ResourcePath],"}}
[info] >        collectionId: 'purchaseItems', {"user":"      collectionId: 'purchaseItems',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       collectionId: 'purchaseItems',"}}
[info] >        converter: [Object], {"user":"      converter: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       converter: [Object],"}}
[info] >        allDescendants: false, {"user":"      allDescendants: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allDescendants: false,"}}
[info] >        filters: [Array], {"user":"      filters: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       filters: [Array],"}}
[info] >        fieldOrders: [Array], {"user":"      fieldOrders: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       fieldOrders: [Array],"}}
[info] >        startAt: undefined, {"user":"      startAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       startAt: undefined,"}}
[info] >        endAt: undefined, {"user":"      endAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       endAt: undefined,"}}
[info] >        limit: undefined, {"user":"      limit: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limit: undefined,"}}
[info] >        limitType: undefined, {"user":"      limitType: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limitType: undefined,"}}
[info] >        offset: undefined, {"user":"      offset: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       offset: undefined,"}}
[info] >        projection: undefined, {"user":"      projection: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       projection: undefined,"}}
[info] >        kindless: false, {"user":"      kindless: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       kindless: false,"}}
[info] >        requireConsistency: true {"user":"      requireConsistency: true","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       requireConsistency: true"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _serializer: Serializer { {"user":"    _serializer: Serializer {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _serializer: Serializer {"}}
[info] >        createReference: [Function (anonymous)], {"user":"      createReference: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createReference: [Function (anonymous)],"}}
[info] >        createInteger: [Function (anonymous)], {"user":"      createInteger: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createInteger: [Function (anonymous)],"}}
[info] >        allowUndefined: false {"user":"      allowUndefined: false","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allowUndefined: false"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _allowUndefined: false, {"user":"    _allowUndefined: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _allowUndefined: false,"}}
[info] >      _queryUtil: QueryUtil { {"user":"    _queryUtil: QueryUtil {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryUtil: QueryUtil {"}}
[info] >        _firestore: [Firestore], {"user":"      _firestore: [Firestore],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _firestore: [Firestore],"}}
[info] >        _queryOptions: [QueryOptions], {"user":"      _queryOptions: [QueryOptions],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _queryOptions: [QueryOptions],"}}
[info] >        _serializer: [Serializer] {"user":"      _serializer: [Serializer]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer]"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    _readTime: Timestamp { _seconds: 1729254741, _nanoseconds: 988911000 }, {"user":"  _readTime: Timestamp { _seconds: 1729254741, _nanoseconds: 988911000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _readTime: Timestamp { _seconds: 1729254741, _nanoseconds: 988911000 },"}}
[info] >    _size: 1, {"user":"  _size: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _size: 1,"}}
[info] >    _materializedDocs: null, {"user":"  _materializedDocs: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedDocs: null,"}}
[info] >    _materializedChanges: null, {"user":"  _materializedChanges: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedChanges: null,"}}
[info] >    _docs: [Function (anonymous)], {"user":"  _docs: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _docs: [Function (anonymous)],"}}
[info] >    _changes: [Function (anonymous)] {"user":"  _changes: [Function (anonymous)]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _changes: [Function (anonymous)]"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2024-10-18T12:32:22.421Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 84.76ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 84.76ms"}}
[debug] [2024-10-18T12:32:22.422Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T12:32:22.422Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:32:22.422Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:32:22.422Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] >  [ {"user":"[","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ["}}
[info] >    { {"user":"  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   {"}}
[info] >      id: 'AIxFbug16kvF6PQU0ybK', {"user":"    id: 'AIxFbug16kvF6PQU0ybK',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     id: 'AIxFbug16kvF6PQU0ybK',"}}
[info] >      productId: '2PHnd6lM4TG6lP6Y5fOc', {"user":"    productId: '2PHnd6lM4TG6lP6Y5fOc',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     productId: '2PHnd6lM4TG6lP6Y5fOc',"}}
[info] >      qty: 1, {"user":"    qty: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     qty: 1,"}}
[info] >      netPrice: 1, {"user":"    netPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     netPrice: 1,"}}
[info] >      partnerComm: 1, {"user":"    partnerComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     partnerComm: 1,"}}
[info] >      companyComm: 1, {"user":"    companyComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     companyComm: 1,"}}
[info] >      pricePerPerson: 1, {"user":"    pricePerPerson: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     pricePerPerson: 1,"}}
[info] >      minTotalPrice: 1, {"user":"    minTotalPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     minTotalPrice: 1,"}}
[info] >      totalPrice: 3, {"user":"    totalPrice: 3,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totalPrice: 3,"}}
[info] >      date: '2024-10-18', {"user":"    date: '2024-10-18',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: '2024-10-18',"}}
[info] >      cityId: 'OiCHcy7zKcp2uU3zlMPU', {"user":"    cityId: 'OiCHcy7zKcp2uU3zlMPU',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     cityId: 'OiCHcy7zKcp2uU3zlMPU',"}}
[info] >      totemId: '1LoQvuu4KzHC1ux7qfOR', {"user":"    totemId: '1LoQvuu4KzHC1ux7qfOR',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totemId: '1LoQvuu4KzHC1ux7qfOR',"}}
[info] >      purchaseId: 'zuDSRe9m9p2oU9O4Kz1o', {"user":"    purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',"}}
[info] >      customerId: 'rMuIfSk9AarUm73FZVtC', {"user":"    customerId: 'rMuIfSk9AarUm73FZVtC',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     customerId: 'rMuIfSk9AarUm73FZVtC',"}}
[info] >      timestamp: 1729177549038 {"user":"    timestamp: 1729177549038","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     timestamp: 1729177549038"}}
[info] >    } {"user":"  }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   }"}}
[info] >  ] {"user":"]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ]"}}
[debug] [2024-10-18T12:32:26.254Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:32:26.254Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:32:26.255Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:32:26.254Z"],"workRunningCount":1}
[debug] [2024-10-18T12:32:26.255Z] Accepted request GET /totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T12:32:26.256Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:32:26.256Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T12:32:26.256Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:32:26.257Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[debug] [2024-10-18T12:32:26.305Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 48.2524ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 48.2524ms"}}
[debug] [2024-10-18T12:32:26.306Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T12:32:26.306Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:32:26.306Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:32:26.306Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:32:26.309Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:32:26.309Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:32:26.309Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:32:26.309Z"],"workRunningCount":1}
[debug] [2024-10-18T12:32:26.309Z] Accepted request GET /totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T12:32:26.312Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:32:26.312Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T12:32:26.312Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:32:26.313Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[info] >  QuerySnapshot { {"user":"QuerySnapshot {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m QuerySnapshot {"}}
[info] >    _query: Query { {"user":"  _query: Query {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _query: Query {"}}
[info] >      _firestore: Firestore { {"user":"    _firestore: Firestore {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _firestore: Firestore {"}}
[info] >        _settings: [Object], {"user":"      _settings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settings: [Object],"}}
[info] >        _settingsFrozen: true, {"user":"      _settingsFrozen: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settingsFrozen: true,"}}
[info] >        _serializer: [Serializer], {"user":"      _serializer: [Serializer],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer],"}}
[info] >        _projectId: 'totem-tour', {"user":"      _projectId: 'totem-tour',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _projectId: 'totem-tour',"}}
[info] >        _databaseId: '(default)', {"user":"      _databaseId: '(default)',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _databaseId: '(default)',"}}
[info] >        registeredListenersCount: 0, {"user":"      registeredListenersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       registeredListenersCount: 0,"}}
[info] >        bulkWritersCount: 0, {"user":"      bulkWritersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       bulkWritersCount: 0,"}}
[info] >        _traceUtil: DisabledTraceUtil {}, {"user":"      _traceUtil: DisabledTraceUtil {},","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _traceUtil: DisabledTraceUtil {},"}}
[info] >        _backoffSettings: [Object], {"user":"      _backoffSettings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _backoffSettings: [Object],"}}
[info] >        _clientPool: [ClientPool], {"user":"      _clientPool: [ClientPool],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _clientPool: [ClientPool],"}}
[info] >        _gax: [Object] {"user":"      _gax: [Object]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _gax: [Object]"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _queryOptions: QueryOptions { {"user":"    _queryOptions: QueryOptions {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryOptions: QueryOptions {"}}
[info] >        parentPath: [ResourcePath], {"user":"      parentPath: [ResourcePath],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       parentPath: [ResourcePath],"}}
[info] >        collectionId: 'purchaseItems', {"user":"      collectionId: 'purchaseItems',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       collectionId: 'purchaseItems',"}}
[info] >        converter: [Object], {"user":"      converter: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       converter: [Object],"}}
[info] >        allDescendants: false, {"user":"      allDescendants: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allDescendants: false,"}}
[info] >        filters: [Array], {"user":"      filters: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       filters: [Array],"}}
[info] >        fieldOrders: [Array], {"user":"      fieldOrders: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       fieldOrders: [Array],"}}
[info] >        startAt: undefined, {"user":"      startAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       startAt: undefined,"}}
[info] >        endAt: undefined, {"user":"      endAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       endAt: undefined,"}}
[info] >        limit: undefined, {"user":"      limit: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limit: undefined,"}}
[info] >        limitType: undefined, {"user":"      limitType: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limitType: undefined,"}}
[info] >        offset: undefined, {"user":"      offset: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       offset: undefined,"}}
[info] >        projection: undefined, {"user":"      projection: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       projection: undefined,"}}
[info] >        kindless: false, {"user":"      kindless: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       kindless: false,"}}
[info] >        requireConsistency: true {"user":"      requireConsistency: true","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       requireConsistency: true"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _serializer: Serializer { {"user":"    _serializer: Serializer {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _serializer: Serializer {"}}
[info] >        createReference: [Function (anonymous)], {"user":"      createReference: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createReference: [Function (anonymous)],"}}
[info] >        createInteger: [Function (anonymous)], {"user":"      createInteger: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createInteger: [Function (anonymous)],"}}
[info] >        allowUndefined: false {"user":"      allowUndefined: false","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allowUndefined: false"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _allowUndefined: false, {"user":"    _allowUndefined: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _allowUndefined: false,"}}
[info] >      _queryUtil: QueryUtil { {"user":"    _queryUtil: QueryUtil {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryUtil: QueryUtil {"}}
[info] >        _firestore: [Firestore], {"user":"      _firestore: [Firestore],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _firestore: [Firestore],"}}
[info] >        _queryOptions: [QueryOptions], {"user":"      _queryOptions: [QueryOptions],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _queryOptions: [QueryOptions],"}}
[info] >        _serializer: [Serializer] {"user":"      _serializer: [Serializer]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer]"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    _readTime: Timestamp { _seconds: 1729254745, _nanoseconds: 969690000 }, {"user":"  _readTime: Timestamp { _seconds: 1729254745, _nanoseconds: 969690000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _readTime: Timestamp { _seconds: 1729254745, _nanoseconds: 969690000 },"}}
[info] >    _size: 1, {"user":"  _size: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _size: 1,"}}
[info] >    _materializedDocs: null, {"user":"  _materializedDocs: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedDocs: null,"}}
[info] >    _materializedChanges: null, {"user":"  _materializedChanges: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedChanges: null,"}}
[info] >    _docs: [Function (anonymous)], {"user":"  _docs: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _docs: [Function (anonymous)],"}}
[info] >    _changes: [Function (anonymous)] {"user":"  _changes: [Function (anonymous)]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _changes: [Function (anonymous)]"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2024-10-18T12:32:26.379Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 66.5051ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 66.5051ms"}}
[debug] [2024-10-18T12:32:26.380Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T12:32:26.380Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:32:26.380Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:32:26.380Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] >  [ {"user":"[","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ["}}
[info] >    { {"user":"  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   {"}}
[info] >      id: 'AIxFbug16kvF6PQU0ybK', {"user":"    id: 'AIxFbug16kvF6PQU0ybK',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     id: 'AIxFbug16kvF6PQU0ybK',"}}
[info] >      productId: '2PHnd6lM4TG6lP6Y5fOc', {"user":"    productId: '2PHnd6lM4TG6lP6Y5fOc',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     productId: '2PHnd6lM4TG6lP6Y5fOc',"}}
[info] >      qty: 1, {"user":"    qty: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     qty: 1,"}}
[info] >      netPrice: 1, {"user":"    netPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     netPrice: 1,"}}
[info] >      partnerComm: 1, {"user":"    partnerComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     partnerComm: 1,"}}
[info] >      companyComm: 1, {"user":"    companyComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     companyComm: 1,"}}
[info] >      pricePerPerson: 1, {"user":"    pricePerPerson: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     pricePerPerson: 1,"}}
[info] >      minTotalPrice: 1, {"user":"    minTotalPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     minTotalPrice: 1,"}}
[info] >      totalPrice: 3, {"user":"    totalPrice: 3,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totalPrice: 3,"}}
[info] >      date: '2024-10-18', {"user":"    date: '2024-10-18',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: '2024-10-18',"}}
[info] >      cityId: 'OiCHcy7zKcp2uU3zlMPU', {"user":"    cityId: 'OiCHcy7zKcp2uU3zlMPU',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     cityId: 'OiCHcy7zKcp2uU3zlMPU',"}}
[info] >      totemId: '1LoQvuu4KzHC1ux7qfOR', {"user":"    totemId: '1LoQvuu4KzHC1ux7qfOR',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totemId: '1LoQvuu4KzHC1ux7qfOR',"}}
[info] >      purchaseId: 'zuDSRe9m9p2oU9O4Kz1o', {"user":"    purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',"}}
[info] >      customerId: 'rMuIfSk9AarUm73FZVtC', {"user":"    customerId: 'rMuIfSk9AarUm73FZVtC',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     customerId: 'rMuIfSk9AarUm73FZVtC',"}}
[info] >      timestamp: 1729177549038 {"user":"    timestamp: 1729177549038","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     timestamp: 1729177549038"}}
[info] >    } {"user":"  }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   }"}}
[info] >  ] {"user":"]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ]"}}
[debug] [2024-10-18T12:32:29.236Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:32:29.236Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:32:29.237Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:32:29.236Z"],"workRunningCount":1}
[debug] [2024-10-18T12:32:29.237Z] Accepted request GET /totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T12:32:29.237Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:32:29.237Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T12:32:29.237Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:32:29.238Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[debug] [2024-10-18T12:32:29.271Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 33.5348ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 33.5348ms"}}
[debug] [2024-10-18T12:32:29.272Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T12:32:29.272Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:32:29.272Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:32:29.272Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:32:29.275Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:32:29.275Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:32:29.275Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:32:29.275Z"],"workRunningCount":1}
[debug] [2024-10-18T12:32:29.275Z] Accepted request GET /totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T12:32:29.276Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:32:29.276Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T12:32:29.276Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:32:29.276Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[info] >  QuerySnapshot { {"user":"QuerySnapshot {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m QuerySnapshot {"}}
[info] >    _query: Query { {"user":"  _query: Query {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _query: Query {"}}
[info] >      _firestore: Firestore { {"user":"    _firestore: Firestore {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _firestore: Firestore {"}}
[info] >        _settings: [Object], {"user":"      _settings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settings: [Object],"}}
[info] >        _settingsFrozen: true, {"user":"      _settingsFrozen: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settingsFrozen: true,"}}
[info] >        _serializer: [Serializer], {"user":"      _serializer: [Serializer],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer],"}}
[info] >        _projectId: 'totem-tour', {"user":"      _projectId: 'totem-tour',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _projectId: 'totem-tour',"}}
[info] >        _databaseId: '(default)', {"user":"      _databaseId: '(default)',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _databaseId: '(default)',"}}
[info] >        registeredListenersCount: 0, {"user":"      registeredListenersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       registeredListenersCount: 0,"}}
[info] >        bulkWritersCount: 0, {"user":"      bulkWritersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       bulkWritersCount: 0,"}}
[info] >        _traceUtil: DisabledTraceUtil {}, {"user":"      _traceUtil: DisabledTraceUtil {},","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _traceUtil: DisabledTraceUtil {},"}}
[info] >        _backoffSettings: [Object], {"user":"      _backoffSettings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _backoffSettings: [Object],"}}
[info] >        _clientPool: [ClientPool], {"user":"      _clientPool: [ClientPool],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _clientPool: [ClientPool],"}}
[info] >        _gax: [Object] {"user":"      _gax: [Object]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _gax: [Object]"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _queryOptions: QueryOptions { {"user":"    _queryOptions: QueryOptions {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryOptions: QueryOptions {"}}
[info] >        parentPath: [ResourcePath], {"user":"      parentPath: [ResourcePath],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       parentPath: [ResourcePath],"}}
[info] >        collectionId: 'purchaseItems', {"user":"      collectionId: 'purchaseItems',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       collectionId: 'purchaseItems',"}}
[info] >        converter: [Object], {"user":"      converter: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       converter: [Object],"}}
[info] >        allDescendants: false, {"user":"      allDescendants: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allDescendants: false,"}}
[info] >        filters: [Array], {"user":"      filters: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       filters: [Array],"}}
[info] >        fieldOrders: [Array], {"user":"      fieldOrders: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       fieldOrders: [Array],"}}
[info] >        startAt: undefined, {"user":"      startAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       startAt: undefined,"}}
[info] >        endAt: undefined, {"user":"      endAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       endAt: undefined,"}}
[info] >        limit: undefined, {"user":"      limit: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limit: undefined,"}}
[info] >        limitType: undefined, {"user":"      limitType: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limitType: undefined,"}}
[info] >        offset: undefined, {"user":"      offset: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       offset: undefined,"}}
[info] >        projection: undefined, {"user":"      projection: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       projection: undefined,"}}
[info] >        kindless: false, {"user":"      kindless: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       kindless: false,"}}
[info] >        requireConsistency: true {"user":"      requireConsistency: true","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       requireConsistency: true"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _serializer: Serializer { {"user":"    _serializer: Serializer {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _serializer: Serializer {"}}
[info] >        createReference: [Function (anonymous)], {"user":"      createReference: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createReference: [Function (anonymous)],"}}
[info] >        createInteger: [Function (anonymous)], {"user":"      createInteger: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createInteger: [Function (anonymous)],"}}
[info] >        allowUndefined: false {"user":"      allowUndefined: false","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allowUndefined: false"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _allowUndefined: false, {"user":"    _allowUndefined: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _allowUndefined: false,"}}
[info] >      _queryUtil: QueryUtil { {"user":"    _queryUtil: QueryUtil {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryUtil: QueryUtil {"}}
[info] >        _firestore: [Firestore], {"user":"      _firestore: [Firestore],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _firestore: [Firestore],"}}
[info] >        _queryOptions: [QueryOptions], {"user":"      _queryOptions: [QueryOptions],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _queryOptions: [QueryOptions],"}}
[info] >        _serializer: [Serializer] {"user":"      _serializer: [Serializer]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer]"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    _readTime: Timestamp { _seconds: 1729254748, _nanoseconds: 919863000 }, {"user":"  _readTime: Timestamp { _seconds: 1729254748, _nanoseconds: 919863000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _readTime: Timestamp { _seconds: 1729254748, _nanoseconds: 919863000 },"}}
[info] >    _size: 1, {"user":"  _size: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _size: 1,"}}
[info] >    _materializedDocs: null, {"user":"  _materializedDocs: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedDocs: null,"}}
[info] >    _materializedChanges: null, {"user":"  _materializedChanges: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedChanges: null,"}}
[info] >    _docs: [Function (anonymous)], {"user":"  _docs: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _docs: [Function (anonymous)],"}}
[info] >    _changes: [Function (anonymous)] {"user":"  _changes: [Function (anonymous)]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _changes: [Function (anonymous)]"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2024-10-18T12:32:29.334Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 57.997ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 57.997ms"}}
[debug] [2024-10-18T12:32:29.335Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T12:32:29.335Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:32:29.335Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:32:29.335Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] >  [ {"user":"[","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ["}}
[info] >    { {"user":"  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   {"}}
[info] >      id: 'AIxFbug16kvF6PQU0ybK', {"user":"    id: 'AIxFbug16kvF6PQU0ybK',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     id: 'AIxFbug16kvF6PQU0ybK',"}}
[info] >      productId: '2PHnd6lM4TG6lP6Y5fOc', {"user":"    productId: '2PHnd6lM4TG6lP6Y5fOc',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     productId: '2PHnd6lM4TG6lP6Y5fOc',"}}
[info] >      qty: 1, {"user":"    qty: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     qty: 1,"}}
[info] >      netPrice: 1, {"user":"    netPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     netPrice: 1,"}}
[info] >      partnerComm: 1, {"user":"    partnerComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     partnerComm: 1,"}}
[info] >      companyComm: 1, {"user":"    companyComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     companyComm: 1,"}}
[info] >      pricePerPerson: 1, {"user":"    pricePerPerson: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     pricePerPerson: 1,"}}
[info] >      minTotalPrice: 1, {"user":"    minTotalPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     minTotalPrice: 1,"}}
[info] >      totalPrice: 3, {"user":"    totalPrice: 3,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totalPrice: 3,"}}
[info] >      date: '2024-10-18', {"user":"    date: '2024-10-18',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: '2024-10-18',"}}
[info] >      cityId: 'OiCHcy7zKcp2uU3zlMPU', {"user":"    cityId: 'OiCHcy7zKcp2uU3zlMPU',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     cityId: 'OiCHcy7zKcp2uU3zlMPU',"}}
[info] >      totemId: '1LoQvuu4KzHC1ux7qfOR', {"user":"    totemId: '1LoQvuu4KzHC1ux7qfOR',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totemId: '1LoQvuu4KzHC1ux7qfOR',"}}
[info] >      purchaseId: 'zuDSRe9m9p2oU9O4Kz1o', {"user":"    purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',"}}
[info] >      customerId: 'rMuIfSk9AarUm73FZVtC', {"user":"    customerId: 'rMuIfSk9AarUm73FZVtC',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     customerId: 'rMuIfSk9AarUm73FZVtC',"}}
[info] >      timestamp: 1729177549038 {"user":"    timestamp: 1729177549038","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     timestamp: 1729177549038"}}
[info] >    } {"user":"  }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   }"}}
[info] >  ] {"user":"]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ]"}}
[debug] [2024-10-18T12:32:34.242Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:32:34.242Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:32:34.242Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:32:34.242Z"],"workRunningCount":1}
[debug] [2024-10-18T12:32:34.242Z] Accepted request GET /totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T12:32:34.243Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:32:34.244Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T12:32:34.244Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:32:34.245Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[debug] [2024-10-18T12:32:34.296Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 51.1319ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 51.1319ms"}}
[debug] [2024-10-18T12:32:34.297Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T12:32:34.297Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:32:34.297Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:32:34.297Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:32:34.301Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:32:34.300Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:32:34.301Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:32:34.300Z"],"workRunningCount":1}
[debug] [2024-10-18T12:32:34.301Z] Accepted request GET /totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T12:32:34.302Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:32:34.302Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T12:32:34.302Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:32:34.303Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[info] >  QuerySnapshot { {"user":"QuerySnapshot {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m QuerySnapshot {"}}
[info] >    _query: Query { {"user":"  _query: Query {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _query: Query {"}}
[info] >      _firestore: Firestore { {"user":"    _firestore: Firestore {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _firestore: Firestore {"}}
[info] >        _settings: [Object], {"user":"      _settings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settings: [Object],"}}
[info] >        _settingsFrozen: true, {"user":"      _settingsFrozen: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settingsFrozen: true,"}}
[info] >        _serializer: [Serializer], {"user":"      _serializer: [Serializer],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer],"}}
[info] >        _projectId: 'totem-tour', {"user":"      _projectId: 'totem-tour',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _projectId: 'totem-tour',"}}
[info] >        _databaseId: '(default)', {"user":"      _databaseId: '(default)',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _databaseId: '(default)',"}}
[info] >        registeredListenersCount: 0, {"user":"      registeredListenersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       registeredListenersCount: 0,"}}
[info] >        bulkWritersCount: 0, {"user":"      bulkWritersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       bulkWritersCount: 0,"}}
[info] >        _traceUtil: DisabledTraceUtil {}, {"user":"      _traceUtil: DisabledTraceUtil {},","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _traceUtil: DisabledTraceUtil {},"}}
[info] >        _backoffSettings: [Object], {"user":"      _backoffSettings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _backoffSettings: [Object],"}}
[info] >        _clientPool: [ClientPool], {"user":"      _clientPool: [ClientPool],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _clientPool: [ClientPool],"}}
[info] >        _gax: [Object] {"user":"      _gax: [Object]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _gax: [Object]"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _queryOptions: QueryOptions { {"user":"    _queryOptions: QueryOptions {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryOptions: QueryOptions {"}}
[info] >        parentPath: [ResourcePath], {"user":"      parentPath: [ResourcePath],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       parentPath: [ResourcePath],"}}
[info] >        collectionId: 'purchaseItems', {"user":"      collectionId: 'purchaseItems',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       collectionId: 'purchaseItems',"}}
[info] >        converter: [Object], {"user":"      converter: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       converter: [Object],"}}
[info] >        allDescendants: false, {"user":"      allDescendants: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allDescendants: false,"}}
[info] >        filters: [Array], {"user":"      filters: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       filters: [Array],"}}
[info] >        fieldOrders: [Array], {"user":"      fieldOrders: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       fieldOrders: [Array],"}}
[info] >        startAt: undefined, {"user":"      startAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       startAt: undefined,"}}
[info] >        endAt: undefined, {"user":"      endAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       endAt: undefined,"}}
[info] >        limit: undefined, {"user":"      limit: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limit: undefined,"}}
[info] >        limitType: undefined, {"user":"      limitType: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limitType: undefined,"}}
[info] >        offset: undefined, {"user":"      offset: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       offset: undefined,"}}
[info] >        projection: undefined, {"user":"      projection: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       projection: undefined,"}}
[info] >        kindless: false, {"user":"      kindless: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       kindless: false,"}}
[info] >        requireConsistency: true {"user":"      requireConsistency: true","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       requireConsistency: true"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _serializer: Serializer { {"user":"    _serializer: Serializer {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _serializer: Serializer {"}}
[info] >        createReference: [Function (anonymous)], {"user":"      createReference: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createReference: [Function (anonymous)],"}}
[info] >        createInteger: [Function (anonymous)], {"user":"      createInteger: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createInteger: [Function (anonymous)],"}}
[info] >        allowUndefined: false {"user":"      allowUndefined: false","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allowUndefined: false"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _allowUndefined: false, {"user":"    _allowUndefined: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _allowUndefined: false,"}}
[info] >      _queryUtil: QueryUtil { {"user":"    _queryUtil: QueryUtil {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryUtil: QueryUtil {"}}
[info] >        _firestore: [Firestore], {"user":"      _firestore: [Firestore],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _firestore: [Firestore],"}}
[info] >        _queryOptions: [QueryOptions], {"user":"      _queryOptions: [QueryOptions],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _queryOptions: [QueryOptions],"}}
[info] >        _serializer: [Serializer] {"user":"      _serializer: [Serializer]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer]"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    _readTime: Timestamp { _seconds: 1729254753, _nanoseconds: 957833000 }, {"user":"  _readTime: Timestamp { _seconds: 1729254753, _nanoseconds: 957833000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _readTime: Timestamp { _seconds: 1729254753, _nanoseconds: 957833000 },"}}
[info] >    _size: 1, {"user":"  _size: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _size: 1,"}}
[info] >    _materializedDocs: null, {"user":"  _materializedDocs: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedDocs: null,"}}
[info] >    _materializedChanges: null, {"user":"  _materializedChanges: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedChanges: null,"}}
[info] >    _docs: [Function (anonymous)], {"user":"  _docs: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _docs: [Function (anonymous)],"}}
[info] >    _changes: [Function (anonymous)] {"user":"  _changes: [Function (anonymous)]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _changes: [Function (anonymous)]"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2024-10-18T12:32:34.370Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 67.5211ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 67.5211ms"}}
[debug] [2024-10-18T12:32:34.371Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T12:32:34.371Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:32:34.371Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:32:34.371Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] >  [ {"user":"[","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ["}}
[info] >    { {"user":"  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   {"}}
[info] >      id: 'AIxFbug16kvF6PQU0ybK', {"user":"    id: 'AIxFbug16kvF6PQU0ybK',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     id: 'AIxFbug16kvF6PQU0ybK',"}}
[info] >      productId: '2PHnd6lM4TG6lP6Y5fOc', {"user":"    productId: '2PHnd6lM4TG6lP6Y5fOc',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     productId: '2PHnd6lM4TG6lP6Y5fOc',"}}
[info] >      qty: 1, {"user":"    qty: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     qty: 1,"}}
[info] >      netPrice: 1, {"user":"    netPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     netPrice: 1,"}}
[info] >      partnerComm: 1, {"user":"    partnerComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     partnerComm: 1,"}}
[info] >      companyComm: 1, {"user":"    companyComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     companyComm: 1,"}}
[info] >      pricePerPerson: 1, {"user":"    pricePerPerson: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     pricePerPerson: 1,"}}
[info] >      minTotalPrice: 1, {"user":"    minTotalPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     minTotalPrice: 1,"}}
[info] >      totalPrice: 3, {"user":"    totalPrice: 3,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totalPrice: 3,"}}
[info] >      date: '2024-10-18', {"user":"    date: '2024-10-18',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: '2024-10-18',"}}
[info] >      cityId: 'OiCHcy7zKcp2uU3zlMPU', {"user":"    cityId: 'OiCHcy7zKcp2uU3zlMPU',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     cityId: 'OiCHcy7zKcp2uU3zlMPU',"}}
[info] >      totemId: '1LoQvuu4KzHC1ux7qfOR', {"user":"    totemId: '1LoQvuu4KzHC1ux7qfOR',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totemId: '1LoQvuu4KzHC1ux7qfOR',"}}
[info] >      purchaseId: 'zuDSRe9m9p2oU9O4Kz1o', {"user":"    purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',"}}
[info] >      customerId: 'rMuIfSk9AarUm73FZVtC', {"user":"    customerId: 'rMuIfSk9AarUm73FZVtC',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     customerId: 'rMuIfSk9AarUm73FZVtC',"}}
[info] >      timestamp: 1729177549038 {"user":"    timestamp: 1729177549038","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     timestamp: 1729177549038"}}
[info] >    } {"user":"  }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   }"}}
[info] >  ] {"user":"]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ]"}}
[debug] [2024-10-18T12:32:40.239Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:32:40.239Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:32:40.239Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:32:40.239Z"],"workRunningCount":1}
[debug] [2024-10-18T12:32:40.239Z] Accepted request GET /totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T12:32:40.241Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:32:40.242Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T12:32:40.242Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:32:40.242Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[debug] [2024-10-18T12:32:40.312Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 70.0277ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 70.0277ms"}}
[debug] [2024-10-18T12:32:40.313Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T12:32:40.313Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:32:40.313Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:32:40.313Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:32:40.316Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:32:40.316Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:32:40.316Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:32:40.316Z"],"workRunningCount":1}
[debug] [2024-10-18T12:32:40.316Z] Accepted request GET /totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T12:32:40.318Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:32:40.318Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T12:32:40.318Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:32:40.319Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[info] >  QuerySnapshot { {"user":"QuerySnapshot {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m QuerySnapshot {"}}
[info] >    _query: Query { {"user":"  _query: Query {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _query: Query {"}}
[info] >      _firestore: Firestore { {"user":"    _firestore: Firestore {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _firestore: Firestore {"}}
[info] >        _settings: [Object], {"user":"      _settings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settings: [Object],"}}
[info] >        _settingsFrozen: true, {"user":"      _settingsFrozen: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settingsFrozen: true,"}}
[info] >        _serializer: [Serializer], {"user":"      _serializer: [Serializer],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer],"}}
[info] >        _projectId: 'totem-tour', {"user":"      _projectId: 'totem-tour',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _projectId: 'totem-tour',"}}
[info] >        _databaseId: '(default)', {"user":"      _databaseId: '(default)',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _databaseId: '(default)',"}}
[info] >        registeredListenersCount: 0, {"user":"      registeredListenersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       registeredListenersCount: 0,"}}
[info] >        bulkWritersCount: 0, {"user":"      bulkWritersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       bulkWritersCount: 0,"}}
[info] >        _traceUtil: DisabledTraceUtil {}, {"user":"      _traceUtil: DisabledTraceUtil {},","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _traceUtil: DisabledTraceUtil {},"}}
[info] >        _backoffSettings: [Object], {"user":"      _backoffSettings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _backoffSettings: [Object],"}}
[info] >        _clientPool: [ClientPool], {"user":"      _clientPool: [ClientPool],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _clientPool: [ClientPool],"}}
[info] >        _gax: [Object] {"user":"      _gax: [Object]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _gax: [Object]"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _queryOptions: QueryOptions { {"user":"    _queryOptions: QueryOptions {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryOptions: QueryOptions {"}}
[info] >        parentPath: [ResourcePath], {"user":"      parentPath: [ResourcePath],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       parentPath: [ResourcePath],"}}
[info] >        collectionId: 'purchaseItems', {"user":"      collectionId: 'purchaseItems',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       collectionId: 'purchaseItems',"}}
[info] >        converter: [Object], {"user":"      converter: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       converter: [Object],"}}
[info] >        allDescendants: false, {"user":"      allDescendants: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allDescendants: false,"}}
[info] >        filters: [Array], {"user":"      filters: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       filters: [Array],"}}
[info] >        fieldOrders: [Array], {"user":"      fieldOrders: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       fieldOrders: [Array],"}}
[info] >        startAt: undefined, {"user":"      startAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       startAt: undefined,"}}
[info] >        endAt: undefined, {"user":"      endAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       endAt: undefined,"}}
[info] >        limit: undefined, {"user":"      limit: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limit: undefined,"}}
[info] >        limitType: undefined, {"user":"      limitType: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limitType: undefined,"}}
[info] >        offset: undefined, {"user":"      offset: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       offset: undefined,"}}
[info] >        projection: undefined, {"user":"      projection: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       projection: undefined,"}}
[info] >        kindless: false, {"user":"      kindless: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       kindless: false,"}}
[info] >        requireConsistency: true {"user":"      requireConsistency: true","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       requireConsistency: true"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _serializer: Serializer { {"user":"    _serializer: Serializer {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _serializer: Serializer {"}}
[info] >        createReference: [Function (anonymous)], {"user":"      createReference: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createReference: [Function (anonymous)],"}}
[info] >        createInteger: [Function (anonymous)], {"user":"      createInteger: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createInteger: [Function (anonymous)],"}}
[info] >        allowUndefined: false {"user":"      allowUndefined: false","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allowUndefined: false"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _allowUndefined: false, {"user":"    _allowUndefined: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _allowUndefined: false,"}}
[info] >      _queryUtil: QueryUtil { {"user":"    _queryUtil: QueryUtil {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryUtil: QueryUtil {"}}
[info] >        _firestore: [Firestore], {"user":"      _firestore: [Firestore],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _firestore: [Firestore],"}}
[info] >        _queryOptions: [QueryOptions], {"user":"      _queryOptions: [QueryOptions],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _queryOptions: [QueryOptions],"}}
[info] >        _serializer: [Serializer] {"user":"      _serializer: [Serializer]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer]"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    _readTime: Timestamp { _seconds: 1729254759, _nanoseconds: 964481000 }, {"user":"  _readTime: Timestamp { _seconds: 1729254759, _nanoseconds: 964481000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _readTime: Timestamp { _seconds: 1729254759, _nanoseconds: 964481000 },"}}
[info] >    _size: 1, {"user":"  _size: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _size: 1,"}}
[info] >    _materializedDocs: null, {"user":"  _materializedDocs: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedDocs: null,"}}
[info] >    _materializedChanges: null, {"user":"  _materializedChanges: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedChanges: null,"}}
[info] >    _docs: [Function (anonymous)], {"user":"  _docs: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _docs: [Function (anonymous)],"}}
[info] >    _changes: [Function (anonymous)] {"user":"  _changes: [Function (anonymous)]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _changes: [Function (anonymous)]"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2024-10-18T12:32:40.412Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 93.0507ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 93.0507ms"}}
[debug] [2024-10-18T12:32:40.413Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T12:32:40.413Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:32:40.413Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:32:40.413Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] >  [ {"user":"[","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ["}}
[info] >    { {"user":"  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   {"}}
[info] >      id: 'AIxFbug16kvF6PQU0ybK', {"user":"    id: 'AIxFbug16kvF6PQU0ybK',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     id: 'AIxFbug16kvF6PQU0ybK',"}}
[info] >      productId: '2PHnd6lM4TG6lP6Y5fOc', {"user":"    productId: '2PHnd6lM4TG6lP6Y5fOc',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     productId: '2PHnd6lM4TG6lP6Y5fOc',"}}
[info] >      qty: 1, {"user":"    qty: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     qty: 1,"}}
[info] >      netPrice: 1, {"user":"    netPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     netPrice: 1,"}}
[info] >      partnerComm: 1, {"user":"    partnerComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     partnerComm: 1,"}}
[info] >      companyComm: 1, {"user":"    companyComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     companyComm: 1,"}}
[info] >      pricePerPerson: 1, {"user":"    pricePerPerson: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     pricePerPerson: 1,"}}
[info] >      minTotalPrice: 1, {"user":"    minTotalPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     minTotalPrice: 1,"}}
[info] >      totalPrice: 3, {"user":"    totalPrice: 3,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totalPrice: 3,"}}
[info] >      date: '2024-10-18', {"user":"    date: '2024-10-18',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: '2024-10-18',"}}
[info] >      cityId: 'OiCHcy7zKcp2uU3zlMPU', {"user":"    cityId: 'OiCHcy7zKcp2uU3zlMPU',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     cityId: 'OiCHcy7zKcp2uU3zlMPU',"}}
[info] >      totemId: '1LoQvuu4KzHC1ux7qfOR', {"user":"    totemId: '1LoQvuu4KzHC1ux7qfOR',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totemId: '1LoQvuu4KzHC1ux7qfOR',"}}
[info] >      purchaseId: 'zuDSRe9m9p2oU9O4Kz1o', {"user":"    purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',"}}
[info] >      customerId: 'rMuIfSk9AarUm73FZVtC', {"user":"    customerId: 'rMuIfSk9AarUm73FZVtC',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     customerId: 'rMuIfSk9AarUm73FZVtC',"}}
[info] >      timestamp: 1729177549038 {"user":"    timestamp: 1729177549038","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     timestamp: 1729177549038"}}
[info] >    } {"user":"  }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   }"}}
[info] >  ] {"user":"]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ]"}}
[debug] [2024-10-18T12:32:41.246Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:32:41.246Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:32:41.246Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:32:41.246Z"],"workRunningCount":1}
[debug] [2024-10-18T12:32:41.247Z] Accepted request GET /totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T12:32:41.249Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:32:41.249Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T12:32:41.249Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:32:41.251Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[debug] [2024-10-18T12:32:41.288Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 36.7751ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 36.7751ms"}}
[debug] [2024-10-18T12:32:41.289Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T12:32:41.289Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:32:41.289Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:32:41.289Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:32:41.293Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:32:41.293Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:32:41.293Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:32:41.293Z"],"workRunningCount":1}
[debug] [2024-10-18T12:32:41.293Z] Accepted request GET /totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T12:32:41.294Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:32:41.294Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T12:32:41.294Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:32:41.295Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[info] >  QuerySnapshot { {"user":"QuerySnapshot {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m QuerySnapshot {"}}
[info] >    _query: Query { {"user":"  _query: Query {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _query: Query {"}}
[info] >      _firestore: Firestore { {"user":"    _firestore: Firestore {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _firestore: Firestore {"}}
[info] >        _settings: [Object], {"user":"      _settings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settings: [Object],"}}
[info] >        _settingsFrozen: true, {"user":"      _settingsFrozen: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settingsFrozen: true,"}}
[info] >        _serializer: [Serializer], {"user":"      _serializer: [Serializer],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer],"}}
[info] >        _projectId: 'totem-tour', {"user":"      _projectId: 'totem-tour',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _projectId: 'totem-tour',"}}
[info] >        _databaseId: '(default)', {"user":"      _databaseId: '(default)',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _databaseId: '(default)',"}}
[info] >        registeredListenersCount: 0, {"user":"      registeredListenersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       registeredListenersCount: 0,"}}
[info] >        bulkWritersCount: 0, {"user":"      bulkWritersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       bulkWritersCount: 0,"}}
[info] >        _traceUtil: DisabledTraceUtil {}, {"user":"      _traceUtil: DisabledTraceUtil {},","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _traceUtil: DisabledTraceUtil {},"}}
[info] >        _backoffSettings: [Object], {"user":"      _backoffSettings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _backoffSettings: [Object],"}}
[info] >        _clientPool: [ClientPool], {"user":"      _clientPool: [ClientPool],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _clientPool: [ClientPool],"}}
[info] >        _gax: [Object] {"user":"      _gax: [Object]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _gax: [Object]"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _queryOptions: QueryOptions { {"user":"    _queryOptions: QueryOptions {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryOptions: QueryOptions {"}}
[info] >        parentPath: [ResourcePath], {"user":"      parentPath: [ResourcePath],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       parentPath: [ResourcePath],"}}
[info] >        collectionId: 'purchaseItems', {"user":"      collectionId: 'purchaseItems',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       collectionId: 'purchaseItems',"}}
[info] >        converter: [Object], {"user":"      converter: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       converter: [Object],"}}
[info] >        allDescendants: false, {"user":"      allDescendants: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allDescendants: false,"}}
[info] >        filters: [Array], {"user":"      filters: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       filters: [Array],"}}
[info] >        fieldOrders: [Array], {"user":"      fieldOrders: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       fieldOrders: [Array],"}}
[info] >        startAt: undefined, {"user":"      startAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       startAt: undefined,"}}
[info] >        endAt: undefined, {"user":"      endAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       endAt: undefined,"}}
[info] >        limit: undefined, {"user":"      limit: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limit: undefined,"}}
[info] >        limitType: undefined, {"user":"      limitType: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limitType: undefined,"}}
[info] >        offset: undefined, {"user":"      offset: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       offset: undefined,"}}
[info] >        projection: undefined, {"user":"      projection: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       projection: undefined,"}}
[info] >        kindless: false, {"user":"      kindless: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       kindless: false,"}}
[info] >        requireConsistency: true {"user":"      requireConsistency: true","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       requireConsistency: true"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _serializer: Serializer { {"user":"    _serializer: Serializer {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _serializer: Serializer {"}}
[info] >        createReference: [Function (anonymous)], {"user":"      createReference: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createReference: [Function (anonymous)],"}}
[info] >        createInteger: [Function (anonymous)], {"user":"      createInteger: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createInteger: [Function (anonymous)],"}}
[info] >        allowUndefined: false {"user":"      allowUndefined: false","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allowUndefined: false"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _allowUndefined: false, {"user":"    _allowUndefined: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _allowUndefined: false,"}}
[info] >      _queryUtil: QueryUtil { {"user":"    _queryUtil: QueryUtil {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryUtil: QueryUtil {"}}
[info] >        _firestore: [Firestore], {"user":"      _firestore: [Firestore],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _firestore: [Firestore],"}}
[info] >        _queryOptions: [QueryOptions], {"user":"      _queryOptions: [QueryOptions],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _queryOptions: [QueryOptions],"}}
[info] >        _serializer: [Serializer] {"user":"      _serializer: [Serializer]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer]"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    _readTime: Timestamp { _seconds: 1729254760, _nanoseconds: 949949000 }, {"user":"  _readTime: Timestamp { _seconds: 1729254760, _nanoseconds: 949949000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _readTime: Timestamp { _seconds: 1729254760, _nanoseconds: 949949000 },"}}
[info] >    _size: 1, {"user":"  _size: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _size: 1,"}}
[info] >    _materializedDocs: null, {"user":"  _materializedDocs: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedDocs: null,"}}
[info] >    _materializedChanges: null, {"user":"  _materializedChanges: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedChanges: null,"}}
[info] >    _docs: [Function (anonymous)], {"user":"  _docs: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _docs: [Function (anonymous)],"}}
[info] >    _changes: [Function (anonymous)] {"user":"  _changes: [Function (anonymous)]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _changes: [Function (anonymous)]"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2024-10-18T12:32:41.363Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 68.0267ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 68.0267ms"}}
[debug] [2024-10-18T12:32:41.364Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T12:32:41.364Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:32:41.364Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:32:41.364Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] >  [ {"user":"[","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ["}}
[info] >    { {"user":"  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   {"}}
[info] >      id: 'AIxFbug16kvF6PQU0ybK', {"user":"    id: 'AIxFbug16kvF6PQU0ybK',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     id: 'AIxFbug16kvF6PQU0ybK',"}}
[info] >      productId: '2PHnd6lM4TG6lP6Y5fOc', {"user":"    productId: '2PHnd6lM4TG6lP6Y5fOc',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     productId: '2PHnd6lM4TG6lP6Y5fOc',"}}
[info] >      qty: 1, {"user":"    qty: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     qty: 1,"}}
[info] >      netPrice: 1, {"user":"    netPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     netPrice: 1,"}}
[info] >      partnerComm: 1, {"user":"    partnerComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     partnerComm: 1,"}}
[info] >      companyComm: 1, {"user":"    companyComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     companyComm: 1,"}}
[info] >      pricePerPerson: 1, {"user":"    pricePerPerson: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     pricePerPerson: 1,"}}
[info] >      minTotalPrice: 1, {"user":"    minTotalPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     minTotalPrice: 1,"}}
[info] >      totalPrice: 3, {"user":"    totalPrice: 3,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totalPrice: 3,"}}
[info] >      date: '2024-10-18', {"user":"    date: '2024-10-18',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: '2024-10-18',"}}
[info] >      cityId: 'OiCHcy7zKcp2uU3zlMPU', {"user":"    cityId: 'OiCHcy7zKcp2uU3zlMPU',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     cityId: 'OiCHcy7zKcp2uU3zlMPU',"}}
[info] >      totemId: '1LoQvuu4KzHC1ux7qfOR', {"user":"    totemId: '1LoQvuu4KzHC1ux7qfOR',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totemId: '1LoQvuu4KzHC1ux7qfOR',"}}
[info] >      purchaseId: 'zuDSRe9m9p2oU9O4Kz1o', {"user":"    purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',"}}
[info] >      customerId: 'rMuIfSk9AarUm73FZVtC', {"user":"    customerId: 'rMuIfSk9AarUm73FZVtC',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     customerId: 'rMuIfSk9AarUm73FZVtC',"}}
[info] >      timestamp: 1729177549038 {"user":"    timestamp: 1729177549038","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     timestamp: 1729177549038"}}
[info] >    } {"user":"  }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   }"}}
[info] >  ] {"user":"]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ]"}}
[debug] [2024-10-18T12:32:44.237Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:32:44.237Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:32:44.238Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:32:44.237Z"],"workRunningCount":1}
[debug] [2024-10-18T12:32:44.238Z] Accepted request GET /totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T12:32:44.238Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:32:44.239Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T12:32:44.239Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:32:44.239Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[debug] [2024-10-18T12:32:44.276Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 36.8375ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 36.8375ms"}}
[debug] [2024-10-18T12:32:44.277Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T12:32:44.277Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:32:44.277Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:32:44.277Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:32:44.280Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:32:44.280Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:32:44.280Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:32:44.280Z"],"workRunningCount":1}
[debug] [2024-10-18T12:32:44.280Z] Accepted request GET /totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T12:32:44.281Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:32:44.281Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T12:32:44.281Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:32:44.282Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[info] >  QuerySnapshot { {"user":"QuerySnapshot {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m QuerySnapshot {"}}
[info] >    _query: Query { {"user":"  _query: Query {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _query: Query {"}}
[info] >      _firestore: Firestore { {"user":"    _firestore: Firestore {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _firestore: Firestore {"}}
[info] >        _settings: [Object], {"user":"      _settings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settings: [Object],"}}
[info] >        _settingsFrozen: true, {"user":"      _settingsFrozen: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settingsFrozen: true,"}}
[info] >        _serializer: [Serializer], {"user":"      _serializer: [Serializer],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer],"}}
[info] >        _projectId: 'totem-tour', {"user":"      _projectId: 'totem-tour',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _projectId: 'totem-tour',"}}
[info] >        _databaseId: '(default)', {"user":"      _databaseId: '(default)',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _databaseId: '(default)',"}}
[info] >        registeredListenersCount: 0, {"user":"      registeredListenersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       registeredListenersCount: 0,"}}
[info] >        bulkWritersCount: 0, {"user":"      bulkWritersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       bulkWritersCount: 0,"}}
[info] >        _traceUtil: DisabledTraceUtil {}, {"user":"      _traceUtil: DisabledTraceUtil {},","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _traceUtil: DisabledTraceUtil {},"}}
[info] >        _backoffSettings: [Object], {"user":"      _backoffSettings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _backoffSettings: [Object],"}}
[info] >        _clientPool: [ClientPool], {"user":"      _clientPool: [ClientPool],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _clientPool: [ClientPool],"}}
[info] >        _gax: [Object] {"user":"      _gax: [Object]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _gax: [Object]"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _queryOptions: QueryOptions { {"user":"    _queryOptions: QueryOptions {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryOptions: QueryOptions {"}}
[info] >        parentPath: [ResourcePath], {"user":"      parentPath: [ResourcePath],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       parentPath: [ResourcePath],"}}
[info] >        collectionId: 'purchaseItems', {"user":"      collectionId: 'purchaseItems',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       collectionId: 'purchaseItems',"}}
[info] >        converter: [Object], {"user":"      converter: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       converter: [Object],"}}
[info] >        allDescendants: false, {"user":"      allDescendants: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allDescendants: false,"}}
[info] >        filters: [Array], {"user":"      filters: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       filters: [Array],"}}
[info] >        fieldOrders: [Array], {"user":"      fieldOrders: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       fieldOrders: [Array],"}}
[info] >        startAt: undefined, {"user":"      startAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       startAt: undefined,"}}
[info] >        endAt: undefined, {"user":"      endAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       endAt: undefined,"}}
[info] >        limit: undefined, {"user":"      limit: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limit: undefined,"}}
[info] >        limitType: undefined, {"user":"      limitType: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limitType: undefined,"}}
[info] >        offset: undefined, {"user":"      offset: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       offset: undefined,"}}
[info] >        projection: undefined, {"user":"      projection: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       projection: undefined,"}}
[info] >        kindless: false, {"user":"      kindless: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       kindless: false,"}}
[info] >        requireConsistency: true {"user":"      requireConsistency: true","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       requireConsistency: true"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _serializer: Serializer { {"user":"    _serializer: Serializer {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _serializer: Serializer {"}}
[info] >        createReference: [Function (anonymous)], {"user":"      createReference: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createReference: [Function (anonymous)],"}}
[info] >        createInteger: [Function (anonymous)], {"user":"      createInteger: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createInteger: [Function (anonymous)],"}}
[info] >        allowUndefined: false {"user":"      allowUndefined: false","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allowUndefined: false"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _allowUndefined: false, {"user":"    _allowUndefined: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _allowUndefined: false,"}}
[info] >      _queryUtil: QueryUtil { {"user":"    _queryUtil: QueryUtil {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryUtil: QueryUtil {"}}
[info] >        _firestore: [Firestore], {"user":"      _firestore: [Firestore],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _firestore: [Firestore],"}}
[info] >        _queryOptions: [QueryOptions], {"user":"      _queryOptions: [QueryOptions],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _queryOptions: [QueryOptions],"}}
[info] >        _serializer: [Serializer] {"user":"      _serializer: [Serializer]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer]"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    _readTime: Timestamp { _seconds: 1729254763, _nanoseconds: 930460000 }, {"user":"  _readTime: Timestamp { _seconds: 1729254763, _nanoseconds: 930460000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _readTime: Timestamp { _seconds: 1729254763, _nanoseconds: 930460000 },"}}
[info] >    _size: 1, {"user":"  _size: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _size: 1,"}}
[info] >    _materializedDocs: null, {"user":"  _materializedDocs: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedDocs: null,"}}
[info] >    _materializedChanges: null, {"user":"  _materializedChanges: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedChanges: null,"}}
[info] >    _docs: [Function (anonymous)], {"user":"  _docs: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _docs: [Function (anonymous)],"}}
[info] >    _changes: [Function (anonymous)] {"user":"  _changes: [Function (anonymous)]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _changes: [Function (anonymous)]"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2024-10-18T12:32:44.344Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 62.2634ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 62.2634ms"}}
[debug] [2024-10-18T12:32:44.345Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T12:32:44.345Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:32:44.345Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:32:44.345Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] >  [ {"user":"[","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ["}}
[info] >    { {"user":"  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   {"}}
[info] >      id: 'AIxFbug16kvF6PQU0ybK', {"user":"    id: 'AIxFbug16kvF6PQU0ybK',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     id: 'AIxFbug16kvF6PQU0ybK',"}}
[info] >      productId: '2PHnd6lM4TG6lP6Y5fOc', {"user":"    productId: '2PHnd6lM4TG6lP6Y5fOc',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     productId: '2PHnd6lM4TG6lP6Y5fOc',"}}
[info] >      qty: 1, {"user":"    qty: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     qty: 1,"}}
[info] >      netPrice: 1, {"user":"    netPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     netPrice: 1,"}}
[info] >      partnerComm: 1, {"user":"    partnerComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     partnerComm: 1,"}}
[info] >      companyComm: 1, {"user":"    companyComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     companyComm: 1,"}}
[info] >      pricePerPerson: 1, {"user":"    pricePerPerson: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     pricePerPerson: 1,"}}
[info] >      minTotalPrice: 1, {"user":"    minTotalPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     minTotalPrice: 1,"}}
[info] >      totalPrice: 3, {"user":"    totalPrice: 3,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totalPrice: 3,"}}
[info] >      date: '2024-10-18', {"user":"    date: '2024-10-18',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: '2024-10-18',"}}
[info] >      cityId: 'OiCHcy7zKcp2uU3zlMPU', {"user":"    cityId: 'OiCHcy7zKcp2uU3zlMPU',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     cityId: 'OiCHcy7zKcp2uU3zlMPU',"}}
[info] >      totemId: '1LoQvuu4KzHC1ux7qfOR', {"user":"    totemId: '1LoQvuu4KzHC1ux7qfOR',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totemId: '1LoQvuu4KzHC1ux7qfOR',"}}
[info] >      purchaseId: 'zuDSRe9m9p2oU9O4Kz1o', {"user":"    purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',"}}
[info] >      customerId: 'rMuIfSk9AarUm73FZVtC', {"user":"    customerId: 'rMuIfSk9AarUm73FZVtC',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     customerId: 'rMuIfSk9AarUm73FZVtC',"}}
[info] >      timestamp: 1729177549038 {"user":"    timestamp: 1729177549038","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     timestamp: 1729177549038"}}
[info] >    } {"user":"  }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   }"}}
[info] >  ] {"user":"]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ]"}}
[debug] [2024-10-18T12:32:47.249Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:32:47.249Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:32:47.249Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:32:47.249Z"],"workRunningCount":1}
[debug] [2024-10-18T12:32:47.249Z] Accepted request GET /totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T12:32:47.250Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:32:47.250Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T12:32:47.250Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:32:47.250Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[debug] [2024-10-18T12:32:47.281Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 31.1299ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 31.1299ms"}}
[debug] [2024-10-18T12:32:47.282Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T12:32:47.282Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:32:47.283Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:32:47.283Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:32:47.286Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:32:47.286Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:32:47.286Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:32:47.286Z"],"workRunningCount":1}
[debug] [2024-10-18T12:32:47.286Z] Accepted request GET /totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T12:32:47.287Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:32:47.287Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T12:32:47.287Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:32:47.288Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[info] >  QuerySnapshot { {"user":"QuerySnapshot {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m QuerySnapshot {"}}
[info] >    _query: Query { {"user":"  _query: Query {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _query: Query {"}}
[info] >      _firestore: Firestore { {"user":"    _firestore: Firestore {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _firestore: Firestore {"}}
[info] >        _settings: [Object], {"user":"      _settings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settings: [Object],"}}
[info] >        _settingsFrozen: true, {"user":"      _settingsFrozen: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settingsFrozen: true,"}}
[info] >        _serializer: [Serializer], {"user":"      _serializer: [Serializer],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer],"}}
[info] >        _projectId: 'totem-tour', {"user":"      _projectId: 'totem-tour',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _projectId: 'totem-tour',"}}
[info] >        _databaseId: '(default)', {"user":"      _databaseId: '(default)',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _databaseId: '(default)',"}}
[info] >        registeredListenersCount: 0, {"user":"      registeredListenersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       registeredListenersCount: 0,"}}
[info] >        bulkWritersCount: 0, {"user":"      bulkWritersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       bulkWritersCount: 0,"}}
[info] >        _traceUtil: DisabledTraceUtil {}, {"user":"      _traceUtil: DisabledTraceUtil {},","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _traceUtil: DisabledTraceUtil {},"}}
[info] >        _backoffSettings: [Object], {"user":"      _backoffSettings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _backoffSettings: [Object],"}}
[info] >        _clientPool: [ClientPool], {"user":"      _clientPool: [ClientPool],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _clientPool: [ClientPool],"}}
[info] >        _gax: [Object] {"user":"      _gax: [Object]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _gax: [Object]"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _queryOptions: QueryOptions { {"user":"    _queryOptions: QueryOptions {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryOptions: QueryOptions {"}}
[info] >        parentPath: [ResourcePath], {"user":"      parentPath: [ResourcePath],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       parentPath: [ResourcePath],"}}
[info] >        collectionId: 'purchaseItems', {"user":"      collectionId: 'purchaseItems',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       collectionId: 'purchaseItems',"}}
[info] >        converter: [Object], {"user":"      converter: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       converter: [Object],"}}
[info] >        allDescendants: false, {"user":"      allDescendants: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allDescendants: false,"}}
[info] >        filters: [Array], {"user":"      filters: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       filters: [Array],"}}
[info] >        fieldOrders: [Array], {"user":"      fieldOrders: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       fieldOrders: [Array],"}}
[info] >        startAt: undefined, {"user":"      startAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       startAt: undefined,"}}
[info] >        endAt: undefined, {"user":"      endAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       endAt: undefined,"}}
[info] >        limit: undefined, {"user":"      limit: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limit: undefined,"}}
[info] >        limitType: undefined, {"user":"      limitType: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limitType: undefined,"}}
[info] >        offset: undefined, {"user":"      offset: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       offset: undefined,"}}
[info] >        projection: undefined, {"user":"      projection: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       projection: undefined,"}}
[info] >        kindless: false, {"user":"      kindless: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       kindless: false,"}}
[info] >        requireConsistency: true {"user":"      requireConsistency: true","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       requireConsistency: true"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _serializer: Serializer { {"user":"    _serializer: Serializer {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _serializer: Serializer {"}}
[info] >        createReference: [Function (anonymous)], {"user":"      createReference: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createReference: [Function (anonymous)],"}}
[info] >        createInteger: [Function (anonymous)], {"user":"      createInteger: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createInteger: [Function (anonymous)],"}}
[info] >        allowUndefined: false {"user":"      allowUndefined: false","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allowUndefined: false"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _allowUndefined: false, {"user":"    _allowUndefined: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _allowUndefined: false,"}}
[info] >      _queryUtil: QueryUtil { {"user":"    _queryUtil: QueryUtil {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryUtil: QueryUtil {"}}
[info] >        _firestore: [Firestore], {"user":"      _firestore: [Firestore],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _firestore: [Firestore],"}}
[info] >        _queryOptions: [QueryOptions], {"user":"      _queryOptions: [QueryOptions],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _queryOptions: [QueryOptions],"}}
[info] >        _serializer: [Serializer] {"user":"      _serializer: [Serializer]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer]"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    _readTime: Timestamp { _seconds: 1729254766, _nanoseconds: 938576000 }, {"user":"  _readTime: Timestamp { _seconds: 1729254766, _nanoseconds: 938576000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _readTime: Timestamp { _seconds: 1729254766, _nanoseconds: 938576000 },"}}
[info] >    _size: 1, {"user":"  _size: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _size: 1,"}}
[info] >    _materializedDocs: null, {"user":"  _materializedDocs: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedDocs: null,"}}
[info] >    _materializedChanges: null, {"user":"  _materializedChanges: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedChanges: null,"}}
[info] >    _docs: [Function (anonymous)], {"user":"  _docs: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _docs: [Function (anonymous)],"}}
[info] >    _changes: [Function (anonymous)] {"user":"  _changes: [Function (anonymous)]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _changes: [Function (anonymous)]"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2024-10-18T12:32:47.355Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 67.8571ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 67.8571ms"}}
[debug] [2024-10-18T12:32:47.356Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T12:32:47.356Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:32:47.356Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:32:47.356Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] >  [ {"user":"[","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ["}}
[info] >    { {"user":"  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   {"}}
[info] >      id: 'AIxFbug16kvF6PQU0ybK', {"user":"    id: 'AIxFbug16kvF6PQU0ybK',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     id: 'AIxFbug16kvF6PQU0ybK',"}}
[info] >      productId: '2PHnd6lM4TG6lP6Y5fOc', {"user":"    productId: '2PHnd6lM4TG6lP6Y5fOc',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     productId: '2PHnd6lM4TG6lP6Y5fOc',"}}
[info] >      qty: 1, {"user":"    qty: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     qty: 1,"}}
[info] >      netPrice: 1, {"user":"    netPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     netPrice: 1,"}}
[info] >      partnerComm: 1, {"user":"    partnerComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     partnerComm: 1,"}}
[info] >      companyComm: 1, {"user":"    companyComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     companyComm: 1,"}}
[info] >      pricePerPerson: 1, {"user":"    pricePerPerson: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     pricePerPerson: 1,"}}
[info] >      minTotalPrice: 1, {"user":"    minTotalPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     minTotalPrice: 1,"}}
[info] >      totalPrice: 3, {"user":"    totalPrice: 3,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totalPrice: 3,"}}
[info] >      date: '2024-10-18', {"user":"    date: '2024-10-18',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: '2024-10-18',"}}
[info] >      cityId: 'OiCHcy7zKcp2uU3zlMPU', {"user":"    cityId: 'OiCHcy7zKcp2uU3zlMPU',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     cityId: 'OiCHcy7zKcp2uU3zlMPU',"}}
[info] >      totemId: '1LoQvuu4KzHC1ux7qfOR', {"user":"    totemId: '1LoQvuu4KzHC1ux7qfOR',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totemId: '1LoQvuu4KzHC1ux7qfOR',"}}
[info] >      purchaseId: 'zuDSRe9m9p2oU9O4Kz1o', {"user":"    purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',"}}
[info] >      customerId: 'rMuIfSk9AarUm73FZVtC', {"user":"    customerId: 'rMuIfSk9AarUm73FZVtC',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     customerId: 'rMuIfSk9AarUm73FZVtC',"}}
[info] >      timestamp: 1729177549038 {"user":"    timestamp: 1729177549038","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     timestamp: 1729177549038"}}
[info] >    } {"user":"  }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   }"}}
[info] >  ] {"user":"]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ]"}}
[debug] [2024-10-18T12:32:53.258Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:32:53.258Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:32:53.259Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:32:53.258Z"],"workRunningCount":1}
[debug] [2024-10-18T12:32:53.259Z] Accepted request GET /totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T12:32:53.266Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:32:53.266Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T12:32:53.267Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:32:53.268Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[debug] [2024-10-18T12:32:53.294Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 26.6477ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 26.6477ms"}}
[debug] [2024-10-18T12:32:53.295Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T12:32:53.295Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:32:53.295Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:32:53.295Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:32:53.298Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:32:53.298Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:32:53.298Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:32:53.298Z"],"workRunningCount":1}
[debug] [2024-10-18T12:32:53.298Z] Accepted request GET /totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T12:32:53.300Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:32:53.301Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T12:32:53.301Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:32:53.301Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[info] >  QuerySnapshot { {"user":"QuerySnapshot {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m QuerySnapshot {"}}
[info] >    _query: Query { {"user":"  _query: Query {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _query: Query {"}}
[info] >      _firestore: Firestore { {"user":"    _firestore: Firestore {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _firestore: Firestore {"}}
[info] >        _settings: [Object], {"user":"      _settings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settings: [Object],"}}
[info] >        _settingsFrozen: true, {"user":"      _settingsFrozen: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settingsFrozen: true,"}}
[info] >        _serializer: [Serializer], {"user":"      _serializer: [Serializer],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer],"}}
[info] >        _projectId: 'totem-tour', {"user":"      _projectId: 'totem-tour',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _projectId: 'totem-tour',"}}
[info] >        _databaseId: '(default)', {"user":"      _databaseId: '(default)',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _databaseId: '(default)',"}}
[info] >        registeredListenersCount: 0, {"user":"      registeredListenersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       registeredListenersCount: 0,"}}
[info] >        bulkWritersCount: 0, {"user":"      bulkWritersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       bulkWritersCount: 0,"}}
[info] >        _traceUtil: DisabledTraceUtil {}, {"user":"      _traceUtil: DisabledTraceUtil {},","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _traceUtil: DisabledTraceUtil {},"}}
[info] >        _backoffSettings: [Object], {"user":"      _backoffSettings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _backoffSettings: [Object],"}}
[info] >        _clientPool: [ClientPool], {"user":"      _clientPool: [ClientPool],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _clientPool: [ClientPool],"}}
[info] >        _gax: [Object] {"user":"      _gax: [Object]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _gax: [Object]"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _queryOptions: QueryOptions { {"user":"    _queryOptions: QueryOptions {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryOptions: QueryOptions {"}}
[info] >        parentPath: [ResourcePath], {"user":"      parentPath: [ResourcePath],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       parentPath: [ResourcePath],"}}
[info] >        collectionId: 'purchaseItems', {"user":"      collectionId: 'purchaseItems',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       collectionId: 'purchaseItems',"}}
[info] >        converter: [Object], {"user":"      converter: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       converter: [Object],"}}
[info] >        allDescendants: false, {"user":"      allDescendants: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allDescendants: false,"}}
[info] >        filters: [Array], {"user":"      filters: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       filters: [Array],"}}
[info] >        fieldOrders: [Array], {"user":"      fieldOrders: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       fieldOrders: [Array],"}}
[info] >        startAt: undefined, {"user":"      startAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       startAt: undefined,"}}
[info] >        endAt: undefined, {"user":"      endAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       endAt: undefined,"}}
[info] >        limit: undefined, {"user":"      limit: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limit: undefined,"}}
[info] >        limitType: undefined, {"user":"      limitType: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limitType: undefined,"}}
[info] >        offset: undefined, {"user":"      offset: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       offset: undefined,"}}
[info] >        projection: undefined, {"user":"      projection: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       projection: undefined,"}}
[info] >        kindless: false, {"user":"      kindless: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       kindless: false,"}}
[info] >        requireConsistency: true {"user":"      requireConsistency: true","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       requireConsistency: true"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _serializer: Serializer { {"user":"    _serializer: Serializer {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _serializer: Serializer {"}}
[info] >        createReference: [Function (anonymous)], {"user":"      createReference: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createReference: [Function (anonymous)],"}}
[info] >        createInteger: [Function (anonymous)], {"user":"      createInteger: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createInteger: [Function (anonymous)],"}}
[info] >        allowUndefined: false {"user":"      allowUndefined: false","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allowUndefined: false"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _allowUndefined: false, {"user":"    _allowUndefined: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _allowUndefined: false,"}}
[info] >      _queryUtil: QueryUtil { {"user":"    _queryUtil: QueryUtil {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryUtil: QueryUtil {"}}
[info] >        _firestore: [Firestore], {"user":"      _firestore: [Firestore],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _firestore: [Firestore],"}}
[info] >        _queryOptions: [QueryOptions], {"user":"      _queryOptions: [QueryOptions],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _queryOptions: [QueryOptions],"}}
[info] >        _serializer: [Serializer] {"user":"      _serializer: [Serializer]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer]"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    _readTime: Timestamp { _seconds: 1729254772, _nanoseconds: 949435000 }, {"user":"  _readTime: Timestamp { _seconds: 1729254772, _nanoseconds: 949435000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _readTime: Timestamp { _seconds: 1729254772, _nanoseconds: 949435000 },"}}
[info] >    _size: 1, {"user":"  _size: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _size: 1,"}}
[info] >    _materializedDocs: null, {"user":"  _materializedDocs: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedDocs: null,"}}
[info] >    _materializedChanges: null, {"user":"  _materializedChanges: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedChanges: null,"}}
[info] >    _docs: [Function (anonymous)], {"user":"  _docs: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _docs: [Function (anonymous)],"}}
[info] >    _changes: [Function (anonymous)] {"user":"  _changes: [Function (anonymous)]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _changes: [Function (anonymous)]"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2024-10-18T12:32:53.361Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 59.5779ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 59.5779ms"}}
[debug] [2024-10-18T12:32:53.361Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T12:32:53.361Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:32:53.361Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:32:53.362Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] >  [ {"user":"[","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ["}}
[info] >    { {"user":"  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   {"}}
[info] >      id: 'AIxFbug16kvF6PQU0ybK', {"user":"    id: 'AIxFbug16kvF6PQU0ybK',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     id: 'AIxFbug16kvF6PQU0ybK',"}}
[info] >      productId: '2PHnd6lM4TG6lP6Y5fOc', {"user":"    productId: '2PHnd6lM4TG6lP6Y5fOc',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     productId: '2PHnd6lM4TG6lP6Y5fOc',"}}
[info] >      qty: 1, {"user":"    qty: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     qty: 1,"}}
[info] >      netPrice: 1, {"user":"    netPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     netPrice: 1,"}}
[info] >      partnerComm: 1, {"user":"    partnerComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     partnerComm: 1,"}}
[info] >      companyComm: 1, {"user":"    companyComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     companyComm: 1,"}}
[info] >      pricePerPerson: 1, {"user":"    pricePerPerson: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     pricePerPerson: 1,"}}
[info] >      minTotalPrice: 1, {"user":"    minTotalPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     minTotalPrice: 1,"}}
[info] >      totalPrice: 3, {"user":"    totalPrice: 3,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totalPrice: 3,"}}
[info] >      date: '2024-10-18', {"user":"    date: '2024-10-18',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: '2024-10-18',"}}
[info] >      cityId: 'OiCHcy7zKcp2uU3zlMPU', {"user":"    cityId: 'OiCHcy7zKcp2uU3zlMPU',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     cityId: 'OiCHcy7zKcp2uU3zlMPU',"}}
[info] >      totemId: '1LoQvuu4KzHC1ux7qfOR', {"user":"    totemId: '1LoQvuu4KzHC1ux7qfOR',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totemId: '1LoQvuu4KzHC1ux7qfOR',"}}
[info] >      purchaseId: 'zuDSRe9m9p2oU9O4Kz1o', {"user":"    purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',"}}
[info] >      customerId: 'rMuIfSk9AarUm73FZVtC', {"user":"    customerId: 'rMuIfSk9AarUm73FZVtC',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     customerId: 'rMuIfSk9AarUm73FZVtC',"}}
[info] >      timestamp: 1729177549038 {"user":"    timestamp: 1729177549038","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     timestamp: 1729177549038"}}
[info] >    } {"user":"  }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   }"}}
[info] >  ] {"user":"]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ]"}}
[debug] [2024-10-18T12:32:56.738Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:32:56.737Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:32:56.738Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:32:56.737Z"],"workRunningCount":1}
[debug] [2024-10-18T12:32:56.738Z] Accepted request GET /totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T12:32:56.739Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:32:56.740Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T12:32:56.740Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:32:56.741Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[debug] [2024-10-18T12:32:56.771Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 30.2059ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 30.2059ms"}}
[debug] [2024-10-18T12:32:56.772Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T12:32:56.772Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:32:56.772Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:32:56.772Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:32:56.778Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:32:56.777Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:32:56.778Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:32:56.777Z"],"workRunningCount":1}
[debug] [2024-10-18T12:32:56.778Z] Accepted request GET /totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T12:32:56.779Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:32:56.779Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T12:32:56.779Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:32:56.780Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[info] >  QuerySnapshot { {"user":"QuerySnapshot {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m QuerySnapshot {"}}
[info] >    _query: Query { {"user":"  _query: Query {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _query: Query {"}}
[info] >      _firestore: Firestore { {"user":"    _firestore: Firestore {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _firestore: Firestore {"}}
[info] >        _settings: [Object], {"user":"      _settings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settings: [Object],"}}
[info] >        _settingsFrozen: true, {"user":"      _settingsFrozen: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settingsFrozen: true,"}}
[info] >        _serializer: [Serializer], {"user":"      _serializer: [Serializer],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer],"}}
[info] >        _projectId: 'totem-tour', {"user":"      _projectId: 'totem-tour',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _projectId: 'totem-tour',"}}
[info] >        _databaseId: '(default)', {"user":"      _databaseId: '(default)',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _databaseId: '(default)',"}}
[info] >        registeredListenersCount: 0, {"user":"      registeredListenersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       registeredListenersCount: 0,"}}
[info] >        bulkWritersCount: 0, {"user":"      bulkWritersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       bulkWritersCount: 0,"}}
[info] >        _traceUtil: DisabledTraceUtil {}, {"user":"      _traceUtil: DisabledTraceUtil {},","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _traceUtil: DisabledTraceUtil {},"}}
[info] >        _backoffSettings: [Object], {"user":"      _backoffSettings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _backoffSettings: [Object],"}}
[info] >        _clientPool: [ClientPool], {"user":"      _clientPool: [ClientPool],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _clientPool: [ClientPool],"}}
[info] >        _gax: [Object] {"user":"      _gax: [Object]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _gax: [Object]"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _queryOptions: QueryOptions { {"user":"    _queryOptions: QueryOptions {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryOptions: QueryOptions {"}}
[info] >        parentPath: [ResourcePath], {"user":"      parentPath: [ResourcePath],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       parentPath: [ResourcePath],"}}
[info] >        collectionId: 'purchaseItems', {"user":"      collectionId: 'purchaseItems',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       collectionId: 'purchaseItems',"}}
[info] >        converter: [Object], {"user":"      converter: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       converter: [Object],"}}
[info] >        allDescendants: false, {"user":"      allDescendants: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allDescendants: false,"}}
[info] >        filters: [Array], {"user":"      filters: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       filters: [Array],"}}
[info] >        fieldOrders: [Array], {"user":"      fieldOrders: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       fieldOrders: [Array],"}}
[info] >        startAt: undefined, {"user":"      startAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       startAt: undefined,"}}
[info] >        endAt: undefined, {"user":"      endAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       endAt: undefined,"}}
[info] >        limit: undefined, {"user":"      limit: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limit: undefined,"}}
[info] >        limitType: undefined, {"user":"      limitType: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limitType: undefined,"}}
[info] >        offset: undefined, {"user":"      offset: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       offset: undefined,"}}
[info] >        projection: undefined, {"user":"      projection: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       projection: undefined,"}}
[info] >        kindless: false, {"user":"      kindless: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       kindless: false,"}}
[info] >        requireConsistency: true {"user":"      requireConsistency: true","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       requireConsistency: true"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _serializer: Serializer { {"user":"    _serializer: Serializer {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _serializer: Serializer {"}}
[info] >        createReference: [Function (anonymous)], {"user":"      createReference: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createReference: [Function (anonymous)],"}}
[info] >        createInteger: [Function (anonymous)], {"user":"      createInteger: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createInteger: [Function (anonymous)],"}}
[info] >        allowUndefined: false {"user":"      allowUndefined: false","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allowUndefined: false"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _allowUndefined: false, {"user":"    _allowUndefined: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _allowUndefined: false,"}}
[info] >      _queryUtil: QueryUtil { {"user":"    _queryUtil: QueryUtil {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryUtil: QueryUtil {"}}
[info] >        _firestore: [Firestore], {"user":"      _firestore: [Firestore],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _firestore: [Firestore],"}}
[info] >        _queryOptions: [QueryOptions], {"user":"      _queryOptions: [QueryOptions],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _queryOptions: [QueryOptions],"}}
[info] >        _serializer: [Serializer] {"user":"      _serializer: [Serializer]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer]"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    _readTime: Timestamp { _seconds: 1729254776, _nanoseconds: 436236000 }, {"user":"  _readTime: Timestamp { _seconds: 1729254776, _nanoseconds: 436236000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _readTime: Timestamp { _seconds: 1729254776, _nanoseconds: 436236000 },"}}
[info] >    _size: 1, {"user":"  _size: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _size: 1,"}}
[info] >    _materializedDocs: null, {"user":"  _materializedDocs: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedDocs: null,"}}
[info] >    _materializedChanges: null, {"user":"  _materializedChanges: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedChanges: null,"}}
[info] >    _docs: [Function (anonymous)], {"user":"  _docs: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _docs: [Function (anonymous)],"}}
[info] >    _changes: [Function (anonymous)] {"user":"  _changes: [Function (anonymous)]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _changes: [Function (anonymous)]"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2024-10-18T12:32:56.852Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 72.1092ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 72.1092ms"}}
[debug] [2024-10-18T12:32:56.852Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T12:32:56.853Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:32:56.853Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:32:56.853Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] >  [ {"user":"[","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ["}}
[info] >    { {"user":"  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   {"}}
[info] >      id: 'AIxFbug16kvF6PQU0ybK', {"user":"    id: 'AIxFbug16kvF6PQU0ybK',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     id: 'AIxFbug16kvF6PQU0ybK',"}}
[info] >      productId: '2PHnd6lM4TG6lP6Y5fOc', {"user":"    productId: '2PHnd6lM4TG6lP6Y5fOc',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     productId: '2PHnd6lM4TG6lP6Y5fOc',"}}
[info] >      qty: 1, {"user":"    qty: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     qty: 1,"}}
[info] >      netPrice: 1, {"user":"    netPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     netPrice: 1,"}}
[info] >      partnerComm: 1, {"user":"    partnerComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     partnerComm: 1,"}}
[info] >      companyComm: 1, {"user":"    companyComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     companyComm: 1,"}}
[info] >      pricePerPerson: 1, {"user":"    pricePerPerson: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     pricePerPerson: 1,"}}
[info] >      minTotalPrice: 1, {"user":"    minTotalPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     minTotalPrice: 1,"}}
[info] >      totalPrice: 3, {"user":"    totalPrice: 3,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totalPrice: 3,"}}
[info] >      date: '2024-10-18', {"user":"    date: '2024-10-18',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: '2024-10-18',"}}
[info] >      cityId: 'OiCHcy7zKcp2uU3zlMPU', {"user":"    cityId: 'OiCHcy7zKcp2uU3zlMPU',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     cityId: 'OiCHcy7zKcp2uU3zlMPU',"}}
[info] >      totemId: '1LoQvuu4KzHC1ux7qfOR', {"user":"    totemId: '1LoQvuu4KzHC1ux7qfOR',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totemId: '1LoQvuu4KzHC1ux7qfOR',"}}
[info] >      purchaseId: 'zuDSRe9m9p2oU9O4Kz1o', {"user":"    purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',"}}
[info] >      customerId: 'rMuIfSk9AarUm73FZVtC', {"user":"    customerId: 'rMuIfSk9AarUm73FZVtC',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     customerId: 'rMuIfSk9AarUm73FZVtC',"}}
[info] >      timestamp: 1729177549038 {"user":"    timestamp: 1729177549038","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     timestamp: 1729177549038"}}
[info] >    } {"user":"  }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   }"}}
[info] >  ] {"user":"]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ]"}}
[debug] [2024-10-18T12:33:21.342Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchases/-2024-10-18T12:33:21.342Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:33:21.342Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchases/-2024-10-18T12:33:21.342Z"],"workRunningCount":1}
[debug] [2024-10-18T12:33:21.342Z] Accepted request GET /totem-tour/us-central1/totem/purchases/ --> us-central1-totem
[debug] [2024-10-18T12:33:21.345Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:33:21.345Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchases/, mapping to path=/purchases/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchases/, mapping to path=/purchases/"}}
[debug] [2024-10-18T12:33:21.346Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:33:21.346Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[debug] [2024-10-18T12:33:21.446Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 99.8298ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 99.8298ms"}}
[debug] [2024-10-18T12:33:21.449Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T12:33:21.449Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:33:21.450Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:33:21.450Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:33:41.262Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:33:41.262Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:33:41.262Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:33:41.262Z"],"workRunningCount":1}
[debug] [2024-10-18T12:33:41.262Z] Accepted request GET /totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T12:33:41.267Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:33:41.267Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T12:33:41.267Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:33:41.268Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[debug] [2024-10-18T12:33:41.310Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 42.3363ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 42.3363ms"}}
[debug] [2024-10-18T12:33:41.312Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T12:33:41.313Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:33:41.313Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:33:41.313Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:33:41.319Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:33:41.319Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:33:41.319Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:33:41.319Z"],"workRunningCount":1}
[debug] [2024-10-18T12:33:41.319Z] Accepted request GET /totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T12:33:41.325Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:33:41.325Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T12:33:41.326Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:33:41.327Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[info] >  QuerySnapshot { {"user":"QuerySnapshot {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m QuerySnapshot {"}}
[info] >    _query: Query { {"user":"  _query: Query {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _query: Query {"}}
[info] >      _firestore: Firestore { {"user":"    _firestore: Firestore {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _firestore: Firestore {"}}
[info] >        _settings: [Object], {"user":"      _settings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settings: [Object],"}}
[info] >        _settingsFrozen: true, {"user":"      _settingsFrozen: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settingsFrozen: true,"}}
[info] >        _serializer: [Serializer], {"user":"      _serializer: [Serializer],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer],"}}
[info] >        _projectId: 'totem-tour', {"user":"      _projectId: 'totem-tour',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _projectId: 'totem-tour',"}}
[info] >        _databaseId: '(default)', {"user":"      _databaseId: '(default)',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _databaseId: '(default)',"}}
[info] >        registeredListenersCount: 0, {"user":"      registeredListenersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       registeredListenersCount: 0,"}}
[info] >        bulkWritersCount: 0, {"user":"      bulkWritersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       bulkWritersCount: 0,"}}
[info] >        _traceUtil: DisabledTraceUtil {}, {"user":"      _traceUtil: DisabledTraceUtil {},","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _traceUtil: DisabledTraceUtil {},"}}
[info] >        _backoffSettings: [Object], {"user":"      _backoffSettings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _backoffSettings: [Object],"}}
[info] >        _clientPool: [ClientPool], {"user":"      _clientPool: [ClientPool],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _clientPool: [ClientPool],"}}
[info] >        _gax: [Object] {"user":"      _gax: [Object]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _gax: [Object]"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _queryOptions: QueryOptions { {"user":"    _queryOptions: QueryOptions {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryOptions: QueryOptions {"}}
[info] >        parentPath: [ResourcePath], {"user":"      parentPath: [ResourcePath],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       parentPath: [ResourcePath],"}}
[info] >        collectionId: 'purchaseItems', {"user":"      collectionId: 'purchaseItems',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       collectionId: 'purchaseItems',"}}
[info] >        converter: [Object], {"user":"      converter: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       converter: [Object],"}}
[info] >        allDescendants: false, {"user":"      allDescendants: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allDescendants: false,"}}
[info] >        filters: [Array], {"user":"      filters: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       filters: [Array],"}}
[info] >        fieldOrders: [Array], {"user":"      fieldOrders: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       fieldOrders: [Array],"}}
[info] >        startAt: undefined, {"user":"      startAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       startAt: undefined,"}}
[info] >        endAt: undefined, {"user":"      endAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       endAt: undefined,"}}
[info] >        limit: undefined, {"user":"      limit: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limit: undefined,"}}
[info] >        limitType: undefined, {"user":"      limitType: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limitType: undefined,"}}
[info] >        offset: undefined, {"user":"      offset: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       offset: undefined,"}}
[info] >        projection: undefined, {"user":"      projection: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       projection: undefined,"}}
[info] >        kindless: false, {"user":"      kindless: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       kindless: false,"}}
[info] >        requireConsistency: true {"user":"      requireConsistency: true","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       requireConsistency: true"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _serializer: Serializer { {"user":"    _serializer: Serializer {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _serializer: Serializer {"}}
[info] >        createReference: [Function (anonymous)], {"user":"      createReference: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createReference: [Function (anonymous)],"}}
[info] >        createInteger: [Function (anonymous)], {"user":"      createInteger: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createInteger: [Function (anonymous)],"}}
[info] >        allowUndefined: false {"user":"      allowUndefined: false","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allowUndefined: false"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _allowUndefined: false, {"user":"    _allowUndefined: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _allowUndefined: false,"}}
[info] >      _queryUtil: QueryUtil { {"user":"    _queryUtil: QueryUtil {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryUtil: QueryUtil {"}}
[info] >        _firestore: [Firestore], {"user":"      _firestore: [Firestore],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _firestore: [Firestore],"}}
[info] >        _queryOptions: [QueryOptions], {"user":"      _queryOptions: [QueryOptions],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _queryOptions: [QueryOptions],"}}
[info] >        _serializer: [Serializer] {"user":"      _serializer: [Serializer]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer]"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    _readTime: Timestamp { _seconds: 1729254820, _nanoseconds: 965074000 }, {"user":"  _readTime: Timestamp { _seconds: 1729254820, _nanoseconds: 965074000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _readTime: Timestamp { _seconds: 1729254820, _nanoseconds: 965074000 },"}}
[info] >    _size: 1, {"user":"  _size: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _size: 1,"}}
[info] >    _materializedDocs: null, {"user":"  _materializedDocs: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedDocs: null,"}}
[info] >    _materializedChanges: null, {"user":"  _materializedChanges: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedChanges: null,"}}
[info] >    _docs: [Function (anonymous)], {"user":"  _docs: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _docs: [Function (anonymous)],"}}
[info] >    _changes: [Function (anonymous)] {"user":"  _changes: [Function (anonymous)]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _changes: [Function (anonymous)]"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2024-10-18T12:33:41.409Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 82.0782ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 82.0782ms"}}
[debug] [2024-10-18T12:33:41.409Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T12:33:41.410Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:33:41.410Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:33:41.410Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] >  [ {"user":"[","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ["}}
[info] >    { {"user":"  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   {"}}
[info] >      id: 'AIxFbug16kvF6PQU0ybK', {"user":"    id: 'AIxFbug16kvF6PQU0ybK',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     id: 'AIxFbug16kvF6PQU0ybK',"}}
[info] >      productId: '2PHnd6lM4TG6lP6Y5fOc', {"user":"    productId: '2PHnd6lM4TG6lP6Y5fOc',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     productId: '2PHnd6lM4TG6lP6Y5fOc',"}}
[info] >      qty: 1, {"user":"    qty: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     qty: 1,"}}
[info] >      netPrice: 1, {"user":"    netPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     netPrice: 1,"}}
[info] >      partnerComm: 1, {"user":"    partnerComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     partnerComm: 1,"}}
[info] >      companyComm: 1, {"user":"    companyComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     companyComm: 1,"}}
[info] >      pricePerPerson: 1, {"user":"    pricePerPerson: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     pricePerPerson: 1,"}}
[info] >      minTotalPrice: 1, {"user":"    minTotalPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     minTotalPrice: 1,"}}
[info] >      totalPrice: 3, {"user":"    totalPrice: 3,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totalPrice: 3,"}}
[info] >      date: '2024-10-18', {"user":"    date: '2024-10-18',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: '2024-10-18',"}}
[info] >      cityId: 'OiCHcy7zKcp2uU3zlMPU', {"user":"    cityId: 'OiCHcy7zKcp2uU3zlMPU',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     cityId: 'OiCHcy7zKcp2uU3zlMPU',"}}
[info] >      totemId: '1LoQvuu4KzHC1ux7qfOR', {"user":"    totemId: '1LoQvuu4KzHC1ux7qfOR',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totemId: '1LoQvuu4KzHC1ux7qfOR',"}}
[info] >      purchaseId: 'zuDSRe9m9p2oU9O4Kz1o', {"user":"    purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',"}}
[info] >      customerId: 'rMuIfSk9AarUm73FZVtC', {"user":"    customerId: 'rMuIfSk9AarUm73FZVtC',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     customerId: 'rMuIfSk9AarUm73FZVtC',"}}
[info] >      timestamp: 1729177549038 {"user":"    timestamp: 1729177549038","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     timestamp: 1729177549038"}}
[info] >    } {"user":"  }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   }"}}
[info] >  ] {"user":"]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ]"}}
[debug] [2024-10-18T12:33:49.838Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:33:49.838Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:33:49.838Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:33:49.838Z"],"workRunningCount":1}
[debug] [2024-10-18T12:33:49.838Z] Accepted request GET /totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T12:33:49.841Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:33:49.841Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T12:33:49.841Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:33:49.842Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[debug] [2024-10-18T12:33:49.876Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 33.9268ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 33.9268ms"}}
[debug] [2024-10-18T12:33:49.877Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T12:33:49.877Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:33:49.877Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:33:49.877Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:33:49.880Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:33:49.880Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:33:49.880Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:33:49.880Z"],"workRunningCount":1}
[debug] [2024-10-18T12:33:49.880Z] Accepted request GET /totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T12:33:49.882Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:33:49.882Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T12:33:49.882Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:33:49.882Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[info] >  QuerySnapshot { {"user":"QuerySnapshot {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m QuerySnapshot {"}}
[info] >    _query: Query { {"user":"  _query: Query {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _query: Query {"}}
[info] >      _firestore: Firestore { {"user":"    _firestore: Firestore {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _firestore: Firestore {"}}
[info] >        _settings: [Object], {"user":"      _settings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settings: [Object],"}}
[info] >        _settingsFrozen: true, {"user":"      _settingsFrozen: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settingsFrozen: true,"}}
[info] >        _serializer: [Serializer], {"user":"      _serializer: [Serializer],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer],"}}
[info] >        _projectId: 'totem-tour', {"user":"      _projectId: 'totem-tour',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _projectId: 'totem-tour',"}}
[info] >        _databaseId: '(default)', {"user":"      _databaseId: '(default)',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _databaseId: '(default)',"}}
[info] >        registeredListenersCount: 0, {"user":"      registeredListenersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       registeredListenersCount: 0,"}}
[info] >        bulkWritersCount: 0, {"user":"      bulkWritersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       bulkWritersCount: 0,"}}
[info] >        _traceUtil: DisabledTraceUtil {}, {"user":"      _traceUtil: DisabledTraceUtil {},","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _traceUtil: DisabledTraceUtil {},"}}
[info] >        _backoffSettings: [Object], {"user":"      _backoffSettings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _backoffSettings: [Object],"}}
[info] >        _clientPool: [ClientPool], {"user":"      _clientPool: [ClientPool],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _clientPool: [ClientPool],"}}
[info] >        _gax: [Object] {"user":"      _gax: [Object]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _gax: [Object]"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _queryOptions: QueryOptions { {"user":"    _queryOptions: QueryOptions {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryOptions: QueryOptions {"}}
[info] >        parentPath: [ResourcePath], {"user":"      parentPath: [ResourcePath],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       parentPath: [ResourcePath],"}}
[info] >        collectionId: 'purchaseItems', {"user":"      collectionId: 'purchaseItems',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       collectionId: 'purchaseItems',"}}
[info] >        converter: [Object], {"user":"      converter: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       converter: [Object],"}}
[info] >        allDescendants: false, {"user":"      allDescendants: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allDescendants: false,"}}
[info] >        filters: [Array], {"user":"      filters: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       filters: [Array],"}}
[info] >        fieldOrders: [Array], {"user":"      fieldOrders: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       fieldOrders: [Array],"}}
[info] >        startAt: undefined, {"user":"      startAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       startAt: undefined,"}}
[info] >        endAt: undefined, {"user":"      endAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       endAt: undefined,"}}
[info] >        limit: undefined, {"user":"      limit: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limit: undefined,"}}
[info] >        limitType: undefined, {"user":"      limitType: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limitType: undefined,"}}
[info] >        offset: undefined, {"user":"      offset: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       offset: undefined,"}}
[info] >        projection: undefined, {"user":"      projection: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       projection: undefined,"}}
[info] >        kindless: false, {"user":"      kindless: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       kindless: false,"}}
[info] >        requireConsistency: true {"user":"      requireConsistency: true","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       requireConsistency: true"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _serializer: Serializer { {"user":"    _serializer: Serializer {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _serializer: Serializer {"}}
[info] >        createReference: [Function (anonymous)], {"user":"      createReference: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createReference: [Function (anonymous)],"}}
[info] >        createInteger: [Function (anonymous)], {"user":"      createInteger: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createInteger: [Function (anonymous)],"}}
[info] >        allowUndefined: false {"user":"      allowUndefined: false","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allowUndefined: false"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _allowUndefined: false, {"user":"    _allowUndefined: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _allowUndefined: false,"}}
[info] >      _queryUtil: QueryUtil { {"user":"    _queryUtil: QueryUtil {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryUtil: QueryUtil {"}}
[info] >        _firestore: [Firestore], {"user":"      _firestore: [Firestore],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _firestore: [Firestore],"}}
[info] >        _queryOptions: [QueryOptions], {"user":"      _queryOptions: [QueryOptions],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _queryOptions: [QueryOptions],"}}
[info] >        _serializer: [Serializer] {"user":"      _serializer: [Serializer]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer]"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    _readTime: Timestamp { _seconds: 1729254829, _nanoseconds: 528486000 }, {"user":"  _readTime: Timestamp { _seconds: 1729254829, _nanoseconds: 528486000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _readTime: Timestamp { _seconds: 1729254829, _nanoseconds: 528486000 },"}}
[info] >    _size: 1, {"user":"  _size: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _size: 1,"}}
[info] >    _materializedDocs: null, {"user":"  _materializedDocs: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedDocs: null,"}}
[info] >    _materializedChanges: null, {"user":"  _materializedChanges: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedChanges: null,"}}
[info] >    _docs: [Function (anonymous)], {"user":"  _docs: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _docs: [Function (anonymous)],"}}
[info] >    _changes: [Function (anonymous)] {"user":"  _changes: [Function (anonymous)]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _changes: [Function (anonymous)]"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2024-10-18T12:33:50.009Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 126.8053ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 126.8053ms"}}
[debug] [2024-10-18T12:33:50.010Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T12:33:50.010Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:33:50.010Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:33:50.010Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] >  [ {"user":"[","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ["}}
[info] >    { {"user":"  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   {"}}
[info] >      id: 'AIxFbug16kvF6PQU0ybK', {"user":"    id: 'AIxFbug16kvF6PQU0ybK',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     id: 'AIxFbug16kvF6PQU0ybK',"}}
[info] >      productId: '2PHnd6lM4TG6lP6Y5fOc', {"user":"    productId: '2PHnd6lM4TG6lP6Y5fOc',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     productId: '2PHnd6lM4TG6lP6Y5fOc',"}}
[info] >      qty: 1, {"user":"    qty: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     qty: 1,"}}
[info] >      netPrice: 1, {"user":"    netPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     netPrice: 1,"}}
[info] >      partnerComm: 1, {"user":"    partnerComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     partnerComm: 1,"}}
[info] >      companyComm: 1, {"user":"    companyComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     companyComm: 1,"}}
[info] >      pricePerPerson: 1, {"user":"    pricePerPerson: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     pricePerPerson: 1,"}}
[info] >      minTotalPrice: 1, {"user":"    minTotalPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     minTotalPrice: 1,"}}
[info] >      totalPrice: 3, {"user":"    totalPrice: 3,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totalPrice: 3,"}}
[info] >      date: '2024-10-18', {"user":"    date: '2024-10-18',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: '2024-10-18',"}}
[info] >      cityId: 'OiCHcy7zKcp2uU3zlMPU', {"user":"    cityId: 'OiCHcy7zKcp2uU3zlMPU',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     cityId: 'OiCHcy7zKcp2uU3zlMPU',"}}
[info] >      totemId: '1LoQvuu4KzHC1ux7qfOR', {"user":"    totemId: '1LoQvuu4KzHC1ux7qfOR',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totemId: '1LoQvuu4KzHC1ux7qfOR',"}}
[info] >      purchaseId: 'zuDSRe9m9p2oU9O4Kz1o', {"user":"    purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',"}}
[info] >      customerId: 'rMuIfSk9AarUm73FZVtC', {"user":"    customerId: 'rMuIfSk9AarUm73FZVtC',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     customerId: 'rMuIfSk9AarUm73FZVtC',"}}
[info] >      timestamp: 1729177549038 {"user":"    timestamp: 1729177549038","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     timestamp: 1729177549038"}}
[info] >    } {"user":"  }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   }"}}
[info] >  ] {"user":"]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ]"}}
[debug] [2024-10-18T12:34:13.253Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:34:13.252Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:34:13.253Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:34:13.252Z"],"workRunningCount":1}
[debug] [2024-10-18T12:34:13.253Z] Accepted request GET /totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T12:34:13.256Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:34:13.256Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T12:34:13.256Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:34:13.257Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[debug] [2024-10-18T12:34:13.301Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 44.7925ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 44.7925ms"}}
[debug] [2024-10-18T12:34:13.302Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T12:34:13.302Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:34:13.303Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:34:13.303Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:34:13.306Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:34:13.306Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:34:13.306Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:34:13.306Z"],"workRunningCount":1}
[debug] [2024-10-18T12:34:13.306Z] Accepted request GET /totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T12:34:13.309Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:34:13.309Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T12:34:13.309Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:34:13.310Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[info] >  QuerySnapshot { {"user":"QuerySnapshot {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m QuerySnapshot {"}}
[info] >    _query: Query { {"user":"  _query: Query {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _query: Query {"}}
[info] >      _firestore: Firestore { {"user":"    _firestore: Firestore {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _firestore: Firestore {"}}
[info] >        _settings: [Object], {"user":"      _settings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settings: [Object],"}}
[info] >        _settingsFrozen: true, {"user":"      _settingsFrozen: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settingsFrozen: true,"}}
[info] >        _serializer: [Serializer], {"user":"      _serializer: [Serializer],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer],"}}
[info] >        _projectId: 'totem-tour', {"user":"      _projectId: 'totem-tour',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _projectId: 'totem-tour',"}}
[info] >        _databaseId: '(default)', {"user":"      _databaseId: '(default)',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _databaseId: '(default)',"}}
[info] >        registeredListenersCount: 0, {"user":"      registeredListenersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       registeredListenersCount: 0,"}}
[info] >        bulkWritersCount: 0, {"user":"      bulkWritersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       bulkWritersCount: 0,"}}
[info] >        _traceUtil: DisabledTraceUtil {}, {"user":"      _traceUtil: DisabledTraceUtil {},","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _traceUtil: DisabledTraceUtil {},"}}
[info] >        _backoffSettings: [Object], {"user":"      _backoffSettings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _backoffSettings: [Object],"}}
[info] >        _clientPool: [ClientPool], {"user":"      _clientPool: [ClientPool],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _clientPool: [ClientPool],"}}
[info] >        _gax: [Object] {"user":"      _gax: [Object]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _gax: [Object]"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _queryOptions: QueryOptions { {"user":"    _queryOptions: QueryOptions {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryOptions: QueryOptions {"}}
[info] >        parentPath: [ResourcePath], {"user":"      parentPath: [ResourcePath],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       parentPath: [ResourcePath],"}}
[info] >        collectionId: 'purchaseItems', {"user":"      collectionId: 'purchaseItems',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       collectionId: 'purchaseItems',"}}
[info] >        converter: [Object], {"user":"      converter: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       converter: [Object],"}}
[info] >        allDescendants: false, {"user":"      allDescendants: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allDescendants: false,"}}
[info] >        filters: [Array], {"user":"      filters: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       filters: [Array],"}}
[info] >        fieldOrders: [Array], {"user":"      fieldOrders: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       fieldOrders: [Array],"}}
[info] >        startAt: undefined, {"user":"      startAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       startAt: undefined,"}}
[info] >        endAt: undefined, {"user":"      endAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       endAt: undefined,"}}
[info] >        limit: undefined, {"user":"      limit: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limit: undefined,"}}
[info] >        limitType: undefined, {"user":"      limitType: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limitType: undefined,"}}
[info] >        offset: undefined, {"user":"      offset: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       offset: undefined,"}}
[info] >        projection: undefined, {"user":"      projection: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       projection: undefined,"}}
[info] >        kindless: false, {"user":"      kindless: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       kindless: false,"}}
[info] >        requireConsistency: true {"user":"      requireConsistency: true","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       requireConsistency: true"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _serializer: Serializer { {"user":"    _serializer: Serializer {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _serializer: Serializer {"}}
[info] >        createReference: [Function (anonymous)], {"user":"      createReference: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createReference: [Function (anonymous)],"}}
[info] >        createInteger: [Function (anonymous)], {"user":"      createInteger: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createInteger: [Function (anonymous)],"}}
[info] >        allowUndefined: false {"user":"      allowUndefined: false","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allowUndefined: false"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _allowUndefined: false, {"user":"    _allowUndefined: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _allowUndefined: false,"}}
[info] >      _queryUtil: QueryUtil { {"user":"    _queryUtil: QueryUtil {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryUtil: QueryUtil {"}}
[info] >        _firestore: [Firestore], {"user":"      _firestore: [Firestore],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _firestore: [Firestore],"}}
[info] >        _queryOptions: [QueryOptions], {"user":"      _queryOptions: [QueryOptions],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _queryOptions: [QueryOptions],"}}
[info] >        _serializer: [Serializer] {"user":"      _serializer: [Serializer]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer]"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    _readTime: Timestamp { _seconds: 1729254852, _nanoseconds: 965494000 }, {"user":"  _readTime: Timestamp { _seconds: 1729254852, _nanoseconds: 965494000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _readTime: Timestamp { _seconds: 1729254852, _nanoseconds: 965494000 },"}}
[info] >    _size: 1, {"user":"  _size: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _size: 1,"}}
[info] >    _materializedDocs: null, {"user":"  _materializedDocs: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedDocs: null,"}}
[info] >    _materializedChanges: null, {"user":"  _materializedChanges: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedChanges: null,"}}
[info] >    _docs: [Function (anonymous)], {"user":"  _docs: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _docs: [Function (anonymous)],"}}
[info] >    _changes: [Function (anonymous)] {"user":"  _changes: [Function (anonymous)]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _changes: [Function (anonymous)]"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2024-10-18T12:34:13.390Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 80.5401ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 80.5401ms"}}
[debug] [2024-10-18T12:34:13.391Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T12:34:13.391Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:34:13.391Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:34:13.391Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] >  [ {"user":"[","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ["}}
[info] >    { {"user":"  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   {"}}
[info] >      id: 'AIxFbug16kvF6PQU0ybK', {"user":"    id: 'AIxFbug16kvF6PQU0ybK',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     id: 'AIxFbug16kvF6PQU0ybK',"}}
[info] >      productId: '2PHnd6lM4TG6lP6Y5fOc', {"user":"    productId: '2PHnd6lM4TG6lP6Y5fOc',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     productId: '2PHnd6lM4TG6lP6Y5fOc',"}}
[info] >      qty: 1, {"user":"    qty: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     qty: 1,"}}
[info] >      netPrice: 1, {"user":"    netPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     netPrice: 1,"}}
[info] >      partnerComm: 1, {"user":"    partnerComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     partnerComm: 1,"}}
[info] >      companyComm: 1, {"user":"    companyComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     companyComm: 1,"}}
[info] >      pricePerPerson: 1, {"user":"    pricePerPerson: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     pricePerPerson: 1,"}}
[info] >      minTotalPrice: 1, {"user":"    minTotalPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     minTotalPrice: 1,"}}
[info] >      totalPrice: 3, {"user":"    totalPrice: 3,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totalPrice: 3,"}}
[info] >      date: '2024-10-18', {"user":"    date: '2024-10-18',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: '2024-10-18',"}}
[info] >      cityId: 'OiCHcy7zKcp2uU3zlMPU', {"user":"    cityId: 'OiCHcy7zKcp2uU3zlMPU',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     cityId: 'OiCHcy7zKcp2uU3zlMPU',"}}
[info] >      totemId: '1LoQvuu4KzHC1ux7qfOR', {"user":"    totemId: '1LoQvuu4KzHC1ux7qfOR',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totemId: '1LoQvuu4KzHC1ux7qfOR',"}}
[info] >      purchaseId: 'zuDSRe9m9p2oU9O4Kz1o', {"user":"    purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',"}}
[info] >      customerId: 'rMuIfSk9AarUm73FZVtC', {"user":"    customerId: 'rMuIfSk9AarUm73FZVtC',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     customerId: 'rMuIfSk9AarUm73FZVtC',"}}
[info] >      timestamp: 1729177549038 {"user":"    timestamp: 1729177549038","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     timestamp: 1729177549038"}}
[info] >    } {"user":"  }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   }"}}
[info] >  ] {"user":"]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ]"}}
[debug] [2024-10-18T12:34:15.140Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:34:15.140Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:34:15.140Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:34:15.140Z"],"workRunningCount":1}
[debug] [2024-10-18T12:34:15.140Z] Accepted request GET /totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T12:34:15.141Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:34:15.141Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T12:34:15.141Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:34:15.142Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[debug] [2024-10-18T12:34:15.192Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 50.2744ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 50.2744ms"}}
[debug] [2024-10-18T12:34:15.194Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T12:34:15.194Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:34:15.194Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:34:15.195Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:34:15.201Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:34:15.201Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:34:15.201Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:34:15.201Z"],"workRunningCount":1}
[debug] [2024-10-18T12:34:15.201Z] Accepted request GET /totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T12:34:15.202Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:34:15.203Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T12:34:15.203Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:34:15.204Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[info] >  QuerySnapshot { {"user":"QuerySnapshot {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m QuerySnapshot {"}}
[info] >    _query: Query { {"user":"  _query: Query {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _query: Query {"}}
[info] >      _firestore: Firestore { {"user":"    _firestore: Firestore {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _firestore: Firestore {"}}
[info] >        _settings: [Object], {"user":"      _settings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settings: [Object],"}}
[info] >        _settingsFrozen: true, {"user":"      _settingsFrozen: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settingsFrozen: true,"}}
[info] >        _serializer: [Serializer], {"user":"      _serializer: [Serializer],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer],"}}
[info] >        _projectId: 'totem-tour', {"user":"      _projectId: 'totem-tour',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _projectId: 'totem-tour',"}}
[info] >        _databaseId: '(default)', {"user":"      _databaseId: '(default)',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _databaseId: '(default)',"}}
[info] >        registeredListenersCount: 0, {"user":"      registeredListenersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       registeredListenersCount: 0,"}}
[info] >        bulkWritersCount: 0, {"user":"      bulkWritersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       bulkWritersCount: 0,"}}
[info] >        _traceUtil: DisabledTraceUtil {}, {"user":"      _traceUtil: DisabledTraceUtil {},","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _traceUtil: DisabledTraceUtil {},"}}
[info] >        _backoffSettings: [Object], {"user":"      _backoffSettings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _backoffSettings: [Object],"}}
[info] >        _clientPool: [ClientPool], {"user":"      _clientPool: [ClientPool],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _clientPool: [ClientPool],"}}
[info] >        _gax: [Object] {"user":"      _gax: [Object]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _gax: [Object]"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _queryOptions: QueryOptions { {"user":"    _queryOptions: QueryOptions {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryOptions: QueryOptions {"}}
[info] >        parentPath: [ResourcePath], {"user":"      parentPath: [ResourcePath],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       parentPath: [ResourcePath],"}}
[info] >        collectionId: 'purchaseItems', {"user":"      collectionId: 'purchaseItems',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       collectionId: 'purchaseItems',"}}
[info] >        converter: [Object], {"user":"      converter: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       converter: [Object],"}}
[info] >        allDescendants: false, {"user":"      allDescendants: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allDescendants: false,"}}
[info] >        filters: [Array], {"user":"      filters: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       filters: [Array],"}}
[info] >        fieldOrders: [Array], {"user":"      fieldOrders: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       fieldOrders: [Array],"}}
[info] >        startAt: undefined, {"user":"      startAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       startAt: undefined,"}}
[info] >        endAt: undefined, {"user":"      endAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       endAt: undefined,"}}
[info] >        limit: undefined, {"user":"      limit: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limit: undefined,"}}
[info] >        limitType: undefined, {"user":"      limitType: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limitType: undefined,"}}
[info] >        offset: undefined, {"user":"      offset: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       offset: undefined,"}}
[info] >        projection: undefined, {"user":"      projection: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       projection: undefined,"}}
[info] >        kindless: false, {"user":"      kindless: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       kindless: false,"}}
[info] >        requireConsistency: true {"user":"      requireConsistency: true","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       requireConsistency: true"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _serializer: Serializer { {"user":"    _serializer: Serializer {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _serializer: Serializer {"}}
[info] >        createReference: [Function (anonymous)], {"user":"      createReference: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createReference: [Function (anonymous)],"}}
[info] >        createInteger: [Function (anonymous)], {"user":"      createInteger: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createInteger: [Function (anonymous)],"}}
[info] >        allowUndefined: false {"user":"      allowUndefined: false","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allowUndefined: false"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _allowUndefined: false, {"user":"    _allowUndefined: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _allowUndefined: false,"}}
[info] >      _queryUtil: QueryUtil { {"user":"    _queryUtil: QueryUtil {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryUtil: QueryUtil {"}}
[info] >        _firestore: [Firestore], {"user":"      _firestore: [Firestore],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _firestore: [Firestore],"}}
[info] >        _queryOptions: [QueryOptions], {"user":"      _queryOptions: [QueryOptions],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _queryOptions: [QueryOptions],"}}
[info] >        _serializer: [Serializer] {"user":"      _serializer: [Serializer]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer]"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    _readTime: Timestamp { _seconds: 1729254854, _nanoseconds: 846626000 }, {"user":"  _readTime: Timestamp { _seconds: 1729254854, _nanoseconds: 846626000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _readTime: Timestamp { _seconds: 1729254854, _nanoseconds: 846626000 },"}}
[info] >    _size: 1, {"user":"  _size: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _size: 1,"}}
[info] >    _materializedDocs: null, {"user":"  _materializedDocs: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedDocs: null,"}}
[info] >    _materializedChanges: null, {"user":"  _materializedChanges: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedChanges: null,"}}
[info] >    _docs: [Function (anonymous)], {"user":"  _docs: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _docs: [Function (anonymous)],"}}
[info] >    _changes: [Function (anonymous)] {"user":"  _changes: [Function (anonymous)]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _changes: [Function (anonymous)]"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2024-10-18T12:34:15.267Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 62.7221ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 62.7221ms"}}
[debug] [2024-10-18T12:34:15.267Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T12:34:15.267Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:34:15.267Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:34:15.267Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] >  [ {"user":"[","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ["}}
[info] >    { {"user":"  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   {"}}
[info] >      id: 'AIxFbug16kvF6PQU0ybK', {"user":"    id: 'AIxFbug16kvF6PQU0ybK',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     id: 'AIxFbug16kvF6PQU0ybK',"}}
[info] >      productId: '2PHnd6lM4TG6lP6Y5fOc', {"user":"    productId: '2PHnd6lM4TG6lP6Y5fOc',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     productId: '2PHnd6lM4TG6lP6Y5fOc',"}}
[info] >      qty: 1, {"user":"    qty: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     qty: 1,"}}
[info] >      netPrice: 1, {"user":"    netPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     netPrice: 1,"}}
[info] >      partnerComm: 1, {"user":"    partnerComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     partnerComm: 1,"}}
[info] >      companyComm: 1, {"user":"    companyComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     companyComm: 1,"}}
[info] >      pricePerPerson: 1, {"user":"    pricePerPerson: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     pricePerPerson: 1,"}}
[info] >      minTotalPrice: 1, {"user":"    minTotalPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     minTotalPrice: 1,"}}
[info] >      totalPrice: 3, {"user":"    totalPrice: 3,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totalPrice: 3,"}}
[info] >      date: '2024-10-18', {"user":"    date: '2024-10-18',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: '2024-10-18',"}}
[info] >      cityId: 'OiCHcy7zKcp2uU3zlMPU', {"user":"    cityId: 'OiCHcy7zKcp2uU3zlMPU',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     cityId: 'OiCHcy7zKcp2uU3zlMPU',"}}
[info] >      totemId: '1LoQvuu4KzHC1ux7qfOR', {"user":"    totemId: '1LoQvuu4KzHC1ux7qfOR',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totemId: '1LoQvuu4KzHC1ux7qfOR',"}}
[info] >      purchaseId: 'zuDSRe9m9p2oU9O4Kz1o', {"user":"    purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',"}}
[info] >      customerId: 'rMuIfSk9AarUm73FZVtC', {"user":"    customerId: 'rMuIfSk9AarUm73FZVtC',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     customerId: 'rMuIfSk9AarUm73FZVtC',"}}
[info] >      timestamp: 1729177549038 {"user":"    timestamp: 1729177549038","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     timestamp: 1729177549038"}}
[info] >    } {"user":"  }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   }"}}
[info] >  ] {"user":"]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ]"}}
[debug] [2024-10-18T12:34:21.295Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:34:21.295Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:34:21.295Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:34:21.295Z"],"workRunningCount":1}
[debug] [2024-10-18T12:34:21.295Z] Accepted request GET /totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T12:34:21.298Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:34:21.298Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T12:34:21.298Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:34:21.299Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[debug] [2024-10-18T12:34:21.331Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 32.7056ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 32.7056ms"}}
[debug] [2024-10-18T12:34:21.333Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T12:34:21.333Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:34:21.333Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:34:21.334Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:34:21.337Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:34:21.337Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:34:21.337Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:34:21.337Z"],"workRunningCount":1}
[debug] [2024-10-18T12:34:21.337Z] Accepted request GET /totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T12:34:21.340Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:34:21.340Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T12:34:21.340Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:34:21.341Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[info] >  QuerySnapshot { {"user":"QuerySnapshot {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m QuerySnapshot {"}}
[info] >    _query: Query { {"user":"  _query: Query {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _query: Query {"}}
[info] >      _firestore: Firestore { {"user":"    _firestore: Firestore {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _firestore: Firestore {"}}
[info] >        _settings: [Object], {"user":"      _settings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settings: [Object],"}}
[info] >        _settingsFrozen: true, {"user":"      _settingsFrozen: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settingsFrozen: true,"}}
[info] >        _serializer: [Serializer], {"user":"      _serializer: [Serializer],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer],"}}
[info] >        _projectId: 'totem-tour', {"user":"      _projectId: 'totem-tour',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _projectId: 'totem-tour',"}}
[info] >        _databaseId: '(default)', {"user":"      _databaseId: '(default)',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _databaseId: '(default)',"}}
[info] >        registeredListenersCount: 0, {"user":"      registeredListenersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       registeredListenersCount: 0,"}}
[info] >        bulkWritersCount: 0, {"user":"      bulkWritersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       bulkWritersCount: 0,"}}
[info] >        _traceUtil: DisabledTraceUtil {}, {"user":"      _traceUtil: DisabledTraceUtil {},","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _traceUtil: DisabledTraceUtil {},"}}
[info] >        _backoffSettings: [Object], {"user":"      _backoffSettings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _backoffSettings: [Object],"}}
[info] >        _clientPool: [ClientPool], {"user":"      _clientPool: [ClientPool],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _clientPool: [ClientPool],"}}
[info] >        _gax: [Object] {"user":"      _gax: [Object]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _gax: [Object]"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _queryOptions: QueryOptions { {"user":"    _queryOptions: QueryOptions {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryOptions: QueryOptions {"}}
[info] >        parentPath: [ResourcePath], {"user":"      parentPath: [ResourcePath],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       parentPath: [ResourcePath],"}}
[info] >        collectionId: 'purchaseItems', {"user":"      collectionId: 'purchaseItems',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       collectionId: 'purchaseItems',"}}
[info] >        converter: [Object], {"user":"      converter: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       converter: [Object],"}}
[info] >        allDescendants: false, {"user":"      allDescendants: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allDescendants: false,"}}
[info] >        filters: [Array], {"user":"      filters: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       filters: [Array],"}}
[info] >        fieldOrders: [Array], {"user":"      fieldOrders: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       fieldOrders: [Array],"}}
[info] >        startAt: undefined, {"user":"      startAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       startAt: undefined,"}}
[info] >        endAt: undefined, {"user":"      endAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       endAt: undefined,"}}
[info] >        limit: undefined, {"user":"      limit: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limit: undefined,"}}
[info] >        limitType: undefined, {"user":"      limitType: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limitType: undefined,"}}
[info] >        offset: undefined, {"user":"      offset: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       offset: undefined,"}}
[info] >        projection: undefined, {"user":"      projection: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       projection: undefined,"}}
[info] >        kindless: false, {"user":"      kindless: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       kindless: false,"}}
[info] >        requireConsistency: true {"user":"      requireConsistency: true","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       requireConsistency: true"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _serializer: Serializer { {"user":"    _serializer: Serializer {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _serializer: Serializer {"}}
[info] >        createReference: [Function (anonymous)], {"user":"      createReference: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createReference: [Function (anonymous)],"}}
[info] >        createInteger: [Function (anonymous)], {"user":"      createInteger: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createInteger: [Function (anonymous)],"}}
[info] >        allowUndefined: false {"user":"      allowUndefined: false","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allowUndefined: false"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _allowUndefined: false, {"user":"    _allowUndefined: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _allowUndefined: false,"}}
[info] >      _queryUtil: QueryUtil { {"user":"    _queryUtil: QueryUtil {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryUtil: QueryUtil {"}}
[info] >        _firestore: [Firestore], {"user":"      _firestore: [Firestore],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _firestore: [Firestore],"}}
[info] >        _queryOptions: [QueryOptions], {"user":"      _queryOptions: [QueryOptions],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _queryOptions: [QueryOptions],"}}
[info] >        _serializer: [Serializer] {"user":"      _serializer: [Serializer]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer]"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    _readTime: Timestamp { _seconds: 1729254860, _nanoseconds: 983390000 }, {"user":"  _readTime: Timestamp { _seconds: 1729254860, _nanoseconds: 983390000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _readTime: Timestamp { _seconds: 1729254860, _nanoseconds: 983390000 },"}}
[info] >    _size: 1, {"user":"  _size: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _size: 1,"}}
[info] >    _materializedDocs: null, {"user":"  _materializedDocs: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedDocs: null,"}}
[info] >    _materializedChanges: null, {"user":"  _materializedChanges: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedChanges: null,"}}
[info] >    _docs: [Function (anonymous)], {"user":"  _docs: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _docs: [Function (anonymous)],"}}
[info] >    _changes: [Function (anonymous)] {"user":"  _changes: [Function (anonymous)]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _changes: [Function (anonymous)]"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2024-10-18T12:34:21.404Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 62.7728ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 62.7728ms"}}
[debug] [2024-10-18T12:34:21.404Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T12:34:21.404Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:34:21.404Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:34:21.404Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] >  [ {"user":"[","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ["}}
[info] >    { {"user":"  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   {"}}
[info] >      id: 'AIxFbug16kvF6PQU0ybK', {"user":"    id: 'AIxFbug16kvF6PQU0ybK',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     id: 'AIxFbug16kvF6PQU0ybK',"}}
[info] >      productId: '2PHnd6lM4TG6lP6Y5fOc', {"user":"    productId: '2PHnd6lM4TG6lP6Y5fOc',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     productId: '2PHnd6lM4TG6lP6Y5fOc',"}}
[info] >      qty: 1, {"user":"    qty: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     qty: 1,"}}
[info] >      netPrice: 1, {"user":"    netPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     netPrice: 1,"}}
[info] >      partnerComm: 1, {"user":"    partnerComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     partnerComm: 1,"}}
[info] >      companyComm: 1, {"user":"    companyComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     companyComm: 1,"}}
[info] >      pricePerPerson: 1, {"user":"    pricePerPerson: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     pricePerPerson: 1,"}}
[info] >      minTotalPrice: 1, {"user":"    minTotalPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     minTotalPrice: 1,"}}
[info] >      totalPrice: 3, {"user":"    totalPrice: 3,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totalPrice: 3,"}}
[info] >      date: '2024-10-18', {"user":"    date: '2024-10-18',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: '2024-10-18',"}}
[info] >      cityId: 'OiCHcy7zKcp2uU3zlMPU', {"user":"    cityId: 'OiCHcy7zKcp2uU3zlMPU',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     cityId: 'OiCHcy7zKcp2uU3zlMPU',"}}
[info] >      totemId: '1LoQvuu4KzHC1ux7qfOR', {"user":"    totemId: '1LoQvuu4KzHC1ux7qfOR',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totemId: '1LoQvuu4KzHC1ux7qfOR',"}}
[info] >      purchaseId: 'zuDSRe9m9p2oU9O4Kz1o', {"user":"    purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',"}}
[info] >      customerId: 'rMuIfSk9AarUm73FZVtC', {"user":"    customerId: 'rMuIfSk9AarUm73FZVtC',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     customerId: 'rMuIfSk9AarUm73FZVtC',"}}
[info] >      timestamp: 1729177549038 {"user":"    timestamp: 1729177549038","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     timestamp: 1729177549038"}}
[info] >    } {"user":"  }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   }"}}
[info] >  ] {"user":"]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ]"}}
[debug] [2024-10-18T12:34:45.806Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:34:45.806Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:34:45.806Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:34:45.806Z"],"workRunningCount":1}
[debug] [2024-10-18T12:34:45.806Z] Accepted request GET /totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T12:34:45.810Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:34:45.810Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T12:34:45.810Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:34:45.811Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[debug] [2024-10-18T12:34:45.861Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 49.8028ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 49.8028ms"}}
[debug] [2024-10-18T12:34:45.862Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T12:34:45.862Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:34:45.862Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:34:45.862Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:34:45.865Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:34:45.865Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:34:45.865Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:34:45.865Z"],"workRunningCount":1}
[debug] [2024-10-18T12:34:45.865Z] Accepted request GET /totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T12:34:45.867Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:34:45.868Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T12:34:45.868Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:34:45.868Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[info] >  QuerySnapshot { {"user":"QuerySnapshot {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m QuerySnapshot {"}}
[info] >    _query: Query { {"user":"  _query: Query {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _query: Query {"}}
[info] >      _firestore: Firestore { {"user":"    _firestore: Firestore {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _firestore: Firestore {"}}
[info] >        _settings: [Object], {"user":"      _settings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settings: [Object],"}}
[info] >        _settingsFrozen: true, {"user":"      _settingsFrozen: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settingsFrozen: true,"}}
[info] >        _serializer: [Serializer], {"user":"      _serializer: [Serializer],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer],"}}
[info] >        _projectId: 'totem-tour', {"user":"      _projectId: 'totem-tour',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _projectId: 'totem-tour',"}}
[info] >        _databaseId: '(default)', {"user":"      _databaseId: '(default)',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _databaseId: '(default)',"}}
[info] >        registeredListenersCount: 0, {"user":"      registeredListenersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       registeredListenersCount: 0,"}}
[info] >        bulkWritersCount: 0, {"user":"      bulkWritersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       bulkWritersCount: 0,"}}
[info] >        _traceUtil: DisabledTraceUtil {}, {"user":"      _traceUtil: DisabledTraceUtil {},","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _traceUtil: DisabledTraceUtil {},"}}
[info] >        _backoffSettings: [Object], {"user":"      _backoffSettings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _backoffSettings: [Object],"}}
[info] >        _clientPool: [ClientPool], {"user":"      _clientPool: [ClientPool],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _clientPool: [ClientPool],"}}
[info] >        _gax: [Object] {"user":"      _gax: [Object]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _gax: [Object]"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _queryOptions: QueryOptions { {"user":"    _queryOptions: QueryOptions {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryOptions: QueryOptions {"}}
[info] >        parentPath: [ResourcePath], {"user":"      parentPath: [ResourcePath],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       parentPath: [ResourcePath],"}}
[info] >        collectionId: 'purchaseItems', {"user":"      collectionId: 'purchaseItems',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       collectionId: 'purchaseItems',"}}
[info] >        converter: [Object], {"user":"      converter: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       converter: [Object],"}}
[info] >        allDescendants: false, {"user":"      allDescendants: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allDescendants: false,"}}
[info] >        filters: [Array], {"user":"      filters: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       filters: [Array],"}}
[info] >        fieldOrders: [Array], {"user":"      fieldOrders: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       fieldOrders: [Array],"}}
[info] >        startAt: undefined, {"user":"      startAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       startAt: undefined,"}}
[info] >        endAt: undefined, {"user":"      endAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       endAt: undefined,"}}
[info] >        limit: undefined, {"user":"      limit: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limit: undefined,"}}
[info] >        limitType: undefined, {"user":"      limitType: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limitType: undefined,"}}
[info] >        offset: undefined, {"user":"      offset: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       offset: undefined,"}}
[info] >        projection: undefined, {"user":"      projection: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       projection: undefined,"}}
[info] >        kindless: false, {"user":"      kindless: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       kindless: false,"}}
[info] >        requireConsistency: true {"user":"      requireConsistency: true","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       requireConsistency: true"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _serializer: Serializer { {"user":"    _serializer: Serializer {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _serializer: Serializer {"}}
[info] >        createReference: [Function (anonymous)], {"user":"      createReference: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createReference: [Function (anonymous)],"}}
[info] >        createInteger: [Function (anonymous)], {"user":"      createInteger: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createInteger: [Function (anonymous)],"}}
[info] >        allowUndefined: false {"user":"      allowUndefined: false","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allowUndefined: false"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _allowUndefined: false, {"user":"    _allowUndefined: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _allowUndefined: false,"}}
[info] >      _queryUtil: QueryUtil { {"user":"    _queryUtil: QueryUtil {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryUtil: QueryUtil {"}}
[info] >        _firestore: [Firestore], {"user":"      _firestore: [Firestore],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _firestore: [Firestore],"}}
[info] >        _queryOptions: [QueryOptions], {"user":"      _queryOptions: [QueryOptions],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _queryOptions: [QueryOptions],"}}
[info] >        _serializer: [Serializer] {"user":"      _serializer: [Serializer]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer]"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    _readTime: Timestamp { _seconds: 1729254885, _nanoseconds: 514279000 }, {"user":"  _readTime: Timestamp { _seconds: 1729254885, _nanoseconds: 514279000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _readTime: Timestamp { _seconds: 1729254885, _nanoseconds: 514279000 },"}}
[info] >    _size: 1, {"user":"  _size: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _size: 1,"}}
[info] >    _materializedDocs: null, {"user":"  _materializedDocs: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedDocs: null,"}}
[info] >    _materializedChanges: null, {"user":"  _materializedChanges: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedChanges: null,"}}
[info] >    _docs: [Function (anonymous)], {"user":"  _docs: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _docs: [Function (anonymous)],"}}
[info] >    _changes: [Function (anonymous)] {"user":"  _changes: [Function (anonymous)]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _changes: [Function (anonymous)]"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2024-10-18T12:34:45.937Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 68.6889ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 68.6889ms"}}
[debug] [2024-10-18T12:34:45.937Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T12:34:45.938Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:34:45.938Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:34:45.938Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] >  [ {"user":"[","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ["}}
[info] >    { {"user":"  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   {"}}
[info] >      id: 'AIxFbug16kvF6PQU0ybK', {"user":"    id: 'AIxFbug16kvF6PQU0ybK',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     id: 'AIxFbug16kvF6PQU0ybK',"}}
[info] >      productId: '2PHnd6lM4TG6lP6Y5fOc', {"user":"    productId: '2PHnd6lM4TG6lP6Y5fOc',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     productId: '2PHnd6lM4TG6lP6Y5fOc',"}}
[info] >      qty: 1, {"user":"    qty: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     qty: 1,"}}
[info] >      netPrice: 1, {"user":"    netPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     netPrice: 1,"}}
[info] >      partnerComm: 1, {"user":"    partnerComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     partnerComm: 1,"}}
[info] >      companyComm: 1, {"user":"    companyComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     companyComm: 1,"}}
[info] >      pricePerPerson: 1, {"user":"    pricePerPerson: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     pricePerPerson: 1,"}}
[info] >      minTotalPrice: 1, {"user":"    minTotalPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     minTotalPrice: 1,"}}
[info] >      totalPrice: 3, {"user":"    totalPrice: 3,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totalPrice: 3,"}}
[info] >      date: '2024-10-18', {"user":"    date: '2024-10-18',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: '2024-10-18',"}}
[info] >      cityId: 'OiCHcy7zKcp2uU3zlMPU', {"user":"    cityId: 'OiCHcy7zKcp2uU3zlMPU',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     cityId: 'OiCHcy7zKcp2uU3zlMPU',"}}
[info] >      totemId: '1LoQvuu4KzHC1ux7qfOR', {"user":"    totemId: '1LoQvuu4KzHC1ux7qfOR',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totemId: '1LoQvuu4KzHC1ux7qfOR',"}}
[info] >      purchaseId: 'zuDSRe9m9p2oU9O4Kz1o', {"user":"    purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',"}}
[info] >      customerId: 'rMuIfSk9AarUm73FZVtC', {"user":"    customerId: 'rMuIfSk9AarUm73FZVtC',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     customerId: 'rMuIfSk9AarUm73FZVtC',"}}
[info] >      timestamp: 1729177549038 {"user":"    timestamp: 1729177549038","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     timestamp: 1729177549038"}}
[info] >    } {"user":"  }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   }"}}
[info] >  ] {"user":"]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ]"}}
[debug] [2024-10-18T12:34:56.534Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:34:56.534Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:34:56.534Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:34:56.534Z"],"workRunningCount":1}
[debug] [2024-10-18T12:34:56.534Z] Accepted request GET /totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T12:34:56.537Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:34:56.538Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T12:34:56.538Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:34:56.538Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[debug] [2024-10-18T12:34:56.574Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 35.8634ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 35.8634ms"}}
[debug] [2024-10-18T12:34:56.575Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T12:34:56.575Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:34:56.575Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:34:56.575Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:34:56.581Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:34:56.581Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:34:56.582Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:34:56.581Z"],"workRunningCount":1}
[debug] [2024-10-18T12:34:56.582Z] Accepted request GET /totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T12:34:56.585Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:34:56.585Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T12:34:56.585Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:34:56.586Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[info] >  QuerySnapshot { {"user":"QuerySnapshot {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m QuerySnapshot {"}}
[info] >    _query: Query { {"user":"  _query: Query {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _query: Query {"}}
[info] >      _firestore: Firestore { {"user":"    _firestore: Firestore {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _firestore: Firestore {"}}
[info] >        _settings: [Object], {"user":"      _settings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settings: [Object],"}}
[info] >        _settingsFrozen: true, {"user":"      _settingsFrozen: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settingsFrozen: true,"}}
[info] >        _serializer: [Serializer], {"user":"      _serializer: [Serializer],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer],"}}
[info] >        _projectId: 'totem-tour', {"user":"      _projectId: 'totem-tour',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _projectId: 'totem-tour',"}}
[info] >        _databaseId: '(default)', {"user":"      _databaseId: '(default)',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _databaseId: '(default)',"}}
[info] >        registeredListenersCount: 0, {"user":"      registeredListenersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       registeredListenersCount: 0,"}}
[info] >        bulkWritersCount: 0, {"user":"      bulkWritersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       bulkWritersCount: 0,"}}
[info] >        _traceUtil: DisabledTraceUtil {}, {"user":"      _traceUtil: DisabledTraceUtil {},","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _traceUtil: DisabledTraceUtil {},"}}
[info] >        _backoffSettings: [Object], {"user":"      _backoffSettings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _backoffSettings: [Object],"}}
[info] >        _clientPool: [ClientPool], {"user":"      _clientPool: [ClientPool],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _clientPool: [ClientPool],"}}
[info] >        _gax: [Object] {"user":"      _gax: [Object]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _gax: [Object]"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _queryOptions: QueryOptions { {"user":"    _queryOptions: QueryOptions {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryOptions: QueryOptions {"}}
[info] >        parentPath: [ResourcePath], {"user":"      parentPath: [ResourcePath],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       parentPath: [ResourcePath],"}}
[info] >        collectionId: 'purchaseItems', {"user":"      collectionId: 'purchaseItems',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       collectionId: 'purchaseItems',"}}
[info] >        converter: [Object], {"user":"      converter: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       converter: [Object],"}}
[info] >        allDescendants: false, {"user":"      allDescendants: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allDescendants: false,"}}
[info] >        filters: [Array], {"user":"      filters: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       filters: [Array],"}}
[info] >        fieldOrders: [Array], {"user":"      fieldOrders: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       fieldOrders: [Array],"}}
[info] >        startAt: undefined, {"user":"      startAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       startAt: undefined,"}}
[info] >        endAt: undefined, {"user":"      endAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       endAt: undefined,"}}
[info] >        limit: undefined, {"user":"      limit: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limit: undefined,"}}
[info] >        limitType: undefined, {"user":"      limitType: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limitType: undefined,"}}
[info] >        offset: undefined, {"user":"      offset: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       offset: undefined,"}}
[info] >        projection: undefined, {"user":"      projection: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       projection: undefined,"}}
[info] >        kindless: false, {"user":"      kindless: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       kindless: false,"}}
[info] >        requireConsistency: true {"user":"      requireConsistency: true","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       requireConsistency: true"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _serializer: Serializer { {"user":"    _serializer: Serializer {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _serializer: Serializer {"}}
[info] >        createReference: [Function (anonymous)], {"user":"      createReference: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createReference: [Function (anonymous)],"}}
[info] >        createInteger: [Function (anonymous)], {"user":"      createInteger: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createInteger: [Function (anonymous)],"}}
[info] >        allowUndefined: false {"user":"      allowUndefined: false","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allowUndefined: false"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _allowUndefined: false, {"user":"    _allowUndefined: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _allowUndefined: false,"}}
[info] >      _queryUtil: QueryUtil { {"user":"    _queryUtil: QueryUtil {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryUtil: QueryUtil {"}}
[info] >        _firestore: [Firestore], {"user":"      _firestore: [Firestore],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _firestore: [Firestore],"}}
[info] >        _queryOptions: [QueryOptions], {"user":"      _queryOptions: [QueryOptions],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _queryOptions: [QueryOptions],"}}
[info] >        _serializer: [Serializer] {"user":"      _serializer: [Serializer]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer]"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    _readTime: Timestamp { _seconds: 1729254896, _nanoseconds: 236868000 }, {"user":"  _readTime: Timestamp { _seconds: 1729254896, _nanoseconds: 236868000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _readTime: Timestamp { _seconds: 1729254896, _nanoseconds: 236868000 },"}}
[info] >    _size: 1, {"user":"  _size: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _size: 1,"}}
[info] >    _materializedDocs: null, {"user":"  _materializedDocs: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedDocs: null,"}}
[info] >    _materializedChanges: null, {"user":"  _materializedChanges: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedChanges: null,"}}
[info] >    _docs: [Function (anonymous)], {"user":"  _docs: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _docs: [Function (anonymous)],"}}
[info] >    _changes: [Function (anonymous)] {"user":"  _changes: [Function (anonymous)]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _changes: [Function (anonymous)]"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2024-10-18T12:34:56.650Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 63.8184ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 63.8184ms"}}
[debug] [2024-10-18T12:34:56.650Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T12:34:56.650Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:34:56.650Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:34:56.650Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] >  [ {"user":"[","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ["}}
[info] >    { {"user":"  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   {"}}
[info] >      id: 'AIxFbug16kvF6PQU0ybK', {"user":"    id: 'AIxFbug16kvF6PQU0ybK',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     id: 'AIxFbug16kvF6PQU0ybK',"}}
[info] >      productId: '2PHnd6lM4TG6lP6Y5fOc', {"user":"    productId: '2PHnd6lM4TG6lP6Y5fOc',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     productId: '2PHnd6lM4TG6lP6Y5fOc',"}}
[info] >      qty: 1, {"user":"    qty: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     qty: 1,"}}
[info] >      netPrice: 1, {"user":"    netPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     netPrice: 1,"}}
[info] >      partnerComm: 1, {"user":"    partnerComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     partnerComm: 1,"}}
[info] >      companyComm: 1, {"user":"    companyComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     companyComm: 1,"}}
[info] >      pricePerPerson: 1, {"user":"    pricePerPerson: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     pricePerPerson: 1,"}}
[info] >      minTotalPrice: 1, {"user":"    minTotalPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     minTotalPrice: 1,"}}
[info] >      totalPrice: 3, {"user":"    totalPrice: 3,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totalPrice: 3,"}}
[info] >      date: '2024-10-18', {"user":"    date: '2024-10-18',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: '2024-10-18',"}}
[info] >      cityId: 'OiCHcy7zKcp2uU3zlMPU', {"user":"    cityId: 'OiCHcy7zKcp2uU3zlMPU',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     cityId: 'OiCHcy7zKcp2uU3zlMPU',"}}
[info] >      totemId: '1LoQvuu4KzHC1ux7qfOR', {"user":"    totemId: '1LoQvuu4KzHC1ux7qfOR',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totemId: '1LoQvuu4KzHC1ux7qfOR',"}}
[info] >      purchaseId: 'zuDSRe9m9p2oU9O4Kz1o', {"user":"    purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',"}}
[info] >      customerId: 'rMuIfSk9AarUm73FZVtC', {"user":"    customerId: 'rMuIfSk9AarUm73FZVtC',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     customerId: 'rMuIfSk9AarUm73FZVtC',"}}
[info] >      timestamp: 1729177549038 {"user":"    timestamp: 1729177549038","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     timestamp: 1729177549038"}}
[info] >    } {"user":"  }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   }"}}
[info] >  ] {"user":"]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ]"}}
[debug] [2024-10-18T12:35:02.246Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:35:02.246Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:35:02.246Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:35:02.246Z"],"workRunningCount":1}
[debug] [2024-10-18T12:35:02.246Z] Accepted request GET /totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T12:35:02.248Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:35:02.248Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T12:35:02.248Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:35:02.249Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[debug] [2024-10-18T12:35:02.281Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 32.413ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 32.413ms"}}
[debug] [2024-10-18T12:35:02.282Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T12:35:02.282Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:35:02.283Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:35:02.283Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:35:02.286Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:35:02.286Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:35:02.287Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:35:02.286Z"],"workRunningCount":1}
[debug] [2024-10-18T12:35:02.287Z] Accepted request GET /totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T12:35:02.289Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:35:02.289Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T12:35:02.289Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:35:02.290Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[info] >  QuerySnapshot { {"user":"QuerySnapshot {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m QuerySnapshot {"}}
[info] >    _query: Query { {"user":"  _query: Query {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _query: Query {"}}
[info] >      _firestore: Firestore { {"user":"    _firestore: Firestore {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _firestore: Firestore {"}}
[info] >        _settings: [Object], {"user":"      _settings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settings: [Object],"}}
[info] >        _settingsFrozen: true, {"user":"      _settingsFrozen: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settingsFrozen: true,"}}
[info] >        _serializer: [Serializer], {"user":"      _serializer: [Serializer],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer],"}}
[info] >        _projectId: 'totem-tour', {"user":"      _projectId: 'totem-tour',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _projectId: 'totem-tour',"}}
[info] >        _databaseId: '(default)', {"user":"      _databaseId: '(default)',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _databaseId: '(default)',"}}
[info] >        registeredListenersCount: 0, {"user":"      registeredListenersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       registeredListenersCount: 0,"}}
[info] >        bulkWritersCount: 0, {"user":"      bulkWritersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       bulkWritersCount: 0,"}}
[info] >        _traceUtil: DisabledTraceUtil {}, {"user":"      _traceUtil: DisabledTraceUtil {},","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _traceUtil: DisabledTraceUtil {},"}}
[info] >        _backoffSettings: [Object], {"user":"      _backoffSettings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _backoffSettings: [Object],"}}
[info] >        _clientPool: [ClientPool], {"user":"      _clientPool: [ClientPool],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _clientPool: [ClientPool],"}}
[info] >        _gax: [Object] {"user":"      _gax: [Object]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _gax: [Object]"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _queryOptions: QueryOptions { {"user":"    _queryOptions: QueryOptions {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryOptions: QueryOptions {"}}
[info] >        parentPath: [ResourcePath], {"user":"      parentPath: [ResourcePath],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       parentPath: [ResourcePath],"}}
[info] >        collectionId: 'purchaseItems', {"user":"      collectionId: 'purchaseItems',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       collectionId: 'purchaseItems',"}}
[info] >        converter: [Object], {"user":"      converter: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       converter: [Object],"}}
[info] >        allDescendants: false, {"user":"      allDescendants: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allDescendants: false,"}}
[info] >        filters: [Array], {"user":"      filters: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       filters: [Array],"}}
[info] >        fieldOrders: [Array], {"user":"      fieldOrders: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       fieldOrders: [Array],"}}
[info] >        startAt: undefined, {"user":"      startAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       startAt: undefined,"}}
[info] >        endAt: undefined, {"user":"      endAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       endAt: undefined,"}}
[info] >        limit: undefined, {"user":"      limit: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limit: undefined,"}}
[info] >        limitType: undefined, {"user":"      limitType: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limitType: undefined,"}}
[info] >        offset: undefined, {"user":"      offset: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       offset: undefined,"}}
[info] >        projection: undefined, {"user":"      projection: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       projection: undefined,"}}
[info] >        kindless: false, {"user":"      kindless: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       kindless: false,"}}
[info] >        requireConsistency: true {"user":"      requireConsistency: true","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       requireConsistency: true"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _serializer: Serializer { {"user":"    _serializer: Serializer {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _serializer: Serializer {"}}
[info] >        createReference: [Function (anonymous)], {"user":"      createReference: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createReference: [Function (anonymous)],"}}
[info] >        createInteger: [Function (anonymous)], {"user":"      createInteger: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createInteger: [Function (anonymous)],"}}
[info] >        allowUndefined: false {"user":"      allowUndefined: false","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allowUndefined: false"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _allowUndefined: false, {"user":"    _allowUndefined: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _allowUndefined: false,"}}
[info] >      _queryUtil: QueryUtil { {"user":"    _queryUtil: QueryUtil {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryUtil: QueryUtil {"}}
[info] >        _firestore: [Firestore], {"user":"      _firestore: [Firestore],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _firestore: [Firestore],"}}
[info] >        _queryOptions: [QueryOptions], {"user":"      _queryOptions: [QueryOptions],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _queryOptions: [QueryOptions],"}}
[info] >        _serializer: [Serializer] {"user":"      _serializer: [Serializer]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer]"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    _readTime: Timestamp { _seconds: 1729254901, _nanoseconds: 927393000 }, {"user":"  _readTime: Timestamp { _seconds: 1729254901, _nanoseconds: 927393000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _readTime: Timestamp { _seconds: 1729254901, _nanoseconds: 927393000 },"}}
[info] >    _size: 1, {"user":"  _size: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _size: 1,"}}
[info] >    _materializedDocs: null, {"user":"  _materializedDocs: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedDocs: null,"}}
[info] >    _materializedChanges: null, {"user":"  _materializedChanges: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedChanges: null,"}}
[info] >    _docs: [Function (anonymous)], {"user":"  _docs: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _docs: [Function (anonymous)],"}}
[info] >    _changes: [Function (anonymous)] {"user":"  _changes: [Function (anonymous)]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _changes: [Function (anonymous)]"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2024-10-18T12:35:02.351Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 61.8683ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 61.8683ms"}}
[debug] [2024-10-18T12:35:02.352Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T12:35:02.352Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:35:02.352Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:35:02.352Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] >  [ {"user":"[","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ["}}
[info] >    { {"user":"  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   {"}}
[info] >      id: 'AIxFbug16kvF6PQU0ybK', {"user":"    id: 'AIxFbug16kvF6PQU0ybK',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     id: 'AIxFbug16kvF6PQU0ybK',"}}
[info] >      productId: '2PHnd6lM4TG6lP6Y5fOc', {"user":"    productId: '2PHnd6lM4TG6lP6Y5fOc',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     productId: '2PHnd6lM4TG6lP6Y5fOc',"}}
[info] >      qty: 1, {"user":"    qty: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     qty: 1,"}}
[info] >      netPrice: 1, {"user":"    netPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     netPrice: 1,"}}
[info] >      partnerComm: 1, {"user":"    partnerComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     partnerComm: 1,"}}
[info] >      companyComm: 1, {"user":"    companyComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     companyComm: 1,"}}
[info] >      pricePerPerson: 1, {"user":"    pricePerPerson: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     pricePerPerson: 1,"}}
[info] >      minTotalPrice: 1, {"user":"    minTotalPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     minTotalPrice: 1,"}}
[info] >      totalPrice: 3, {"user":"    totalPrice: 3,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totalPrice: 3,"}}
[info] >      date: '2024-10-18', {"user":"    date: '2024-10-18',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: '2024-10-18',"}}
[info] >      cityId: 'OiCHcy7zKcp2uU3zlMPU', {"user":"    cityId: 'OiCHcy7zKcp2uU3zlMPU',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     cityId: 'OiCHcy7zKcp2uU3zlMPU',"}}
[info] >      totemId: '1LoQvuu4KzHC1ux7qfOR', {"user":"    totemId: '1LoQvuu4KzHC1ux7qfOR',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totemId: '1LoQvuu4KzHC1ux7qfOR',"}}
[info] >      purchaseId: 'zuDSRe9m9p2oU9O4Kz1o', {"user":"    purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',"}}
[info] >      customerId: 'rMuIfSk9AarUm73FZVtC', {"user":"    customerId: 'rMuIfSk9AarUm73FZVtC',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     customerId: 'rMuIfSk9AarUm73FZVtC',"}}
[info] >      timestamp: 1729177549038 {"user":"    timestamp: 1729177549038","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     timestamp: 1729177549038"}}
[info] >    } {"user":"  }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   }"}}
[info] >  ] {"user":"]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ]"}}
[debug] [2024-10-18T12:35:06.282Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:35:06.282Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:35:06.282Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:35:06.282Z"],"workRunningCount":1}
[debug] [2024-10-18T12:35:06.282Z] Accepted request GET /totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T12:35:06.283Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:35:06.283Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T12:35:06.283Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:35:06.284Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[debug] [2024-10-18T12:35:06.327Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 43.5206ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 43.5206ms"}}
[debug] [2024-10-18T12:35:06.328Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T12:35:06.328Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:35:06.328Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:35:06.328Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:35:06.368Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:35:06.368Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:35:06.368Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:35:06.368Z"],"workRunningCount":1}
[debug] [2024-10-18T12:35:06.368Z] Accepted request GET /totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T12:35:06.369Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:35:06.369Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T12:35:06.369Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:35:06.370Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[info] >  QuerySnapshot { {"user":"QuerySnapshot {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m QuerySnapshot {"}}
[info] >    _query: Query { {"user":"  _query: Query {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _query: Query {"}}
[info] >      _firestore: Firestore { {"user":"    _firestore: Firestore {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _firestore: Firestore {"}}
[info] >        _settings: [Object], {"user":"      _settings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settings: [Object],"}}
[info] >        _settingsFrozen: true, {"user":"      _settingsFrozen: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settingsFrozen: true,"}}
[info] >        _serializer: [Serializer], {"user":"      _serializer: [Serializer],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer],"}}
[info] >        _projectId: 'totem-tour', {"user":"      _projectId: 'totem-tour',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _projectId: 'totem-tour',"}}
[info] >        _databaseId: '(default)', {"user":"      _databaseId: '(default)',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _databaseId: '(default)',"}}
[info] >        registeredListenersCount: 0, {"user":"      registeredListenersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       registeredListenersCount: 0,"}}
[info] >        bulkWritersCount: 0, {"user":"      bulkWritersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       bulkWritersCount: 0,"}}
[info] >        _traceUtil: DisabledTraceUtil {}, {"user":"      _traceUtil: DisabledTraceUtil {},","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _traceUtil: DisabledTraceUtil {},"}}
[info] >        _backoffSettings: [Object], {"user":"      _backoffSettings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _backoffSettings: [Object],"}}
[info] >        _clientPool: [ClientPool], {"user":"      _clientPool: [ClientPool],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _clientPool: [ClientPool],"}}
[info] >        _gax: [Object] {"user":"      _gax: [Object]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _gax: [Object]"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _queryOptions: QueryOptions { {"user":"    _queryOptions: QueryOptions {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryOptions: QueryOptions {"}}
[info] >        parentPath: [ResourcePath], {"user":"      parentPath: [ResourcePath],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       parentPath: [ResourcePath],"}}
[info] >        collectionId: 'purchaseItems', {"user":"      collectionId: 'purchaseItems',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       collectionId: 'purchaseItems',"}}
[info] >        converter: [Object], {"user":"      converter: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       converter: [Object],"}}
[info] >        allDescendants: false, {"user":"      allDescendants: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allDescendants: false,"}}
[info] >        filters: [Array], {"user":"      filters: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       filters: [Array],"}}
[info] >        fieldOrders: [Array], {"user":"      fieldOrders: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       fieldOrders: [Array],"}}
[info] >        startAt: undefined, {"user":"      startAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       startAt: undefined,"}}
[info] >        endAt: undefined, {"user":"      endAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       endAt: undefined,"}}
[info] >        limit: undefined, {"user":"      limit: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limit: undefined,"}}
[info] >        limitType: undefined, {"user":"      limitType: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limitType: undefined,"}}
[info] >        offset: undefined, {"user":"      offset: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       offset: undefined,"}}
[info] >        projection: undefined, {"user":"      projection: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       projection: undefined,"}}
[info] >        kindless: false, {"user":"      kindless: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       kindless: false,"}}
[info] >        requireConsistency: true {"user":"      requireConsistency: true","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       requireConsistency: true"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _serializer: Serializer { {"user":"    _serializer: Serializer {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _serializer: Serializer {"}}
[info] >        createReference: [Function (anonymous)], {"user":"      createReference: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createReference: [Function (anonymous)],"}}
[info] >        createInteger: [Function (anonymous)], {"user":"      createInteger: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createInteger: [Function (anonymous)],"}}
[info] >        allowUndefined: false {"user":"      allowUndefined: false","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allowUndefined: false"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _allowUndefined: false, {"user":"    _allowUndefined: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _allowUndefined: false,"}}
[info] >      _queryUtil: QueryUtil { {"user":"    _queryUtil: QueryUtil {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryUtil: QueryUtil {"}}
[info] >        _firestore: [Firestore], {"user":"      _firestore: [Firestore],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _firestore: [Firestore],"}}
[info] >        _queryOptions: [QueryOptions], {"user":"      _queryOptions: [QueryOptions],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _queryOptions: [QueryOptions],"}}
[info] >        _serializer: [Serializer] {"user":"      _serializer: [Serializer]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer]"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    _readTime: Timestamp { _seconds: 1729254906, _nanoseconds: 20064000 }, {"user":"  _readTime: Timestamp { _seconds: 1729254906, _nanoseconds: 20064000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _readTime: Timestamp { _seconds: 1729254906, _nanoseconds: 20064000 },"}}
[info] >    _size: 1, {"user":"  _size: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _size: 1,"}}
[info] >    _materializedDocs: null, {"user":"  _materializedDocs: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedDocs: null,"}}
[info] >    _materializedChanges: null, {"user":"  _materializedChanges: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedChanges: null,"}}
[info] >    _docs: [Function (anonymous)], {"user":"  _docs: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _docs: [Function (anonymous)],"}}
[info] >    _changes: [Function (anonymous)] {"user":"  _changes: [Function (anonymous)]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _changes: [Function (anonymous)]"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2024-10-18T12:35:06.474Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 104.577ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 104.577ms"}}
[debug] [2024-10-18T12:35:06.475Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T12:35:06.475Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:35:06.475Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:35:06.475Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] >  [ {"user":"[","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ["}}
[info] >    { {"user":"  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   {"}}
[info] >      id: 'AIxFbug16kvF6PQU0ybK', {"user":"    id: 'AIxFbug16kvF6PQU0ybK',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     id: 'AIxFbug16kvF6PQU0ybK',"}}
[info] >      productId: '2PHnd6lM4TG6lP6Y5fOc', {"user":"    productId: '2PHnd6lM4TG6lP6Y5fOc',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     productId: '2PHnd6lM4TG6lP6Y5fOc',"}}
[info] >      qty: 1, {"user":"    qty: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     qty: 1,"}}
[info] >      netPrice: 1, {"user":"    netPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     netPrice: 1,"}}
[info] >      partnerComm: 1, {"user":"    partnerComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     partnerComm: 1,"}}
[info] >      companyComm: 1, {"user":"    companyComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     companyComm: 1,"}}
[info] >      pricePerPerson: 1, {"user":"    pricePerPerson: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     pricePerPerson: 1,"}}
[info] >      minTotalPrice: 1, {"user":"    minTotalPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     minTotalPrice: 1,"}}
[info] >      totalPrice: 3, {"user":"    totalPrice: 3,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totalPrice: 3,"}}
[info] >      date: '2024-10-18', {"user":"    date: '2024-10-18',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: '2024-10-18',"}}
[info] >      cityId: 'OiCHcy7zKcp2uU3zlMPU', {"user":"    cityId: 'OiCHcy7zKcp2uU3zlMPU',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     cityId: 'OiCHcy7zKcp2uU3zlMPU',"}}
[info] >      totemId: '1LoQvuu4KzHC1ux7qfOR', {"user":"    totemId: '1LoQvuu4KzHC1ux7qfOR',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totemId: '1LoQvuu4KzHC1ux7qfOR',"}}
[info] >      purchaseId: 'zuDSRe9m9p2oU9O4Kz1o', {"user":"    purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',"}}
[info] >      customerId: 'rMuIfSk9AarUm73FZVtC', {"user":"    customerId: 'rMuIfSk9AarUm73FZVtC',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     customerId: 'rMuIfSk9AarUm73FZVtC',"}}
[info] >      timestamp: 1729177549038 {"user":"    timestamp: 1729177549038","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     timestamp: 1729177549038"}}
[info] >    } {"user":"  }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   }"}}
[info] >  ] {"user":"]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ]"}}
[debug] [2024-10-18T12:35:14.768Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:35:14.768Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:35:14.768Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:35:14.768Z"],"workRunningCount":1}
[debug] [2024-10-18T12:35:14.768Z] Accepted request GET /totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T12:35:14.770Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:35:14.770Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T12:35:14.771Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:35:14.771Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[debug] [2024-10-18T12:35:14.806Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 35.1915ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 35.1915ms"}}
[debug] [2024-10-18T12:35:14.807Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T12:35:14.807Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:35:14.807Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:35:14.807Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:35:14.810Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:35:14.810Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:35:14.810Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:35:14.810Z"],"workRunningCount":1}
[debug] [2024-10-18T12:35:14.810Z] Accepted request GET /totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T12:35:14.812Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:35:14.812Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T12:35:14.812Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:35:14.813Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[info] >  QuerySnapshot { {"user":"QuerySnapshot {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m QuerySnapshot {"}}
[info] >    _query: Query { {"user":"  _query: Query {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _query: Query {"}}
[info] >      _firestore: Firestore { {"user":"    _firestore: Firestore {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _firestore: Firestore {"}}
[info] >        _settings: [Object], {"user":"      _settings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settings: [Object],"}}
[info] >        _settingsFrozen: true, {"user":"      _settingsFrozen: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settingsFrozen: true,"}}
[info] >        _serializer: [Serializer], {"user":"      _serializer: [Serializer],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer],"}}
[info] >        _projectId: 'totem-tour', {"user":"      _projectId: 'totem-tour',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _projectId: 'totem-tour',"}}
[info] >        _databaseId: '(default)', {"user":"      _databaseId: '(default)',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _databaseId: '(default)',"}}
[info] >        registeredListenersCount: 0, {"user":"      registeredListenersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       registeredListenersCount: 0,"}}
[info] >        bulkWritersCount: 0, {"user":"      bulkWritersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       bulkWritersCount: 0,"}}
[info] >        _traceUtil: DisabledTraceUtil {}, {"user":"      _traceUtil: DisabledTraceUtil {},","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _traceUtil: DisabledTraceUtil {},"}}
[info] >        _backoffSettings: [Object], {"user":"      _backoffSettings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _backoffSettings: [Object],"}}
[info] >        _clientPool: [ClientPool], {"user":"      _clientPool: [ClientPool],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _clientPool: [ClientPool],"}}
[info] >        _gax: [Object] {"user":"      _gax: [Object]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _gax: [Object]"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _queryOptions: QueryOptions { {"user":"    _queryOptions: QueryOptions {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryOptions: QueryOptions {"}}
[info] >        parentPath: [ResourcePath], {"user":"      parentPath: [ResourcePath],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       parentPath: [ResourcePath],"}}
[info] >        collectionId: 'purchaseItems', {"user":"      collectionId: 'purchaseItems',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       collectionId: 'purchaseItems',"}}
[info] >        converter: [Object], {"user":"      converter: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       converter: [Object],"}}
[info] >        allDescendants: false, {"user":"      allDescendants: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allDescendants: false,"}}
[info] >        filters: [Array], {"user":"      filters: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       filters: [Array],"}}
[info] >        fieldOrders: [Array], {"user":"      fieldOrders: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       fieldOrders: [Array],"}}
[info] >        startAt: undefined, {"user":"      startAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       startAt: undefined,"}}
[info] >        endAt: undefined, {"user":"      endAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       endAt: undefined,"}}
[info] >        limit: undefined, {"user":"      limit: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limit: undefined,"}}
[info] >        limitType: undefined, {"user":"      limitType: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limitType: undefined,"}}
[info] >        offset: undefined, {"user":"      offset: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       offset: undefined,"}}
[info] >        projection: undefined, {"user":"      projection: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       projection: undefined,"}}
[info] >        kindless: false, {"user":"      kindless: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       kindless: false,"}}
[info] >        requireConsistency: true {"user":"      requireConsistency: true","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       requireConsistency: true"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _serializer: Serializer { {"user":"    _serializer: Serializer {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _serializer: Serializer {"}}
[info] >        createReference: [Function (anonymous)], {"user":"      createReference: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createReference: [Function (anonymous)],"}}
[info] >        createInteger: [Function (anonymous)], {"user":"      createInteger: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createInteger: [Function (anonymous)],"}}
[info] >        allowUndefined: false {"user":"      allowUndefined: false","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allowUndefined: false"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _allowUndefined: false, {"user":"    _allowUndefined: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _allowUndefined: false,"}}
[info] >      _queryUtil: QueryUtil { {"user":"    _queryUtil: QueryUtil {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryUtil: QueryUtil {"}}
[info] >        _firestore: [Firestore], {"user":"      _firestore: [Firestore],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _firestore: [Firestore],"}}
[info] >        _queryOptions: [QueryOptions], {"user":"      _queryOptions: [QueryOptions],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _queryOptions: [QueryOptions],"}}
[info] >        _serializer: [Serializer] {"user":"      _serializer: [Serializer]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer]"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    _readTime: Timestamp { _seconds: 1729254914, _nanoseconds: 453647000 }, {"user":"  _readTime: Timestamp { _seconds: 1729254914, _nanoseconds: 453647000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _readTime: Timestamp { _seconds: 1729254914, _nanoseconds: 453647000 },"}}
[info] >    _size: 1, {"user":"  _size: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _size: 1,"}}
[info] >    _materializedDocs: null, {"user":"  _materializedDocs: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedDocs: null,"}}
[info] >    _materializedChanges: null, {"user":"  _materializedChanges: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedChanges: null,"}}
[info] >    _docs: [Function (anonymous)], {"user":"  _docs: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _docs: [Function (anonymous)],"}}
[info] >    _changes: [Function (anonymous)] {"user":"  _changes: [Function (anonymous)]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _changes: [Function (anonymous)]"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2024-10-18T12:35:14.871Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 57.9207ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 57.9207ms"}}
[debug] [2024-10-18T12:35:14.872Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T12:35:14.872Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:35:14.872Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:35:14.872Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] >  [ {"user":"[","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ["}}
[info] >    { {"user":"  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   {"}}
[info] >      id: 'AIxFbug16kvF6PQU0ybK', {"user":"    id: 'AIxFbug16kvF6PQU0ybK',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     id: 'AIxFbug16kvF6PQU0ybK',"}}
[info] >      productId: '2PHnd6lM4TG6lP6Y5fOc', {"user":"    productId: '2PHnd6lM4TG6lP6Y5fOc',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     productId: '2PHnd6lM4TG6lP6Y5fOc',"}}
[info] >      qty: 1, {"user":"    qty: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     qty: 1,"}}
[info] >      netPrice: 1, {"user":"    netPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     netPrice: 1,"}}
[info] >      partnerComm: 1, {"user":"    partnerComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     partnerComm: 1,"}}
[info] >      companyComm: 1, {"user":"    companyComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     companyComm: 1,"}}
[info] >      pricePerPerson: 1, {"user":"    pricePerPerson: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     pricePerPerson: 1,"}}
[info] >      minTotalPrice: 1, {"user":"    minTotalPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     minTotalPrice: 1,"}}
[info] >      totalPrice: 3, {"user":"    totalPrice: 3,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totalPrice: 3,"}}
[info] >      date: '2024-10-18', {"user":"    date: '2024-10-18',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: '2024-10-18',"}}
[info] >      cityId: 'OiCHcy7zKcp2uU3zlMPU', {"user":"    cityId: 'OiCHcy7zKcp2uU3zlMPU',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     cityId: 'OiCHcy7zKcp2uU3zlMPU',"}}
[info] >      totemId: '1LoQvuu4KzHC1ux7qfOR', {"user":"    totemId: '1LoQvuu4KzHC1ux7qfOR',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totemId: '1LoQvuu4KzHC1ux7qfOR',"}}
[info] >      purchaseId: 'zuDSRe9m9p2oU9O4Kz1o', {"user":"    purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',"}}
[info] >      customerId: 'rMuIfSk9AarUm73FZVtC', {"user":"    customerId: 'rMuIfSk9AarUm73FZVtC',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     customerId: 'rMuIfSk9AarUm73FZVtC',"}}
[info] >      timestamp: 1729177549038 {"user":"    timestamp: 1729177549038","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     timestamp: 1729177549038"}}
[info] >    } {"user":"  }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   }"}}
[info] >  ] {"user":"]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ]"}}
[debug] [2024-10-18T12:35:21.166Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:35:21.166Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:35:21.166Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:35:21.166Z"],"workRunningCount":1}
[debug] [2024-10-18T12:35:21.166Z] Accepted request GET /totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T12:35:21.168Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:35:21.168Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T12:35:21.169Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:35:21.169Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[debug] [2024-10-18T12:35:21.206Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 36.7717ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 36.7717ms"}}
[debug] [2024-10-18T12:35:21.207Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T12:35:21.207Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:35:21.207Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:35:21.207Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:35:21.211Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:35:21.211Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:35:21.212Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:35:21.211Z"],"workRunningCount":1}
[debug] [2024-10-18T12:35:21.212Z] Accepted request GET /totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T12:35:21.215Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:35:21.215Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T12:35:21.215Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:35:21.216Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[info] >  QuerySnapshot { {"user":"QuerySnapshot {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m QuerySnapshot {"}}
[info] >    _query: Query { {"user":"  _query: Query {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _query: Query {"}}
[info] >      _firestore: Firestore { {"user":"    _firestore: Firestore {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _firestore: Firestore {"}}
[info] >        _settings: [Object], {"user":"      _settings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settings: [Object],"}}
[info] >        _settingsFrozen: true, {"user":"      _settingsFrozen: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settingsFrozen: true,"}}
[info] >        _serializer: [Serializer], {"user":"      _serializer: [Serializer],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer],"}}
[info] >        _projectId: 'totem-tour', {"user":"      _projectId: 'totem-tour',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _projectId: 'totem-tour',"}}
[info] >        _databaseId: '(default)', {"user":"      _databaseId: '(default)',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _databaseId: '(default)',"}}
[info] >        registeredListenersCount: 0, {"user":"      registeredListenersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       registeredListenersCount: 0,"}}
[info] >        bulkWritersCount: 0, {"user":"      bulkWritersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       bulkWritersCount: 0,"}}
[info] >        _traceUtil: DisabledTraceUtil {}, {"user":"      _traceUtil: DisabledTraceUtil {},","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _traceUtil: DisabledTraceUtil {},"}}
[info] >        _backoffSettings: [Object], {"user":"      _backoffSettings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _backoffSettings: [Object],"}}
[info] >        _clientPool: [ClientPool], {"user":"      _clientPool: [ClientPool],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _clientPool: [ClientPool],"}}
[info] >        _gax: [Object] {"user":"      _gax: [Object]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _gax: [Object]"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _queryOptions: QueryOptions { {"user":"    _queryOptions: QueryOptions {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryOptions: QueryOptions {"}}
[info] >        parentPath: [ResourcePath], {"user":"      parentPath: [ResourcePath],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       parentPath: [ResourcePath],"}}
[info] >        collectionId: 'purchaseItems', {"user":"      collectionId: 'purchaseItems',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       collectionId: 'purchaseItems',"}}
[info] >        converter: [Object], {"user":"      converter: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       converter: [Object],"}}
[info] >        allDescendants: false, {"user":"      allDescendants: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allDescendants: false,"}}
[info] >        filters: [Array], {"user":"      filters: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       filters: [Array],"}}
[info] >        fieldOrders: [Array], {"user":"      fieldOrders: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       fieldOrders: [Array],"}}
[info] >        startAt: undefined, {"user":"      startAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       startAt: undefined,"}}
[info] >        endAt: undefined, {"user":"      endAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       endAt: undefined,"}}
[info] >        limit: undefined, {"user":"      limit: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limit: undefined,"}}
[info] >        limitType: undefined, {"user":"      limitType: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limitType: undefined,"}}
[info] >        offset: undefined, {"user":"      offset: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       offset: undefined,"}}
[info] >        projection: undefined, {"user":"      projection: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       projection: undefined,"}}
[info] >        kindless: false, {"user":"      kindless: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       kindless: false,"}}
[info] >        requireConsistency: true {"user":"      requireConsistency: true","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       requireConsistency: true"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _serializer: Serializer { {"user":"    _serializer: Serializer {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _serializer: Serializer {"}}
[info] >        createReference: [Function (anonymous)], {"user":"      createReference: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createReference: [Function (anonymous)],"}}
[info] >        createInteger: [Function (anonymous)], {"user":"      createInteger: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createInteger: [Function (anonymous)],"}}
[info] >        allowUndefined: false {"user":"      allowUndefined: false","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allowUndefined: false"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _allowUndefined: false, {"user":"    _allowUndefined: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _allowUndefined: false,"}}
[info] >      _queryUtil: QueryUtil { {"user":"    _queryUtil: QueryUtil {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryUtil: QueryUtil {"}}
[info] >        _firestore: [Firestore], {"user":"      _firestore: [Firestore],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _firestore: [Firestore],"}}
[info] >        _queryOptions: [QueryOptions], {"user":"      _queryOptions: [QueryOptions],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _queryOptions: [QueryOptions],"}}
[info] >        _serializer: [Serializer] {"user":"      _serializer: [Serializer]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer]"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    _readTime: Timestamp { _seconds: 1729254920, _nanoseconds: 862215000 }, {"user":"  _readTime: Timestamp { _seconds: 1729254920, _nanoseconds: 862215000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _readTime: Timestamp { _seconds: 1729254920, _nanoseconds: 862215000 },"}}
[info] >    _size: 1, {"user":"  _size: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _size: 1,"}}
[info] >    _materializedDocs: null, {"user":"  _materializedDocs: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedDocs: null,"}}
[info] >    _materializedChanges: null, {"user":"  _materializedChanges: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedChanges: null,"}}
[info] >    _docs: [Function (anonymous)], {"user":"  _docs: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _docs: [Function (anonymous)],"}}
[info] >    _changes: [Function (anonymous)] {"user":"  _changes: [Function (anonymous)]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _changes: [Function (anonymous)]"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2024-10-18T12:35:21.280Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 64.3524ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 64.3524ms"}}
[debug] [2024-10-18T12:35:21.280Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T12:35:21.281Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:35:21.281Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:35:21.281Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] >  [ {"user":"[","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ["}}
[info] >    { {"user":"  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   {"}}
[info] >      id: 'AIxFbug16kvF6PQU0ybK', {"user":"    id: 'AIxFbug16kvF6PQU0ybK',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     id: 'AIxFbug16kvF6PQU0ybK',"}}
[info] >      productId: '2PHnd6lM4TG6lP6Y5fOc', {"user":"    productId: '2PHnd6lM4TG6lP6Y5fOc',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     productId: '2PHnd6lM4TG6lP6Y5fOc',"}}
[info] >      qty: 1, {"user":"    qty: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     qty: 1,"}}
[info] >      netPrice: 1, {"user":"    netPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     netPrice: 1,"}}
[info] >      partnerComm: 1, {"user":"    partnerComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     partnerComm: 1,"}}
[info] >      companyComm: 1, {"user":"    companyComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     companyComm: 1,"}}
[info] >      pricePerPerson: 1, {"user":"    pricePerPerson: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     pricePerPerson: 1,"}}
[info] >      minTotalPrice: 1, {"user":"    minTotalPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     minTotalPrice: 1,"}}
[info] >      totalPrice: 3, {"user":"    totalPrice: 3,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totalPrice: 3,"}}
[info] >      date: '2024-10-18', {"user":"    date: '2024-10-18',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: '2024-10-18',"}}
[info] >      cityId: 'OiCHcy7zKcp2uU3zlMPU', {"user":"    cityId: 'OiCHcy7zKcp2uU3zlMPU',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     cityId: 'OiCHcy7zKcp2uU3zlMPU',"}}
[info] >      totemId: '1LoQvuu4KzHC1ux7qfOR', {"user":"    totemId: '1LoQvuu4KzHC1ux7qfOR',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totemId: '1LoQvuu4KzHC1ux7qfOR',"}}
[info] >      purchaseId: 'zuDSRe9m9p2oU9O4Kz1o', {"user":"    purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',"}}
[info] >      customerId: 'rMuIfSk9AarUm73FZVtC', {"user":"    customerId: 'rMuIfSk9AarUm73FZVtC',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     customerId: 'rMuIfSk9AarUm73FZVtC',"}}
[info] >      timestamp: 1729177549038 {"user":"    timestamp: 1729177549038","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     timestamp: 1729177549038"}}
[info] >    } {"user":"  }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   }"}}
[info] >  ] {"user":"]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ]"}}
[debug] [2024-10-18T12:35:26.267Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:35:26.267Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:35:26.267Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:35:26.267Z"],"workRunningCount":1}
[debug] [2024-10-18T12:35:26.267Z] Accepted request GET /totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T12:35:26.269Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:35:26.269Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T12:35:26.269Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:35:26.271Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[debug] [2024-10-18T12:35:26.309Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 38.7424ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 38.7424ms"}}
[debug] [2024-10-18T12:35:26.311Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T12:35:26.312Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:35:26.312Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:35:26.312Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:35:26.319Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:35:26.319Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:35:26.320Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:35:26.319Z"],"workRunningCount":1}
[debug] [2024-10-18T12:35:26.320Z] Accepted request GET /totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T12:35:26.326Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:35:26.326Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T12:35:26.326Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:35:26.328Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[info] >  QuerySnapshot { {"user":"QuerySnapshot {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m QuerySnapshot {"}}
[info] >    _query: Query { {"user":"  _query: Query {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _query: Query {"}}
[info] >      _firestore: Firestore { {"user":"    _firestore: Firestore {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _firestore: Firestore {"}}
[info] >        _settings: [Object], {"user":"      _settings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settings: [Object],"}}
[info] >        _settingsFrozen: true, {"user":"      _settingsFrozen: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settingsFrozen: true,"}}
[info] >        _serializer: [Serializer], {"user":"      _serializer: [Serializer],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer],"}}
[info] >        _projectId: 'totem-tour', {"user":"      _projectId: 'totem-tour',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _projectId: 'totem-tour',"}}
[info] >        _databaseId: '(default)', {"user":"      _databaseId: '(default)',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _databaseId: '(default)',"}}
[info] >        registeredListenersCount: 0, {"user":"      registeredListenersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       registeredListenersCount: 0,"}}
[info] >        bulkWritersCount: 0, {"user":"      bulkWritersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       bulkWritersCount: 0,"}}
[info] >        _traceUtil: DisabledTraceUtil {}, {"user":"      _traceUtil: DisabledTraceUtil {},","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _traceUtil: DisabledTraceUtil {},"}}
[info] >        _backoffSettings: [Object], {"user":"      _backoffSettings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _backoffSettings: [Object],"}}
[info] >        _clientPool: [ClientPool], {"user":"      _clientPool: [ClientPool],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _clientPool: [ClientPool],"}}
[info] >        _gax: [Object] {"user":"      _gax: [Object]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _gax: [Object]"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _queryOptions: QueryOptions { {"user":"    _queryOptions: QueryOptions {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryOptions: QueryOptions {"}}
[info] >        parentPath: [ResourcePath], {"user":"      parentPath: [ResourcePath],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       parentPath: [ResourcePath],"}}
[info] >        collectionId: 'purchaseItems', {"user":"      collectionId: 'purchaseItems',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       collectionId: 'purchaseItems',"}}
[info] >        converter: [Object], {"user":"      converter: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       converter: [Object],"}}
[info] >        allDescendants: false, {"user":"      allDescendants: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allDescendants: false,"}}
[info] >        filters: [Array], {"user":"      filters: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       filters: [Array],"}}
[info] >        fieldOrders: [Array], {"user":"      fieldOrders: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       fieldOrders: [Array],"}}
[info] >        startAt: undefined, {"user":"      startAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       startAt: undefined,"}}
[info] >        endAt: undefined, {"user":"      endAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       endAt: undefined,"}}
[info] >        limit: undefined, {"user":"      limit: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limit: undefined,"}}
[info] >        limitType: undefined, {"user":"      limitType: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limitType: undefined,"}}
[info] >        offset: undefined, {"user":"      offset: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       offset: undefined,"}}
[info] >        projection: undefined, {"user":"      projection: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       projection: undefined,"}}
[info] >        kindless: false, {"user":"      kindless: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       kindless: false,"}}
[info] >        requireConsistency: true {"user":"      requireConsistency: true","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       requireConsistency: true"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _serializer: Serializer { {"user":"    _serializer: Serializer {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _serializer: Serializer {"}}
[info] >        createReference: [Function (anonymous)], {"user":"      createReference: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createReference: [Function (anonymous)],"}}
[info] >        createInteger: [Function (anonymous)], {"user":"      createInteger: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createInteger: [Function (anonymous)],"}}
[info] >        allowUndefined: false {"user":"      allowUndefined: false","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allowUndefined: false"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _allowUndefined: false, {"user":"    _allowUndefined: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _allowUndefined: false,"}}
[info] >      _queryUtil: QueryUtil { {"user":"    _queryUtil: QueryUtil {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryUtil: QueryUtil {"}}
[info] >        _firestore: [Firestore], {"user":"      _firestore: [Firestore],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _firestore: [Firestore],"}}
[info] >        _queryOptions: [QueryOptions], {"user":"      _queryOptions: [QueryOptions],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _queryOptions: [QueryOptions],"}}
[info] >        _serializer: [Serializer] {"user":"      _serializer: [Serializer]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer]"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    _readTime: Timestamp { _seconds: 1729254925, _nanoseconds: 977884000 }, {"user":"  _readTime: Timestamp { _seconds: 1729254925, _nanoseconds: 977884000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _readTime: Timestamp { _seconds: 1729254925, _nanoseconds: 977884000 },"}}
[info] >    _size: 1, {"user":"  _size: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _size: 1,"}}
[info] >    _materializedDocs: null, {"user":"  _materializedDocs: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedDocs: null,"}}
[info] >    _materializedChanges: null, {"user":"  _materializedChanges: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedChanges: null,"}}
[info] >    _docs: [Function (anonymous)], {"user":"  _docs: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _docs: [Function (anonymous)],"}}
[info] >    _changes: [Function (anonymous)] {"user":"  _changes: [Function (anonymous)]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _changes: [Function (anonymous)]"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2024-10-18T12:35:26.456Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 127.9916ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 127.9916ms"}}
[debug] [2024-10-18T12:35:26.456Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T12:35:26.456Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:35:26.457Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:35:26.457Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] >  [ {"user":"[","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ["}}
[info] >    { {"user":"  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   {"}}
[info] >      id: 'AIxFbug16kvF6PQU0ybK', {"user":"    id: 'AIxFbug16kvF6PQU0ybK',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     id: 'AIxFbug16kvF6PQU0ybK',"}}
[info] >      productId: '2PHnd6lM4TG6lP6Y5fOc', {"user":"    productId: '2PHnd6lM4TG6lP6Y5fOc',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     productId: '2PHnd6lM4TG6lP6Y5fOc',"}}
[info] >      qty: 1, {"user":"    qty: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     qty: 1,"}}
[info] >      netPrice: 1, {"user":"    netPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     netPrice: 1,"}}
[info] >      partnerComm: 1, {"user":"    partnerComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     partnerComm: 1,"}}
[info] >      companyComm: 1, {"user":"    companyComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     companyComm: 1,"}}
[info] >      pricePerPerson: 1, {"user":"    pricePerPerson: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     pricePerPerson: 1,"}}
[info] >      minTotalPrice: 1, {"user":"    minTotalPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     minTotalPrice: 1,"}}
[info] >      totalPrice: 3, {"user":"    totalPrice: 3,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totalPrice: 3,"}}
[info] >      date: '2024-10-18', {"user":"    date: '2024-10-18',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: '2024-10-18',"}}
[info] >      cityId: 'OiCHcy7zKcp2uU3zlMPU', {"user":"    cityId: 'OiCHcy7zKcp2uU3zlMPU',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     cityId: 'OiCHcy7zKcp2uU3zlMPU',"}}
[info] >      totemId: '1LoQvuu4KzHC1ux7qfOR', {"user":"    totemId: '1LoQvuu4KzHC1ux7qfOR',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totemId: '1LoQvuu4KzHC1ux7qfOR',"}}
[info] >      purchaseId: 'zuDSRe9m9p2oU9O4Kz1o', {"user":"    purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',"}}
[info] >      customerId: 'rMuIfSk9AarUm73FZVtC', {"user":"    customerId: 'rMuIfSk9AarUm73FZVtC',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     customerId: 'rMuIfSk9AarUm73FZVtC',"}}
[info] >      timestamp: 1729177549038 {"user":"    timestamp: 1729177549038","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     timestamp: 1729177549038"}}
[info] >    } {"user":"  }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   }"}}
[info] >  ] {"user":"]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ]"}}
[debug] [2024-10-18T12:35:28.261Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:35:28.261Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:35:28.261Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:35:28.261Z"],"workRunningCount":1}
[debug] [2024-10-18T12:35:28.261Z] Accepted request GET /totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T12:35:28.262Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:35:28.262Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T12:35:28.262Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:35:28.263Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[debug] [2024-10-18T12:35:28.302Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 39.2333ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 39.2333ms"}}
[debug] [2024-10-18T12:35:28.303Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T12:35:28.303Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:35:28.303Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:35:28.303Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:35:28.306Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:35:28.306Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:35:28.306Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:35:28.306Z"],"workRunningCount":1}
[debug] [2024-10-18T12:35:28.306Z] Accepted request GET /totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T12:35:28.306Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:35:28.307Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T12:35:28.307Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:35:28.307Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[info] >  QuerySnapshot { {"user":"QuerySnapshot {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m QuerySnapshot {"}}
[info] >    _query: Query { {"user":"  _query: Query {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _query: Query {"}}
[info] >      _firestore: Firestore { {"user":"    _firestore: Firestore {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _firestore: Firestore {"}}
[info] >        _settings: [Object], {"user":"      _settings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settings: [Object],"}}
[info] >        _settingsFrozen: true, {"user":"      _settingsFrozen: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settingsFrozen: true,"}}
[info] >        _serializer: [Serializer], {"user":"      _serializer: [Serializer],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer],"}}
[info] >        _projectId: 'totem-tour', {"user":"      _projectId: 'totem-tour',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _projectId: 'totem-tour',"}}
[info] >        _databaseId: '(default)', {"user":"      _databaseId: '(default)',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _databaseId: '(default)',"}}
[info] >        registeredListenersCount: 0, {"user":"      registeredListenersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       registeredListenersCount: 0,"}}
[info] >        bulkWritersCount: 0, {"user":"      bulkWritersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       bulkWritersCount: 0,"}}
[info] >        _traceUtil: DisabledTraceUtil {}, {"user":"      _traceUtil: DisabledTraceUtil {},","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _traceUtil: DisabledTraceUtil {},"}}
[info] >        _backoffSettings: [Object], {"user":"      _backoffSettings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _backoffSettings: [Object],"}}
[info] >        _clientPool: [ClientPool], {"user":"      _clientPool: [ClientPool],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _clientPool: [ClientPool],"}}
[info] >        _gax: [Object] {"user":"      _gax: [Object]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _gax: [Object]"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _queryOptions: QueryOptions { {"user":"    _queryOptions: QueryOptions {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryOptions: QueryOptions {"}}
[info] >        parentPath: [ResourcePath], {"user":"      parentPath: [ResourcePath],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       parentPath: [ResourcePath],"}}
[info] >        collectionId: 'purchaseItems', {"user":"      collectionId: 'purchaseItems',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       collectionId: 'purchaseItems',"}}
[info] >        converter: [Object], {"user":"      converter: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       converter: [Object],"}}
[info] >        allDescendants: false, {"user":"      allDescendants: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allDescendants: false,"}}
[info] >        filters: [Array], {"user":"      filters: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       filters: [Array],"}}
[info] >        fieldOrders: [Array], {"user":"      fieldOrders: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       fieldOrders: [Array],"}}
[info] >        startAt: undefined, {"user":"      startAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       startAt: undefined,"}}
[info] >        endAt: undefined, {"user":"      endAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       endAt: undefined,"}}
[info] >        limit: undefined, {"user":"      limit: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limit: undefined,"}}
[info] >        limitType: undefined, {"user":"      limitType: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limitType: undefined,"}}
[info] >        offset: undefined, {"user":"      offset: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       offset: undefined,"}}
[info] >        projection: undefined, {"user":"      projection: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       projection: undefined,"}}
[info] >        kindless: false, {"user":"      kindless: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       kindless: false,"}}
[info] >        requireConsistency: true {"user":"      requireConsistency: true","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       requireConsistency: true"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _serializer: Serializer { {"user":"    _serializer: Serializer {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _serializer: Serializer {"}}
[info] >        createReference: [Function (anonymous)], {"user":"      createReference: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createReference: [Function (anonymous)],"}}
[info] >        createInteger: [Function (anonymous)], {"user":"      createInteger: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createInteger: [Function (anonymous)],"}}
[info] >        allowUndefined: false {"user":"      allowUndefined: false","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allowUndefined: false"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _allowUndefined: false, {"user":"    _allowUndefined: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _allowUndefined: false,"}}
[info] >      _queryUtil: QueryUtil { {"user":"    _queryUtil: QueryUtil {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryUtil: QueryUtil {"}}
[info] >        _firestore: [Firestore], {"user":"      _firestore: [Firestore],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _firestore: [Firestore],"}}
[info] >        _queryOptions: [QueryOptions], {"user":"      _queryOptions: [QueryOptions],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _queryOptions: [QueryOptions],"}}
[info] >        _serializer: [Serializer] {"user":"      _serializer: [Serializer]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer]"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    _readTime: Timestamp { _seconds: 1729254927, _nanoseconds: 959457000 }, {"user":"  _readTime: Timestamp { _seconds: 1729254927, _nanoseconds: 959457000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _readTime: Timestamp { _seconds: 1729254927, _nanoseconds: 959457000 },"}}
[info] >    _size: 1, {"user":"  _size: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _size: 1,"}}
[info] >    _materializedDocs: null, {"user":"  _materializedDocs: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedDocs: null,"}}
[info] >    _materializedChanges: null, {"user":"  _materializedChanges: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedChanges: null,"}}
[info] >    _docs: [Function (anonymous)], {"user":"  _docs: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _docs: [Function (anonymous)],"}}
[info] >    _changes: [Function (anonymous)] {"user":"  _changes: [Function (anonymous)]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _changes: [Function (anonymous)]"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2024-10-18T12:35:28.383Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 76.2678ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 76.2678ms"}}
[debug] [2024-10-18T12:35:28.384Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T12:35:28.384Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:35:28.384Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:35:28.384Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] >  [ {"user":"[","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ["}}
[info] >    { {"user":"  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   {"}}
[info] >      id: 'AIxFbug16kvF6PQU0ybK', {"user":"    id: 'AIxFbug16kvF6PQU0ybK',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     id: 'AIxFbug16kvF6PQU0ybK',"}}
[info] >      productId: '2PHnd6lM4TG6lP6Y5fOc', {"user":"    productId: '2PHnd6lM4TG6lP6Y5fOc',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     productId: '2PHnd6lM4TG6lP6Y5fOc',"}}
[info] >      qty: 1, {"user":"    qty: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     qty: 1,"}}
[info] >      netPrice: 1, {"user":"    netPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     netPrice: 1,"}}
[info] >      partnerComm: 1, {"user":"    partnerComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     partnerComm: 1,"}}
[info] >      companyComm: 1, {"user":"    companyComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     companyComm: 1,"}}
[info] >      pricePerPerson: 1, {"user":"    pricePerPerson: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     pricePerPerson: 1,"}}
[info] >      minTotalPrice: 1, {"user":"    minTotalPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     minTotalPrice: 1,"}}
[info] >      totalPrice: 3, {"user":"    totalPrice: 3,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totalPrice: 3,"}}
[info] >      date: '2024-10-18', {"user":"    date: '2024-10-18',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: '2024-10-18',"}}
[info] >      cityId: 'OiCHcy7zKcp2uU3zlMPU', {"user":"    cityId: 'OiCHcy7zKcp2uU3zlMPU',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     cityId: 'OiCHcy7zKcp2uU3zlMPU',"}}
[info] >      totemId: '1LoQvuu4KzHC1ux7qfOR', {"user":"    totemId: '1LoQvuu4KzHC1ux7qfOR',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totemId: '1LoQvuu4KzHC1ux7qfOR',"}}
[info] >      purchaseId: 'zuDSRe9m9p2oU9O4Kz1o', {"user":"    purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',"}}
[info] >      customerId: 'rMuIfSk9AarUm73FZVtC', {"user":"    customerId: 'rMuIfSk9AarUm73FZVtC',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     customerId: 'rMuIfSk9AarUm73FZVtC',"}}
[info] >      timestamp: 1729177549038 {"user":"    timestamp: 1729177549038","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     timestamp: 1729177549038"}}
[info] >    } {"user":"  }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   }"}}
[info] >  ] {"user":"]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ]"}}
[debug] [2024-10-18T12:35:33.240Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:35:33.240Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:35:33.240Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:35:33.240Z"],"workRunningCount":1}
[debug] [2024-10-18T12:35:33.240Z] Accepted request GET /totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T12:35:33.241Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:35:33.241Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T12:35:33.241Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:35:33.241Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[debug] [2024-10-18T12:35:33.279Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 38.2149ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 38.2149ms"}}
[debug] [2024-10-18T12:35:33.282Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T12:35:33.282Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:35:33.283Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:35:33.283Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:35:33.292Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:35:33.292Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:35:33.293Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:35:33.292Z"],"workRunningCount":1}
[debug] [2024-10-18T12:35:33.293Z] Accepted request GET /totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T12:35:33.295Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:35:33.295Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T12:35:33.295Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:35:33.297Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[info] >  QuerySnapshot { {"user":"QuerySnapshot {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m QuerySnapshot {"}}
[info] >    _query: Query { {"user":"  _query: Query {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _query: Query {"}}
[info] >      _firestore: Firestore { {"user":"    _firestore: Firestore {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _firestore: Firestore {"}}
[info] >        _settings: [Object], {"user":"      _settings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settings: [Object],"}}
[info] >        _settingsFrozen: true, {"user":"      _settingsFrozen: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settingsFrozen: true,"}}
[info] >        _serializer: [Serializer], {"user":"      _serializer: [Serializer],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer],"}}
[info] >        _projectId: 'totem-tour', {"user":"      _projectId: 'totem-tour',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _projectId: 'totem-tour',"}}
[info] >        _databaseId: '(default)', {"user":"      _databaseId: '(default)',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _databaseId: '(default)',"}}
[info] >        registeredListenersCount: 0, {"user":"      registeredListenersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       registeredListenersCount: 0,"}}
[info] >        bulkWritersCount: 0, {"user":"      bulkWritersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       bulkWritersCount: 0,"}}
[info] >        _traceUtil: DisabledTraceUtil {}, {"user":"      _traceUtil: DisabledTraceUtil {},","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _traceUtil: DisabledTraceUtil {},"}}
[info] >        _backoffSettings: [Object], {"user":"      _backoffSettings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _backoffSettings: [Object],"}}
[info] >        _clientPool: [ClientPool], {"user":"      _clientPool: [ClientPool],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _clientPool: [ClientPool],"}}
[info] >        _gax: [Object] {"user":"      _gax: [Object]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _gax: [Object]"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _queryOptions: QueryOptions { {"user":"    _queryOptions: QueryOptions {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryOptions: QueryOptions {"}}
[info] >        parentPath: [ResourcePath], {"user":"      parentPath: [ResourcePath],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       parentPath: [ResourcePath],"}}
[info] >        collectionId: 'purchaseItems', {"user":"      collectionId: 'purchaseItems',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       collectionId: 'purchaseItems',"}}
[info] >        converter: [Object], {"user":"      converter: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       converter: [Object],"}}
[info] >        allDescendants: false, {"user":"      allDescendants: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allDescendants: false,"}}
[info] >        filters: [Array], {"user":"      filters: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       filters: [Array],"}}
[info] >        fieldOrders: [Array], {"user":"      fieldOrders: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       fieldOrders: [Array],"}}
[info] >        startAt: undefined, {"user":"      startAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       startAt: undefined,"}}
[info] >        endAt: undefined, {"user":"      endAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       endAt: undefined,"}}
[info] >        limit: undefined, {"user":"      limit: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limit: undefined,"}}
[info] >        limitType: undefined, {"user":"      limitType: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limitType: undefined,"}}
[info] >        offset: undefined, {"user":"      offset: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       offset: undefined,"}}
[info] >        projection: undefined, {"user":"      projection: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       projection: undefined,"}}
[info] >        kindless: false, {"user":"      kindless: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       kindless: false,"}}
[info] >        requireConsistency: true {"user":"      requireConsistency: true","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       requireConsistency: true"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _serializer: Serializer { {"user":"    _serializer: Serializer {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _serializer: Serializer {"}}
[info] >        createReference: [Function (anonymous)], {"user":"      createReference: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createReference: [Function (anonymous)],"}}
[info] >        createInteger: [Function (anonymous)], {"user":"      createInteger: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createInteger: [Function (anonymous)],"}}
[info] >        allowUndefined: false {"user":"      allowUndefined: false","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allowUndefined: false"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _allowUndefined: false, {"user":"    _allowUndefined: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _allowUndefined: false,"}}
[info] >      _queryUtil: QueryUtil { {"user":"    _queryUtil: QueryUtil {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryUtil: QueryUtil {"}}
[info] >        _firestore: [Firestore], {"user":"      _firestore: [Firestore],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _firestore: [Firestore],"}}
[info] >        _queryOptions: [QueryOptions], {"user":"      _queryOptions: [QueryOptions],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _queryOptions: [QueryOptions],"}}
[info] >        _serializer: [Serializer] {"user":"      _serializer: [Serializer]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer]"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    _readTime: Timestamp { _seconds: 1729254932, _nanoseconds: 942303000 }, {"user":"  _readTime: Timestamp { _seconds: 1729254932, _nanoseconds: 942303000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _readTime: Timestamp { _seconds: 1729254932, _nanoseconds: 942303000 },"}}
[info] >    _size: 1, {"user":"  _size: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _size: 1,"}}
[info] >    _materializedDocs: null, {"user":"  _materializedDocs: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedDocs: null,"}}
[info] >    _materializedChanges: null, {"user":"  _materializedChanges: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedChanges: null,"}}
[info] >    _docs: [Function (anonymous)], {"user":"  _docs: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _docs: [Function (anonymous)],"}}
[info] >    _changes: [Function (anonymous)] {"user":"  _changes: [Function (anonymous)]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _changes: [Function (anonymous)]"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2024-10-18T12:35:33.362Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 65.3637ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 65.3637ms"}}
[debug] [2024-10-18T12:35:33.363Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T12:35:33.363Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:35:33.363Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:35:33.363Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] >  [ {"user":"[","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ["}}
[info] >    { {"user":"  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   {"}}
[info] >      id: 'AIxFbug16kvF6PQU0ybK', {"user":"    id: 'AIxFbug16kvF6PQU0ybK',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     id: 'AIxFbug16kvF6PQU0ybK',"}}
[info] >      productId: '2PHnd6lM4TG6lP6Y5fOc', {"user":"    productId: '2PHnd6lM4TG6lP6Y5fOc',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     productId: '2PHnd6lM4TG6lP6Y5fOc',"}}
[info] >      qty: 1, {"user":"    qty: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     qty: 1,"}}
[info] >      netPrice: 1, {"user":"    netPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     netPrice: 1,"}}
[info] >      partnerComm: 1, {"user":"    partnerComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     partnerComm: 1,"}}
[info] >      companyComm: 1, {"user":"    companyComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     companyComm: 1,"}}
[info] >      pricePerPerson: 1, {"user":"    pricePerPerson: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     pricePerPerson: 1,"}}
[info] >      minTotalPrice: 1, {"user":"    minTotalPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     minTotalPrice: 1,"}}
[info] >      totalPrice: 3, {"user":"    totalPrice: 3,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totalPrice: 3,"}}
[info] >      date: '2024-10-18', {"user":"    date: '2024-10-18',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: '2024-10-18',"}}
[info] >      cityId: 'OiCHcy7zKcp2uU3zlMPU', {"user":"    cityId: 'OiCHcy7zKcp2uU3zlMPU',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     cityId: 'OiCHcy7zKcp2uU3zlMPU',"}}
[info] >      totemId: '1LoQvuu4KzHC1ux7qfOR', {"user":"    totemId: '1LoQvuu4KzHC1ux7qfOR',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totemId: '1LoQvuu4KzHC1ux7qfOR',"}}
[info] >      purchaseId: 'zuDSRe9m9p2oU9O4Kz1o', {"user":"    purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',"}}
[info] >      customerId: 'rMuIfSk9AarUm73FZVtC', {"user":"    customerId: 'rMuIfSk9AarUm73FZVtC',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     customerId: 'rMuIfSk9AarUm73FZVtC',"}}
[info] >      timestamp: 1729177549038 {"user":"    timestamp: 1729177549038","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     timestamp: 1729177549038"}}
[info] >    } {"user":"  }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   }"}}
[info] >  ] {"user":"]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ]"}}
[debug] [2024-10-18T12:35:35.171Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:35:35.171Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:35:35.171Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:35:35.171Z"],"workRunningCount":1}
[debug] [2024-10-18T12:35:35.172Z] Accepted request GET /totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T12:35:35.172Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:35:35.173Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T12:35:35.173Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:35:35.173Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[debug] [2024-10-18T12:35:35.208Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 35.3677ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 35.3677ms"}}
[debug] [2024-10-18T12:35:35.210Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T12:35:35.210Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:35:35.210Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:35:35.210Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:35:35.214Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:35:35.214Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:35:35.214Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:35:35.214Z"],"workRunningCount":1}
[debug] [2024-10-18T12:35:35.215Z] Accepted request GET /totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T12:35:35.215Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:35:35.215Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T12:35:35.216Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:35:35.216Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[info] >  QuerySnapshot { {"user":"QuerySnapshot {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m QuerySnapshot {"}}
[info] >    _query: Query { {"user":"  _query: Query {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _query: Query {"}}
[info] >      _firestore: Firestore { {"user":"    _firestore: Firestore {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _firestore: Firestore {"}}
[info] >        _settings: [Object], {"user":"      _settings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settings: [Object],"}}
[info] >        _settingsFrozen: true, {"user":"      _settingsFrozen: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settingsFrozen: true,"}}
[info] >        _serializer: [Serializer], {"user":"      _serializer: [Serializer],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer],"}}
[info] >        _projectId: 'totem-tour', {"user":"      _projectId: 'totem-tour',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _projectId: 'totem-tour',"}}
[info] >        _databaseId: '(default)', {"user":"      _databaseId: '(default)',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _databaseId: '(default)',"}}
[info] >        registeredListenersCount: 0, {"user":"      registeredListenersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       registeredListenersCount: 0,"}}
[info] >        bulkWritersCount: 0, {"user":"      bulkWritersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       bulkWritersCount: 0,"}}
[info] >        _traceUtil: DisabledTraceUtil {}, {"user":"      _traceUtil: DisabledTraceUtil {},","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _traceUtil: DisabledTraceUtil {},"}}
[info] >        _backoffSettings: [Object], {"user":"      _backoffSettings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _backoffSettings: [Object],"}}
[info] >        _clientPool: [ClientPool], {"user":"      _clientPool: [ClientPool],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _clientPool: [ClientPool],"}}
[info] >        _gax: [Object] {"user":"      _gax: [Object]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _gax: [Object]"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _queryOptions: QueryOptions { {"user":"    _queryOptions: QueryOptions {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryOptions: QueryOptions {"}}
[info] >        parentPath: [ResourcePath], {"user":"      parentPath: [ResourcePath],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       parentPath: [ResourcePath],"}}
[info] >        collectionId: 'purchaseItems', {"user":"      collectionId: 'purchaseItems',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       collectionId: 'purchaseItems',"}}
[info] >        converter: [Object], {"user":"      converter: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       converter: [Object],"}}
[info] >        allDescendants: false, {"user":"      allDescendants: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allDescendants: false,"}}
[info] >        filters: [Array], {"user":"      filters: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       filters: [Array],"}}
[info] >        fieldOrders: [Array], {"user":"      fieldOrders: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       fieldOrders: [Array],"}}
[info] >        startAt: undefined, {"user":"      startAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       startAt: undefined,"}}
[info] >        endAt: undefined, {"user":"      endAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       endAt: undefined,"}}
[info] >        limit: undefined, {"user":"      limit: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limit: undefined,"}}
[info] >        limitType: undefined, {"user":"      limitType: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limitType: undefined,"}}
[info] >        offset: undefined, {"user":"      offset: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       offset: undefined,"}}
[info] >        projection: undefined, {"user":"      projection: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       projection: undefined,"}}
[info] >        kindless: false, {"user":"      kindless: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       kindless: false,"}}
[info] >        requireConsistency: true {"user":"      requireConsistency: true","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       requireConsistency: true"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _serializer: Serializer { {"user":"    _serializer: Serializer {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _serializer: Serializer {"}}
[info] >        createReference: [Function (anonymous)], {"user":"      createReference: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createReference: [Function (anonymous)],"}}
[info] >        createInteger: [Function (anonymous)], {"user":"      createInteger: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createInteger: [Function (anonymous)],"}}
[info] >        allowUndefined: false {"user":"      allowUndefined: false","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allowUndefined: false"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _allowUndefined: false, {"user":"    _allowUndefined: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _allowUndefined: false,"}}
[info] >      _queryUtil: QueryUtil { {"user":"    _queryUtil: QueryUtil {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryUtil: QueryUtil {"}}
[info] >        _firestore: [Firestore], {"user":"      _firestore: [Firestore],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _firestore: [Firestore],"}}
[info] >        _queryOptions: [QueryOptions], {"user":"      _queryOptions: [QueryOptions],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _queryOptions: [QueryOptions],"}}
[info] >        _serializer: [Serializer] {"user":"      _serializer: [Serializer]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer]"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    _readTime: Timestamp { _seconds: 1729254934, _nanoseconds: 867682000 }, {"user":"  _readTime: Timestamp { _seconds: 1729254934, _nanoseconds: 867682000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _readTime: Timestamp { _seconds: 1729254934, _nanoseconds: 867682000 },"}}
[info] >    _size: 1, {"user":"  _size: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _size: 1,"}}
[info] >    _materializedDocs: null, {"user":"  _materializedDocs: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedDocs: null,"}}
[info] >    _materializedChanges: null, {"user":"  _materializedChanges: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedChanges: null,"}}
[info] >    _docs: [Function (anonymous)], {"user":"  _docs: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _docs: [Function (anonymous)],"}}
[info] >    _changes: [Function (anonymous)] {"user":"  _changes: [Function (anonymous)]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _changes: [Function (anonymous)]"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2024-10-18T12:35:35.281Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 64.2294ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 64.2294ms"}}
[debug] [2024-10-18T12:35:35.281Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T12:35:35.281Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:35:35.281Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:35:35.281Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] >  [ {"user":"[","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ["}}
[info] >    { {"user":"  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   {"}}
[info] >      id: 'AIxFbug16kvF6PQU0ybK', {"user":"    id: 'AIxFbug16kvF6PQU0ybK',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     id: 'AIxFbug16kvF6PQU0ybK',"}}
[info] >      productId: '2PHnd6lM4TG6lP6Y5fOc', {"user":"    productId: '2PHnd6lM4TG6lP6Y5fOc',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     productId: '2PHnd6lM4TG6lP6Y5fOc',"}}
[info] >      qty: 1, {"user":"    qty: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     qty: 1,"}}
[info] >      netPrice: 1, {"user":"    netPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     netPrice: 1,"}}
[info] >      partnerComm: 1, {"user":"    partnerComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     partnerComm: 1,"}}
[info] >      companyComm: 1, {"user":"    companyComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     companyComm: 1,"}}
[info] >      pricePerPerson: 1, {"user":"    pricePerPerson: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     pricePerPerson: 1,"}}
[info] >      minTotalPrice: 1, {"user":"    minTotalPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     minTotalPrice: 1,"}}
[info] >      totalPrice: 3, {"user":"    totalPrice: 3,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totalPrice: 3,"}}
[info] >      date: '2024-10-18', {"user":"    date: '2024-10-18',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: '2024-10-18',"}}
[info] >      cityId: 'OiCHcy7zKcp2uU3zlMPU', {"user":"    cityId: 'OiCHcy7zKcp2uU3zlMPU',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     cityId: 'OiCHcy7zKcp2uU3zlMPU',"}}
[info] >      totemId: '1LoQvuu4KzHC1ux7qfOR', {"user":"    totemId: '1LoQvuu4KzHC1ux7qfOR',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totemId: '1LoQvuu4KzHC1ux7qfOR',"}}
[info] >      purchaseId: 'zuDSRe9m9p2oU9O4Kz1o', {"user":"    purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',"}}
[info] >      customerId: 'rMuIfSk9AarUm73FZVtC', {"user":"    customerId: 'rMuIfSk9AarUm73FZVtC',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     customerId: 'rMuIfSk9AarUm73FZVtC',"}}
[info] >      timestamp: 1729177549038 {"user":"    timestamp: 1729177549038","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     timestamp: 1729177549038"}}
[info] >    } {"user":"  }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   }"}}
[info] >  ] {"user":"]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ]"}}
[debug] [2024-10-18T12:35:48.250Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:35:48.249Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:35:48.250Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:35:48.249Z"],"workRunningCount":1}
[debug] [2024-10-18T12:35:48.250Z] Accepted request GET /totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T12:35:48.251Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:35:48.251Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T12:35:48.251Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:35:48.252Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[debug] [2024-10-18T12:35:48.285Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 33.4262ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 33.4262ms"}}
[debug] [2024-10-18T12:35:48.287Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T12:35:48.288Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:35:48.288Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:35:48.289Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:35:48.299Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:35:48.299Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:35:48.300Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:35:48.299Z"],"workRunningCount":1}
[debug] [2024-10-18T12:35:48.300Z] Accepted request GET /totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T12:35:48.309Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:35:48.309Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T12:35:48.310Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:35:48.311Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[info] >  QuerySnapshot { {"user":"QuerySnapshot {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m QuerySnapshot {"}}
[info] >    _query: Query { {"user":"  _query: Query {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _query: Query {"}}
[info] >      _firestore: Firestore { {"user":"    _firestore: Firestore {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _firestore: Firestore {"}}
[info] >        _settings: [Object], {"user":"      _settings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settings: [Object],"}}
[info] >        _settingsFrozen: true, {"user":"      _settingsFrozen: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settingsFrozen: true,"}}
[info] >        _serializer: [Serializer], {"user":"      _serializer: [Serializer],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer],"}}
[info] >        _projectId: 'totem-tour', {"user":"      _projectId: 'totem-tour',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _projectId: 'totem-tour',"}}
[info] >        _databaseId: '(default)', {"user":"      _databaseId: '(default)',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _databaseId: '(default)',"}}
[info] >        registeredListenersCount: 0, {"user":"      registeredListenersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       registeredListenersCount: 0,"}}
[info] >        bulkWritersCount: 0, {"user":"      bulkWritersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       bulkWritersCount: 0,"}}
[info] >        _traceUtil: DisabledTraceUtil {}, {"user":"      _traceUtil: DisabledTraceUtil {},","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _traceUtil: DisabledTraceUtil {},"}}
[info] >        _backoffSettings: [Object], {"user":"      _backoffSettings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _backoffSettings: [Object],"}}
[info] >        _clientPool: [ClientPool], {"user":"      _clientPool: [ClientPool],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _clientPool: [ClientPool],"}}
[info] >        _gax: [Object] {"user":"      _gax: [Object]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _gax: [Object]"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _queryOptions: QueryOptions { {"user":"    _queryOptions: QueryOptions {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryOptions: QueryOptions {"}}
[info] >        parentPath: [ResourcePath], {"user":"      parentPath: [ResourcePath],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       parentPath: [ResourcePath],"}}
[info] >        collectionId: 'purchaseItems', {"user":"      collectionId: 'purchaseItems',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       collectionId: 'purchaseItems',"}}
[info] >        converter: [Object], {"user":"      converter: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       converter: [Object],"}}
[info] >        allDescendants: false, {"user":"      allDescendants: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allDescendants: false,"}}
[info] >        filters: [Array], {"user":"      filters: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       filters: [Array],"}}
[info] >        fieldOrders: [Array], {"user":"      fieldOrders: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       fieldOrders: [Array],"}}
[info] >        startAt: undefined, {"user":"      startAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       startAt: undefined,"}}
[info] >        endAt: undefined, {"user":"      endAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       endAt: undefined,"}}
[info] >        limit: undefined, {"user":"      limit: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limit: undefined,"}}
[info] >        limitType: undefined, {"user":"      limitType: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limitType: undefined,"}}
[info] >        offset: undefined, {"user":"      offset: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       offset: undefined,"}}
[info] >        projection: undefined, {"user":"      projection: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       projection: undefined,"}}
[info] >        kindless: false, {"user":"      kindless: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       kindless: false,"}}
[info] >        requireConsistency: true {"user":"      requireConsistency: true","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       requireConsistency: true"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _serializer: Serializer { {"user":"    _serializer: Serializer {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _serializer: Serializer {"}}
[info] >        createReference: [Function (anonymous)], {"user":"      createReference: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createReference: [Function (anonymous)],"}}
[info] >        createInteger: [Function (anonymous)], {"user":"      createInteger: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createInteger: [Function (anonymous)],"}}
[info] >        allowUndefined: false {"user":"      allowUndefined: false","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allowUndefined: false"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _allowUndefined: false, {"user":"    _allowUndefined: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _allowUndefined: false,"}}
[info] >      _queryUtil: QueryUtil { {"user":"    _queryUtil: QueryUtil {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryUtil: QueryUtil {"}}
[info] >        _firestore: [Firestore], {"user":"      _firestore: [Firestore],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _firestore: [Firestore],"}}
[info] >        _queryOptions: [QueryOptions], {"user":"      _queryOptions: [QueryOptions],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _queryOptions: [QueryOptions],"}}
[info] >        _serializer: [Serializer] {"user":"      _serializer: [Serializer]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer]"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    _readTime: Timestamp { _seconds: 1729254947, _nanoseconds: 956907000 }, {"user":"  _readTime: Timestamp { _seconds: 1729254947, _nanoseconds: 956907000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _readTime: Timestamp { _seconds: 1729254947, _nanoseconds: 956907000 },"}}
[info] >    _size: 1, {"user":"  _size: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _size: 1,"}}
[info] >    _materializedDocs: null, {"user":"  _materializedDocs: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedDocs: null,"}}
[info] >    _materializedChanges: null, {"user":"  _materializedChanges: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedChanges: null,"}}
[info] >    _docs: [Function (anonymous)], {"user":"  _docs: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _docs: [Function (anonymous)],"}}
[info] >    _changes: [Function (anonymous)] {"user":"  _changes: [Function (anonymous)]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _changes: [Function (anonymous)]"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2024-10-18T12:35:48.378Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 67.4187ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 67.4187ms"}}
[debug] [2024-10-18T12:35:48.379Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T12:35:48.379Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:35:48.379Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:35:48.379Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] >  [ {"user":"[","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ["}}
[info] >    { {"user":"  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   {"}}
[info] >      id: 'AIxFbug16kvF6PQU0ybK', {"user":"    id: 'AIxFbug16kvF6PQU0ybK',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     id: 'AIxFbug16kvF6PQU0ybK',"}}
[info] >      productId: '2PHnd6lM4TG6lP6Y5fOc', {"user":"    productId: '2PHnd6lM4TG6lP6Y5fOc',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     productId: '2PHnd6lM4TG6lP6Y5fOc',"}}
[info] >      qty: 1, {"user":"    qty: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     qty: 1,"}}
[info] >      netPrice: 1, {"user":"    netPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     netPrice: 1,"}}
[info] >      partnerComm: 1, {"user":"    partnerComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     partnerComm: 1,"}}
[info] >      companyComm: 1, {"user":"    companyComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     companyComm: 1,"}}
[info] >      pricePerPerson: 1, {"user":"    pricePerPerson: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     pricePerPerson: 1,"}}
[info] >      minTotalPrice: 1, {"user":"    minTotalPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     minTotalPrice: 1,"}}
[info] >      totalPrice: 3, {"user":"    totalPrice: 3,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totalPrice: 3,"}}
[info] >      date: '2024-10-18', {"user":"    date: '2024-10-18',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: '2024-10-18',"}}
[info] >      cityId: 'OiCHcy7zKcp2uU3zlMPU', {"user":"    cityId: 'OiCHcy7zKcp2uU3zlMPU',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     cityId: 'OiCHcy7zKcp2uU3zlMPU',"}}
[info] >      totemId: '1LoQvuu4KzHC1ux7qfOR', {"user":"    totemId: '1LoQvuu4KzHC1ux7qfOR',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totemId: '1LoQvuu4KzHC1ux7qfOR',"}}
[info] >      purchaseId: 'zuDSRe9m9p2oU9O4Kz1o', {"user":"    purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',"}}
[info] >      customerId: 'rMuIfSk9AarUm73FZVtC', {"user":"    customerId: 'rMuIfSk9AarUm73FZVtC',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     customerId: 'rMuIfSk9AarUm73FZVtC',"}}
[info] >      timestamp: 1729177549038 {"user":"    timestamp: 1729177549038","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     timestamp: 1729177549038"}}
[info] >    } {"user":"  }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   }"}}
[info] >  ] {"user":"]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ]"}}
[debug] [2024-10-18T12:35:52.872Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:35:52.872Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:35:52.872Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:35:52.872Z"],"workRunningCount":1}
[debug] [2024-10-18T12:35:52.872Z] Accepted request GET /totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T12:35:52.873Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:35:52.873Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T12:35:52.873Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:35:52.874Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[debug] [2024-10-18T12:35:52.903Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 29.8523ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 29.8523ms"}}
[debug] [2024-10-18T12:35:52.904Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T12:35:52.904Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:35:52.904Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:35:52.904Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:35:52.908Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:35:52.908Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:35:52.908Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:35:52.908Z"],"workRunningCount":1}
[debug] [2024-10-18T12:35:52.908Z] Accepted request GET /totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T12:35:52.909Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:35:52.909Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T12:35:52.909Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:35:52.910Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[info] >  QuerySnapshot { {"user":"QuerySnapshot {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m QuerySnapshot {"}}
[info] >    _query: Query { {"user":"  _query: Query {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _query: Query {"}}
[info] >      _firestore: Firestore { {"user":"    _firestore: Firestore {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _firestore: Firestore {"}}
[info] >        _settings: [Object], {"user":"      _settings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settings: [Object],"}}
[info] >        _settingsFrozen: true, {"user":"      _settingsFrozen: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settingsFrozen: true,"}}
[info] >        _serializer: [Serializer], {"user":"      _serializer: [Serializer],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer],"}}
[info] >        _projectId: 'totem-tour', {"user":"      _projectId: 'totem-tour',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _projectId: 'totem-tour',"}}
[info] >        _databaseId: '(default)', {"user":"      _databaseId: '(default)',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _databaseId: '(default)',"}}
[info] >        registeredListenersCount: 0, {"user":"      registeredListenersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       registeredListenersCount: 0,"}}
[info] >        bulkWritersCount: 0, {"user":"      bulkWritersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       bulkWritersCount: 0,"}}
[info] >        _traceUtil: DisabledTraceUtil {}, {"user":"      _traceUtil: DisabledTraceUtil {},","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _traceUtil: DisabledTraceUtil {},"}}
[info] >        _backoffSettings: [Object], {"user":"      _backoffSettings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _backoffSettings: [Object],"}}
[info] >        _clientPool: [ClientPool], {"user":"      _clientPool: [ClientPool],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _clientPool: [ClientPool],"}}
[info] >        _gax: [Object] {"user":"      _gax: [Object]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _gax: [Object]"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _queryOptions: QueryOptions { {"user":"    _queryOptions: QueryOptions {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryOptions: QueryOptions {"}}
[info] >        parentPath: [ResourcePath], {"user":"      parentPath: [ResourcePath],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       parentPath: [ResourcePath],"}}
[info] >        collectionId: 'purchaseItems', {"user":"      collectionId: 'purchaseItems',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       collectionId: 'purchaseItems',"}}
[info] >        converter: [Object], {"user":"      converter: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       converter: [Object],"}}
[info] >        allDescendants: false, {"user":"      allDescendants: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allDescendants: false,"}}
[info] >        filters: [Array], {"user":"      filters: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       filters: [Array],"}}
[info] >        fieldOrders: [Array], {"user":"      fieldOrders: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       fieldOrders: [Array],"}}
[info] >        startAt: undefined, {"user":"      startAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       startAt: undefined,"}}
[info] >        endAt: undefined, {"user":"      endAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       endAt: undefined,"}}
[info] >        limit: undefined, {"user":"      limit: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limit: undefined,"}}
[info] >        limitType: undefined, {"user":"      limitType: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limitType: undefined,"}}
[info] >        offset: undefined, {"user":"      offset: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       offset: undefined,"}}
[info] >        projection: undefined, {"user":"      projection: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       projection: undefined,"}}
[info] >        kindless: false, {"user":"      kindless: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       kindless: false,"}}
[info] >        requireConsistency: true {"user":"      requireConsistency: true","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       requireConsistency: true"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _serializer: Serializer { {"user":"    _serializer: Serializer {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _serializer: Serializer {"}}
[info] >        createReference: [Function (anonymous)], {"user":"      createReference: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createReference: [Function (anonymous)],"}}
[info] >        createInteger: [Function (anonymous)], {"user":"      createInteger: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createInteger: [Function (anonymous)],"}}
[info] >        allowUndefined: false {"user":"      allowUndefined: false","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allowUndefined: false"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _allowUndefined: false, {"user":"    _allowUndefined: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _allowUndefined: false,"}}
[info] >      _queryUtil: QueryUtil { {"user":"    _queryUtil: QueryUtil {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryUtil: QueryUtil {"}}
[info] >        _firestore: [Firestore], {"user":"      _firestore: [Firestore],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _firestore: [Firestore],"}}
[info] >        _queryOptions: [QueryOptions], {"user":"      _queryOptions: [QueryOptions],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _queryOptions: [QueryOptions],"}}
[info] >        _serializer: [Serializer] {"user":"      _serializer: [Serializer]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer]"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    _readTime: Timestamp { _seconds: 1729254952, _nanoseconds: 546956000 }, {"user":"  _readTime: Timestamp { _seconds: 1729254952, _nanoseconds: 546956000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _readTime: Timestamp { _seconds: 1729254952, _nanoseconds: 546956000 },"}}
[info] >    _size: 1, {"user":"  _size: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _size: 1,"}}
[info] >    _materializedDocs: null, {"user":"  _materializedDocs: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedDocs: null,"}}
[info] >    _materializedChanges: null, {"user":"  _materializedChanges: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedChanges: null,"}}
[info] >    _docs: [Function (anonymous)], {"user":"  _docs: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _docs: [Function (anonymous)],"}}
[info] >    _changes: [Function (anonymous)] {"user":"  _changes: [Function (anonymous)]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _changes: [Function (anonymous)]"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2024-10-18T12:35:52.982Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 71.6576ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 71.6576ms"}}
[debug] [2024-10-18T12:35:52.982Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T12:35:52.982Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:35:52.983Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:35:52.983Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] >  [ {"user":"[","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ["}}
[info] >    { {"user":"  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   {"}}
[info] >      id: 'AIxFbug16kvF6PQU0ybK', {"user":"    id: 'AIxFbug16kvF6PQU0ybK',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     id: 'AIxFbug16kvF6PQU0ybK',"}}
[info] >      productId: '2PHnd6lM4TG6lP6Y5fOc', {"user":"    productId: '2PHnd6lM4TG6lP6Y5fOc',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     productId: '2PHnd6lM4TG6lP6Y5fOc',"}}
[info] >      qty: 1, {"user":"    qty: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     qty: 1,"}}
[info] >      netPrice: 1, {"user":"    netPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     netPrice: 1,"}}
[info] >      partnerComm: 1, {"user":"    partnerComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     partnerComm: 1,"}}
[info] >      companyComm: 1, {"user":"    companyComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     companyComm: 1,"}}
[info] >      pricePerPerson: 1, {"user":"    pricePerPerson: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     pricePerPerson: 1,"}}
[info] >      minTotalPrice: 1, {"user":"    minTotalPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     minTotalPrice: 1,"}}
[info] >      totalPrice: 3, {"user":"    totalPrice: 3,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totalPrice: 3,"}}
[info] >      date: '2024-10-18', {"user":"    date: '2024-10-18',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: '2024-10-18',"}}
[info] >      cityId: 'OiCHcy7zKcp2uU3zlMPU', {"user":"    cityId: 'OiCHcy7zKcp2uU3zlMPU',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     cityId: 'OiCHcy7zKcp2uU3zlMPU',"}}
[info] >      totemId: '1LoQvuu4KzHC1ux7qfOR', {"user":"    totemId: '1LoQvuu4KzHC1ux7qfOR',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totemId: '1LoQvuu4KzHC1ux7qfOR',"}}
[info] >      purchaseId: 'zuDSRe9m9p2oU9O4Kz1o', {"user":"    purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',"}}
[info] >      customerId: 'rMuIfSk9AarUm73FZVtC', {"user":"    customerId: 'rMuIfSk9AarUm73FZVtC',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     customerId: 'rMuIfSk9AarUm73FZVtC',"}}
[info] >      timestamp: 1729177549038 {"user":"    timestamp: 1729177549038","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     timestamp: 1729177549038"}}
[info] >    } {"user":"  }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   }"}}
[info] >  ] {"user":"]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ]"}}
[debug] [2024-10-18T12:36:22.249Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:36:22.249Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:36:22.250Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:36:22.249Z"],"workRunningCount":1}
[debug] [2024-10-18T12:36:22.250Z] Accepted request GET /totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T12:36:22.252Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:36:22.252Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T12:36:22.252Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:36:22.253Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[debug] [2024-10-18T12:36:22.340Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 87.7074ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 87.7074ms"}}
[debug] [2024-10-18T12:36:22.341Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T12:36:22.341Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:36:22.342Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:36:22.342Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:36:22.346Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:36:22.345Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:36:22.346Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:36:22.345Z"],"workRunningCount":1}
[debug] [2024-10-18T12:36:22.346Z] Accepted request GET /totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T12:36:22.348Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:36:22.348Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T12:36:22.348Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:36:22.349Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[info] >  QuerySnapshot { {"user":"QuerySnapshot {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m QuerySnapshot {"}}
[info] >    _query: Query { {"user":"  _query: Query {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _query: Query {"}}
[info] >      _firestore: Firestore { {"user":"    _firestore: Firestore {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _firestore: Firestore {"}}
[info] >        _settings: [Object], {"user":"      _settings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settings: [Object],"}}
[info] >        _settingsFrozen: true, {"user":"      _settingsFrozen: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settingsFrozen: true,"}}
[info] >        _serializer: [Serializer], {"user":"      _serializer: [Serializer],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer],"}}
[info] >        _projectId: 'totem-tour', {"user":"      _projectId: 'totem-tour',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _projectId: 'totem-tour',"}}
[info] >        _databaseId: '(default)', {"user":"      _databaseId: '(default)',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _databaseId: '(default)',"}}
[info] >        registeredListenersCount: 0, {"user":"      registeredListenersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       registeredListenersCount: 0,"}}
[info] >        bulkWritersCount: 0, {"user":"      bulkWritersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       bulkWritersCount: 0,"}}
[info] >        _traceUtil: DisabledTraceUtil {}, {"user":"      _traceUtil: DisabledTraceUtil {},","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _traceUtil: DisabledTraceUtil {},"}}
[info] >        _backoffSettings: [Object], {"user":"      _backoffSettings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _backoffSettings: [Object],"}}
[info] >        _clientPool: [ClientPool], {"user":"      _clientPool: [ClientPool],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _clientPool: [ClientPool],"}}
[info] >        _gax: [Object] {"user":"      _gax: [Object]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _gax: [Object]"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _queryOptions: QueryOptions { {"user":"    _queryOptions: QueryOptions {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryOptions: QueryOptions {"}}
[info] >        parentPath: [ResourcePath], {"user":"      parentPath: [ResourcePath],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       parentPath: [ResourcePath],"}}
[info] >        collectionId: 'purchaseItems', {"user":"      collectionId: 'purchaseItems',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       collectionId: 'purchaseItems',"}}
[info] >        converter: [Object], {"user":"      converter: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       converter: [Object],"}}
[info] >        allDescendants: false, {"user":"      allDescendants: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allDescendants: false,"}}
[info] >        filters: [Array], {"user":"      filters: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       filters: [Array],"}}
[info] >        fieldOrders: [Array], {"user":"      fieldOrders: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       fieldOrders: [Array],"}}
[info] >        startAt: undefined, {"user":"      startAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       startAt: undefined,"}}
[info] >        endAt: undefined, {"user":"      endAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       endAt: undefined,"}}
[info] >        limit: undefined, {"user":"      limit: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limit: undefined,"}}
[info] >        limitType: undefined, {"user":"      limitType: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limitType: undefined,"}}
[info] >        offset: undefined, {"user":"      offset: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       offset: undefined,"}}
[info] >        projection: undefined, {"user":"      projection: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       projection: undefined,"}}
[info] >        kindless: false, {"user":"      kindless: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       kindless: false,"}}
[info] >        requireConsistency: true {"user":"      requireConsistency: true","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       requireConsistency: true"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _serializer: Serializer { {"user":"    _serializer: Serializer {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _serializer: Serializer {"}}
[info] >        createReference: [Function (anonymous)], {"user":"      createReference: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createReference: [Function (anonymous)],"}}
[info] >        createInteger: [Function (anonymous)], {"user":"      createInteger: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createInteger: [Function (anonymous)],"}}
[info] >        allowUndefined: false {"user":"      allowUndefined: false","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allowUndefined: false"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _allowUndefined: false, {"user":"    _allowUndefined: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _allowUndefined: false,"}}
[info] >      _queryUtil: QueryUtil { {"user":"    _queryUtil: QueryUtil {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryUtil: QueryUtil {"}}
[info] >        _firestore: [Firestore], {"user":"      _firestore: [Firestore],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _firestore: [Firestore],"}}
[info] >        _queryOptions: [QueryOptions], {"user":"      _queryOptions: [QueryOptions],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _queryOptions: [QueryOptions],"}}
[info] >        _serializer: [Serializer] {"user":"      _serializer: [Serializer]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer]"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    _readTime: Timestamp { _seconds: 1729254981, _nanoseconds: 988431000 }, {"user":"  _readTime: Timestamp { _seconds: 1729254981, _nanoseconds: 988431000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _readTime: Timestamp { _seconds: 1729254981, _nanoseconds: 988431000 },"}}
[info] >    _size: 1, {"user":"  _size: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _size: 1,"}}
[info] >    _materializedDocs: null, {"user":"  _materializedDocs: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedDocs: null,"}}
[info] >    _materializedChanges: null, {"user":"  _materializedChanges: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedChanges: null,"}}
[info] >    _docs: [Function (anonymous)], {"user":"  _docs: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _docs: [Function (anonymous)],"}}
[info] >    _changes: [Function (anonymous)] {"user":"  _changes: [Function (anonymous)]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _changes: [Function (anonymous)]"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2024-10-18T12:36:22.407Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 57.5279ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 57.5279ms"}}
[debug] [2024-10-18T12:36:22.407Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T12:36:22.407Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:36:22.407Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:36:22.407Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] >  [ {"user":"[","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ["}}
[info] >    { {"user":"  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   {"}}
[info] >      id: 'AIxFbug16kvF6PQU0ybK', {"user":"    id: 'AIxFbug16kvF6PQU0ybK',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     id: 'AIxFbug16kvF6PQU0ybK',"}}
[info] >      productId: '2PHnd6lM4TG6lP6Y5fOc', {"user":"    productId: '2PHnd6lM4TG6lP6Y5fOc',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     productId: '2PHnd6lM4TG6lP6Y5fOc',"}}
[info] >      qty: 1, {"user":"    qty: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     qty: 1,"}}
[info] >      netPrice: 1, {"user":"    netPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     netPrice: 1,"}}
[info] >      partnerComm: 1, {"user":"    partnerComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     partnerComm: 1,"}}
[info] >      companyComm: 1, {"user":"    companyComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     companyComm: 1,"}}
[info] >      pricePerPerson: 1, {"user":"    pricePerPerson: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     pricePerPerson: 1,"}}
[info] >      minTotalPrice: 1, {"user":"    minTotalPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     minTotalPrice: 1,"}}
[info] >      totalPrice: 3, {"user":"    totalPrice: 3,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totalPrice: 3,"}}
[info] >      date: '2024-10-18', {"user":"    date: '2024-10-18',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: '2024-10-18',"}}
[info] >      cityId: 'OiCHcy7zKcp2uU3zlMPU', {"user":"    cityId: 'OiCHcy7zKcp2uU3zlMPU',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     cityId: 'OiCHcy7zKcp2uU3zlMPU',"}}
[info] >      totemId: '1LoQvuu4KzHC1ux7qfOR', {"user":"    totemId: '1LoQvuu4KzHC1ux7qfOR',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totemId: '1LoQvuu4KzHC1ux7qfOR',"}}
[info] >      purchaseId: 'zuDSRe9m9p2oU9O4Kz1o', {"user":"    purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',"}}
[info] >      customerId: 'rMuIfSk9AarUm73FZVtC', {"user":"    customerId: 'rMuIfSk9AarUm73FZVtC',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     customerId: 'rMuIfSk9AarUm73FZVtC',"}}
[info] >      timestamp: 1729177549038 {"user":"    timestamp: 1729177549038","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     timestamp: 1729177549038"}}
[info] >    } {"user":"  }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   }"}}
[info] >  ] {"user":"]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ]"}}
[debug] [2024-10-18T12:36:24.291Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:36:24.291Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:36:24.292Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:36:24.291Z"],"workRunningCount":1}
[debug] [2024-10-18T12:36:24.292Z] Accepted request GET /totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T12:36:24.292Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:36:24.292Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T12:36:24.292Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:36:24.293Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[debug] [2024-10-18T12:36:24.330Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 37.5928ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 37.5928ms"}}
[debug] [2024-10-18T12:36:24.331Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T12:36:24.331Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:36:24.331Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:36:24.332Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:36:24.335Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:36:24.335Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:36:24.335Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:36:24.335Z"],"workRunningCount":1}
[debug] [2024-10-18T12:36:24.336Z] Accepted request GET /totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T12:36:24.336Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:36:24.336Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T12:36:24.336Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:36:24.337Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[info] >  QuerySnapshot { {"user":"QuerySnapshot {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m QuerySnapshot {"}}
[info] >    _query: Query { {"user":"  _query: Query {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _query: Query {"}}
[info] >      _firestore: Firestore { {"user":"    _firestore: Firestore {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _firestore: Firestore {"}}
[info] >        _settings: [Object], {"user":"      _settings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settings: [Object],"}}
[info] >        _settingsFrozen: true, {"user":"      _settingsFrozen: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settingsFrozen: true,"}}
[info] >        _serializer: [Serializer], {"user":"      _serializer: [Serializer],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer],"}}
[info] >        _projectId: 'totem-tour', {"user":"      _projectId: 'totem-tour',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _projectId: 'totem-tour',"}}
[info] >        _databaseId: '(default)', {"user":"      _databaseId: '(default)',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _databaseId: '(default)',"}}
[info] >        registeredListenersCount: 0, {"user":"      registeredListenersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       registeredListenersCount: 0,"}}
[info] >        bulkWritersCount: 0, {"user":"      bulkWritersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       bulkWritersCount: 0,"}}
[info] >        _traceUtil: DisabledTraceUtil {}, {"user":"      _traceUtil: DisabledTraceUtil {},","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _traceUtil: DisabledTraceUtil {},"}}
[info] >        _backoffSettings: [Object], {"user":"      _backoffSettings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _backoffSettings: [Object],"}}
[info] >        _clientPool: [ClientPool], {"user":"      _clientPool: [ClientPool],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _clientPool: [ClientPool],"}}
[info] >        _gax: [Object] {"user":"      _gax: [Object]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _gax: [Object]"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _queryOptions: QueryOptions { {"user":"    _queryOptions: QueryOptions {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryOptions: QueryOptions {"}}
[info] >        parentPath: [ResourcePath], {"user":"      parentPath: [ResourcePath],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       parentPath: [ResourcePath],"}}
[info] >        collectionId: 'purchaseItems', {"user":"      collectionId: 'purchaseItems',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       collectionId: 'purchaseItems',"}}
[info] >        converter: [Object], {"user":"      converter: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       converter: [Object],"}}
[info] >        allDescendants: false, {"user":"      allDescendants: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allDescendants: false,"}}
[info] >        filters: [Array], {"user":"      filters: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       filters: [Array],"}}
[info] >        fieldOrders: [Array], {"user":"      fieldOrders: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       fieldOrders: [Array],"}}
[info] >        startAt: undefined, {"user":"      startAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       startAt: undefined,"}}
[info] >        endAt: undefined, {"user":"      endAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       endAt: undefined,"}}
[info] >        limit: undefined, {"user":"      limit: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limit: undefined,"}}
[info] >        limitType: undefined, {"user":"      limitType: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limitType: undefined,"}}
[info] >        offset: undefined, {"user":"      offset: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       offset: undefined,"}}
[info] >        projection: undefined, {"user":"      projection: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       projection: undefined,"}}
[info] >        kindless: false, {"user":"      kindless: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       kindless: false,"}}
[info] >        requireConsistency: true {"user":"      requireConsistency: true","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       requireConsistency: true"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _serializer: Serializer { {"user":"    _serializer: Serializer {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _serializer: Serializer {"}}
[info] >        createReference: [Function (anonymous)], {"user":"      createReference: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createReference: [Function (anonymous)],"}}
[info] >        createInteger: [Function (anonymous)], {"user":"      createInteger: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createInteger: [Function (anonymous)],"}}
[info] >        allowUndefined: false {"user":"      allowUndefined: false","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allowUndefined: false"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _allowUndefined: false, {"user":"    _allowUndefined: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _allowUndefined: false,"}}
[info] >      _queryUtil: QueryUtil { {"user":"    _queryUtil: QueryUtil {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryUtil: QueryUtil {"}}
[info] >        _firestore: [Firestore], {"user":"      _firestore: [Firestore],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _firestore: [Firestore],"}}
[info] >        _queryOptions: [QueryOptions], {"user":"      _queryOptions: [QueryOptions],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _queryOptions: [QueryOptions],"}}
[info] >        _serializer: [Serializer] {"user":"      _serializer: [Serializer]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer]"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    _readTime: Timestamp { _seconds: 1729254983, _nanoseconds: 991339000 }, {"user":"  _readTime: Timestamp { _seconds: 1729254983, _nanoseconds: 991339000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _readTime: Timestamp { _seconds: 1729254983, _nanoseconds: 991339000 },"}}
[info] >    _size: 1, {"user":"  _size: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _size: 1,"}}
[info] >    _materializedDocs: null, {"user":"  _materializedDocs: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedDocs: null,"}}
[info] >    _materializedChanges: null, {"user":"  _materializedChanges: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedChanges: null,"}}
[info] >    _docs: [Function (anonymous)], {"user":"  _docs: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _docs: [Function (anonymous)],"}}
[info] >    _changes: [Function (anonymous)] {"user":"  _changes: [Function (anonymous)]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _changes: [Function (anonymous)]"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2024-10-18T12:36:24.420Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 82.7172ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 82.7172ms"}}
[debug] [2024-10-18T12:36:24.420Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T12:36:24.420Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:36:24.421Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:36:24.421Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] >  [ {"user":"[","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ["}}
[info] >    { {"user":"  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   {"}}
[info] >      id: 'AIxFbug16kvF6PQU0ybK', {"user":"    id: 'AIxFbug16kvF6PQU0ybK',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     id: 'AIxFbug16kvF6PQU0ybK',"}}
[info] >      productId: '2PHnd6lM4TG6lP6Y5fOc', {"user":"    productId: '2PHnd6lM4TG6lP6Y5fOc',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     productId: '2PHnd6lM4TG6lP6Y5fOc',"}}
[info] >      qty: 1, {"user":"    qty: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     qty: 1,"}}
[info] >      netPrice: 1, {"user":"    netPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     netPrice: 1,"}}
[info] >      partnerComm: 1, {"user":"    partnerComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     partnerComm: 1,"}}
[info] >      companyComm: 1, {"user":"    companyComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     companyComm: 1,"}}
[info] >      pricePerPerson: 1, {"user":"    pricePerPerson: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     pricePerPerson: 1,"}}
[info] >      minTotalPrice: 1, {"user":"    minTotalPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     minTotalPrice: 1,"}}
[info] >      totalPrice: 3, {"user":"    totalPrice: 3,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totalPrice: 3,"}}
[info] >      date: '2024-10-18', {"user":"    date: '2024-10-18',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: '2024-10-18',"}}
[info] >      cityId: 'OiCHcy7zKcp2uU3zlMPU', {"user":"    cityId: 'OiCHcy7zKcp2uU3zlMPU',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     cityId: 'OiCHcy7zKcp2uU3zlMPU',"}}
[info] >      totemId: '1LoQvuu4KzHC1ux7qfOR', {"user":"    totemId: '1LoQvuu4KzHC1ux7qfOR',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totemId: '1LoQvuu4KzHC1ux7qfOR',"}}
[info] >      purchaseId: 'zuDSRe9m9p2oU9O4Kz1o', {"user":"    purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',"}}
[info] >      customerId: 'rMuIfSk9AarUm73FZVtC', {"user":"    customerId: 'rMuIfSk9AarUm73FZVtC',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     customerId: 'rMuIfSk9AarUm73FZVtC',"}}
[info] >      timestamp: 1729177549038 {"user":"    timestamp: 1729177549038","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     timestamp: 1729177549038"}}
[info] >    } {"user":"  }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   }"}}
[info] >  ] {"user":"]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ]"}}
[debug] [2024-10-18T12:36:27.241Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:36:27.241Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:36:27.241Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:36:27.241Z"],"workRunningCount":1}
[debug] [2024-10-18T12:36:27.241Z] Accepted request GET /totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T12:36:27.242Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:36:27.242Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T12:36:27.242Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:36:27.242Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[debug] [2024-10-18T12:36:27.275Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 32.8119ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 32.8119ms"}}
[debug] [2024-10-18T12:36:27.276Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T12:36:27.276Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:36:27.277Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:36:27.277Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:36:27.282Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:36:27.282Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:36:27.283Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:36:27.282Z"],"workRunningCount":1}
[debug] [2024-10-18T12:36:27.283Z] Accepted request GET /totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T12:36:27.284Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:36:27.284Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T12:36:27.284Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:36:27.285Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[info] >  QuerySnapshot { {"user":"QuerySnapshot {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m QuerySnapshot {"}}
[info] >    _query: Query { {"user":"  _query: Query {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _query: Query {"}}
[info] >      _firestore: Firestore { {"user":"    _firestore: Firestore {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _firestore: Firestore {"}}
[info] >        _settings: [Object], {"user":"      _settings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settings: [Object],"}}
[info] >        _settingsFrozen: true, {"user":"      _settingsFrozen: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settingsFrozen: true,"}}
[info] >        _serializer: [Serializer], {"user":"      _serializer: [Serializer],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer],"}}
[info] >        _projectId: 'totem-tour', {"user":"      _projectId: 'totem-tour',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _projectId: 'totem-tour',"}}
[info] >        _databaseId: '(default)', {"user":"      _databaseId: '(default)',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _databaseId: '(default)',"}}
[info] >        registeredListenersCount: 0, {"user":"      registeredListenersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       registeredListenersCount: 0,"}}
[info] >        bulkWritersCount: 0, {"user":"      bulkWritersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       bulkWritersCount: 0,"}}
[info] >        _traceUtil: DisabledTraceUtil {}, {"user":"      _traceUtil: DisabledTraceUtil {},","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _traceUtil: DisabledTraceUtil {},"}}
[info] >        _backoffSettings: [Object], {"user":"      _backoffSettings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _backoffSettings: [Object],"}}
[info] >        _clientPool: [ClientPool], {"user":"      _clientPool: [ClientPool],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _clientPool: [ClientPool],"}}
[info] >        _gax: [Object] {"user":"      _gax: [Object]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _gax: [Object]"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _queryOptions: QueryOptions { {"user":"    _queryOptions: QueryOptions {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryOptions: QueryOptions {"}}
[info] >        parentPath: [ResourcePath], {"user":"      parentPath: [ResourcePath],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       parentPath: [ResourcePath],"}}
[info] >        collectionId: 'purchaseItems', {"user":"      collectionId: 'purchaseItems',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       collectionId: 'purchaseItems',"}}
[info] >        converter: [Object], {"user":"      converter: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       converter: [Object],"}}
[info] >        allDescendants: false, {"user":"      allDescendants: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allDescendants: false,"}}
[info] >        filters: [Array], {"user":"      filters: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       filters: [Array],"}}
[info] >        fieldOrders: [Array], {"user":"      fieldOrders: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       fieldOrders: [Array],"}}
[info] >        startAt: undefined, {"user":"      startAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       startAt: undefined,"}}
[info] >        endAt: undefined, {"user":"      endAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       endAt: undefined,"}}
[info] >        limit: undefined, {"user":"      limit: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limit: undefined,"}}
[info] >        limitType: undefined, {"user":"      limitType: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limitType: undefined,"}}
[info] >        offset: undefined, {"user":"      offset: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       offset: undefined,"}}
[info] >        projection: undefined, {"user":"      projection: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       projection: undefined,"}}
[info] >        kindless: false, {"user":"      kindless: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       kindless: false,"}}
[info] >        requireConsistency: true {"user":"      requireConsistency: true","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       requireConsistency: true"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _serializer: Serializer { {"user":"    _serializer: Serializer {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _serializer: Serializer {"}}
[info] >        createReference: [Function (anonymous)], {"user":"      createReference: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createReference: [Function (anonymous)],"}}
[info] >        createInteger: [Function (anonymous)], {"user":"      createInteger: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createInteger: [Function (anonymous)],"}}
[info] >        allowUndefined: false {"user":"      allowUndefined: false","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allowUndefined: false"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _allowUndefined: false, {"user":"    _allowUndefined: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _allowUndefined: false,"}}
[info] >      _queryUtil: QueryUtil { {"user":"    _queryUtil: QueryUtil {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryUtil: QueryUtil {"}}
[info] >        _firestore: [Firestore], {"user":"      _firestore: [Firestore],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _firestore: [Firestore],"}}
[info] >        _queryOptions: [QueryOptions], {"user":"      _queryOptions: [QueryOptions],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _queryOptions: [QueryOptions],"}}
[info] >        _serializer: [Serializer] {"user":"      _serializer: [Serializer]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer]"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    _readTime: Timestamp { _seconds: 1729254986, _nanoseconds: 924198000 }, {"user":"  _readTime: Timestamp { _seconds: 1729254986, _nanoseconds: 924198000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _readTime: Timestamp { _seconds: 1729254986, _nanoseconds: 924198000 },"}}
[info] >    _size: 1, {"user":"  _size: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _size: 1,"}}
[info] >    _materializedDocs: null, {"user":"  _materializedDocs: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedDocs: null,"}}
[info] >    _materializedChanges: null, {"user":"  _materializedChanges: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedChanges: null,"}}
[info] >    _docs: [Function (anonymous)], {"user":"  _docs: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _docs: [Function (anonymous)],"}}
[info] >    _changes: [Function (anonymous)] {"user":"  _changes: [Function (anonymous)]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _changes: [Function (anonymous)]"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2024-10-18T12:36:27.335Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 50.8684ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 50.8684ms"}}
[debug] [2024-10-18T12:36:27.336Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T12:36:27.336Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:36:27.336Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:36:27.336Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] >  [ {"user":"[","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ["}}
[info] >    { {"user":"  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   {"}}
[info] >      id: 'AIxFbug16kvF6PQU0ybK', {"user":"    id: 'AIxFbug16kvF6PQU0ybK',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     id: 'AIxFbug16kvF6PQU0ybK',"}}
[info] >      productId: '2PHnd6lM4TG6lP6Y5fOc', {"user":"    productId: '2PHnd6lM4TG6lP6Y5fOc',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     productId: '2PHnd6lM4TG6lP6Y5fOc',"}}
[info] >      qty: 1, {"user":"    qty: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     qty: 1,"}}
[info] >      netPrice: 1, {"user":"    netPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     netPrice: 1,"}}
[info] >      partnerComm: 1, {"user":"    partnerComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     partnerComm: 1,"}}
[info] >      companyComm: 1, {"user":"    companyComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     companyComm: 1,"}}
[info] >      pricePerPerson: 1, {"user":"    pricePerPerson: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     pricePerPerson: 1,"}}
[info] >      minTotalPrice: 1, {"user":"    minTotalPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     minTotalPrice: 1,"}}
[info] >      totalPrice: 3, {"user":"    totalPrice: 3,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totalPrice: 3,"}}
[info] >      date: '2024-10-18', {"user":"    date: '2024-10-18',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: '2024-10-18',"}}
[info] >      cityId: 'OiCHcy7zKcp2uU3zlMPU', {"user":"    cityId: 'OiCHcy7zKcp2uU3zlMPU',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     cityId: 'OiCHcy7zKcp2uU3zlMPU',"}}
[info] >      totemId: '1LoQvuu4KzHC1ux7qfOR', {"user":"    totemId: '1LoQvuu4KzHC1ux7qfOR',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totemId: '1LoQvuu4KzHC1ux7qfOR',"}}
[info] >      purchaseId: 'zuDSRe9m9p2oU9O4Kz1o', {"user":"    purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',"}}
[info] >      customerId: 'rMuIfSk9AarUm73FZVtC', {"user":"    customerId: 'rMuIfSk9AarUm73FZVtC',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     customerId: 'rMuIfSk9AarUm73FZVtC',"}}
[info] >      timestamp: 1729177549038 {"user":"    timestamp: 1729177549038","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     timestamp: 1729177549038"}}
[info] >    } {"user":"  }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   }"}}
[info] >  ] {"user":"]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ]"}}
[debug] [2024-10-18T12:36:29.255Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:36:29.255Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:36:29.256Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:36:29.255Z"],"workRunningCount":1}
[debug] [2024-10-18T12:36:29.256Z] Accepted request GET /totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T12:36:29.258Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:36:29.259Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T12:36:29.259Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:36:29.261Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[debug] [2024-10-18T12:36:29.300Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 39.5326ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 39.5326ms"}}
[debug] [2024-10-18T12:36:29.301Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T12:36:29.302Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:36:29.302Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:36:29.302Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:36:29.307Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:36:29.306Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:36:29.307Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:36:29.306Z"],"workRunningCount":1}
[debug] [2024-10-18T12:36:29.307Z] Accepted request GET /totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T12:36:29.308Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:36:29.308Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T12:36:29.309Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:36:29.309Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[info] >  QuerySnapshot { {"user":"QuerySnapshot {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m QuerySnapshot {"}}
[info] >    _query: Query { {"user":"  _query: Query {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _query: Query {"}}
[info] >      _firestore: Firestore { {"user":"    _firestore: Firestore {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _firestore: Firestore {"}}
[info] >        _settings: [Object], {"user":"      _settings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settings: [Object],"}}
[info] >        _settingsFrozen: true, {"user":"      _settingsFrozen: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settingsFrozen: true,"}}
[info] >        _serializer: [Serializer], {"user":"      _serializer: [Serializer],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer],"}}
[info] >        _projectId: 'totem-tour', {"user":"      _projectId: 'totem-tour',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _projectId: 'totem-tour',"}}
[info] >        _databaseId: '(default)', {"user":"      _databaseId: '(default)',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _databaseId: '(default)',"}}
[info] >        registeredListenersCount: 0, {"user":"      registeredListenersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       registeredListenersCount: 0,"}}
[info] >        bulkWritersCount: 0, {"user":"      bulkWritersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       bulkWritersCount: 0,"}}
[info] >        _traceUtil: DisabledTraceUtil {}, {"user":"      _traceUtil: DisabledTraceUtil {},","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _traceUtil: DisabledTraceUtil {},"}}
[info] >        _backoffSettings: [Object], {"user":"      _backoffSettings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _backoffSettings: [Object],"}}
[info] >        _clientPool: [ClientPool], {"user":"      _clientPool: [ClientPool],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _clientPool: [ClientPool],"}}
[info] >        _gax: [Object] {"user":"      _gax: [Object]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _gax: [Object]"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _queryOptions: QueryOptions { {"user":"    _queryOptions: QueryOptions {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryOptions: QueryOptions {"}}
[info] >        parentPath: [ResourcePath], {"user":"      parentPath: [ResourcePath],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       parentPath: [ResourcePath],"}}
[info] >        collectionId: 'purchaseItems', {"user":"      collectionId: 'purchaseItems',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       collectionId: 'purchaseItems',"}}
[info] >        converter: [Object], {"user":"      converter: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       converter: [Object],"}}
[info] >        allDescendants: false, {"user":"      allDescendants: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allDescendants: false,"}}
[info] >        filters: [Array], {"user":"      filters: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       filters: [Array],"}}
[info] >        fieldOrders: [Array], {"user":"      fieldOrders: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       fieldOrders: [Array],"}}
[info] >        startAt: undefined, {"user":"      startAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       startAt: undefined,"}}
[info] >        endAt: undefined, {"user":"      endAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       endAt: undefined,"}}
[info] >        limit: undefined, {"user":"      limit: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limit: undefined,"}}
[info] >        limitType: undefined, {"user":"      limitType: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limitType: undefined,"}}
[info] >        offset: undefined, {"user":"      offset: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       offset: undefined,"}}
[info] >        projection: undefined, {"user":"      projection: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       projection: undefined,"}}
[info] >        kindless: false, {"user":"      kindless: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       kindless: false,"}}
[info] >        requireConsistency: true {"user":"      requireConsistency: true","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       requireConsistency: true"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _serializer: Serializer { {"user":"    _serializer: Serializer {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _serializer: Serializer {"}}
[info] >        createReference: [Function (anonymous)], {"user":"      createReference: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createReference: [Function (anonymous)],"}}
[info] >        createInteger: [Function (anonymous)], {"user":"      createInteger: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createInteger: [Function (anonymous)],"}}
[info] >        allowUndefined: false {"user":"      allowUndefined: false","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allowUndefined: false"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _allowUndefined: false, {"user":"    _allowUndefined: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _allowUndefined: false,"}}
[info] >      _queryUtil: QueryUtil { {"user":"    _queryUtil: QueryUtil {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryUtil: QueryUtil {"}}
[info] >        _firestore: [Firestore], {"user":"      _firestore: [Firestore],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _firestore: [Firestore],"}}
[info] >        _queryOptions: [QueryOptions], {"user":"      _queryOptions: [QueryOptions],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _queryOptions: [QueryOptions],"}}
[info] >        _serializer: [Serializer] {"user":"      _serializer: [Serializer]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer]"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    _readTime: Timestamp { _seconds: 1729254988, _nanoseconds: 962210000 }, {"user":"  _readTime: Timestamp { _seconds: 1729254988, _nanoseconds: 962210000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _readTime: Timestamp { _seconds: 1729254988, _nanoseconds: 962210000 },"}}
[info] >    _size: 1, {"user":"  _size: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _size: 1,"}}
[info] >    _materializedDocs: null, {"user":"  _materializedDocs: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedDocs: null,"}}
[info] >    _materializedChanges: null, {"user":"  _materializedChanges: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedChanges: null,"}}
[info] >    _docs: [Function (anonymous)], {"user":"  _docs: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _docs: [Function (anonymous)],"}}
[info] >    _changes: [Function (anonymous)] {"user":"  _changes: [Function (anonymous)]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _changes: [Function (anonymous)]"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2024-10-18T12:36:29.379Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 69.3989ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 69.3989ms"}}
[debug] [2024-10-18T12:36:29.379Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T12:36:29.379Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:36:29.380Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:36:29.380Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] >  [ {"user":"[","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ["}}
[info] >    { {"user":"  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   {"}}
[info] >      id: 'AIxFbug16kvF6PQU0ybK', {"user":"    id: 'AIxFbug16kvF6PQU0ybK',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     id: 'AIxFbug16kvF6PQU0ybK',"}}
[info] >      productId: '2PHnd6lM4TG6lP6Y5fOc', {"user":"    productId: '2PHnd6lM4TG6lP6Y5fOc',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     productId: '2PHnd6lM4TG6lP6Y5fOc',"}}
[info] >      qty: 1, {"user":"    qty: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     qty: 1,"}}
[info] >      netPrice: 1, {"user":"    netPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     netPrice: 1,"}}
[info] >      partnerComm: 1, {"user":"    partnerComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     partnerComm: 1,"}}
[info] >      companyComm: 1, {"user":"    companyComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     companyComm: 1,"}}
[info] >      pricePerPerson: 1, {"user":"    pricePerPerson: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     pricePerPerson: 1,"}}
[info] >      minTotalPrice: 1, {"user":"    minTotalPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     minTotalPrice: 1,"}}
[info] >      totalPrice: 3, {"user":"    totalPrice: 3,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totalPrice: 3,"}}
[info] >      date: '2024-10-18', {"user":"    date: '2024-10-18',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: '2024-10-18',"}}
[info] >      cityId: 'OiCHcy7zKcp2uU3zlMPU', {"user":"    cityId: 'OiCHcy7zKcp2uU3zlMPU',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     cityId: 'OiCHcy7zKcp2uU3zlMPU',"}}
[info] >      totemId: '1LoQvuu4KzHC1ux7qfOR', {"user":"    totemId: '1LoQvuu4KzHC1ux7qfOR',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totemId: '1LoQvuu4KzHC1ux7qfOR',"}}
[info] >      purchaseId: 'zuDSRe9m9p2oU9O4Kz1o', {"user":"    purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',"}}
[info] >      customerId: 'rMuIfSk9AarUm73FZVtC', {"user":"    customerId: 'rMuIfSk9AarUm73FZVtC',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     customerId: 'rMuIfSk9AarUm73FZVtC',"}}
[info] >      timestamp: 1729177549038 {"user":"    timestamp: 1729177549038","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     timestamp: 1729177549038"}}
[info] >    } {"user":"  }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   }"}}
[info] >  ] {"user":"]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ]"}}
[debug] [2024-10-18T12:36:49.256Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:36:49.256Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:36:49.256Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:36:49.256Z"],"workRunningCount":1}
[debug] [2024-10-18T12:36:49.257Z] Accepted request GET /totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T12:36:49.260Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:36:49.260Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T12:36:49.260Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:36:49.261Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[debug] [2024-10-18T12:36:49.302Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 40.9524ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 40.9524ms"}}
[debug] [2024-10-18T12:36:49.303Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T12:36:49.303Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:36:49.303Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:36:49.303Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:36:49.306Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:36:49.306Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:36:49.306Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:36:49.306Z"],"workRunningCount":1}
[debug] [2024-10-18T12:36:49.307Z] Accepted request GET /totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T12:36:49.309Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:36:49.309Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T12:36:49.309Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:36:49.309Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[info] >  QuerySnapshot { {"user":"QuerySnapshot {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m QuerySnapshot {"}}
[info] >    _query: Query { {"user":"  _query: Query {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _query: Query {"}}
[info] >      _firestore: Firestore { {"user":"    _firestore: Firestore {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _firestore: Firestore {"}}
[info] >        _settings: [Object], {"user":"      _settings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settings: [Object],"}}
[info] >        _settingsFrozen: true, {"user":"      _settingsFrozen: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settingsFrozen: true,"}}
[info] >        _serializer: [Serializer], {"user":"      _serializer: [Serializer],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer],"}}
[info] >        _projectId: 'totem-tour', {"user":"      _projectId: 'totem-tour',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _projectId: 'totem-tour',"}}
[info] >        _databaseId: '(default)', {"user":"      _databaseId: '(default)',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _databaseId: '(default)',"}}
[info] >        registeredListenersCount: 0, {"user":"      registeredListenersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       registeredListenersCount: 0,"}}
[info] >        bulkWritersCount: 0, {"user":"      bulkWritersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       bulkWritersCount: 0,"}}
[info] >        _traceUtil: DisabledTraceUtil {}, {"user":"      _traceUtil: DisabledTraceUtil {},","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _traceUtil: DisabledTraceUtil {},"}}
[info] >        _backoffSettings: [Object], {"user":"      _backoffSettings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _backoffSettings: [Object],"}}
[info] >        _clientPool: [ClientPool], {"user":"      _clientPool: [ClientPool],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _clientPool: [ClientPool],"}}
[info] >        _gax: [Object] {"user":"      _gax: [Object]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _gax: [Object]"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _queryOptions: QueryOptions { {"user":"    _queryOptions: QueryOptions {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryOptions: QueryOptions {"}}
[info] >        parentPath: [ResourcePath], {"user":"      parentPath: [ResourcePath],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       parentPath: [ResourcePath],"}}
[info] >        collectionId: 'purchaseItems', {"user":"      collectionId: 'purchaseItems',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       collectionId: 'purchaseItems',"}}
[info] >        converter: [Object], {"user":"      converter: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       converter: [Object],"}}
[info] >        allDescendants: false, {"user":"      allDescendants: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allDescendants: false,"}}
[info] >        filters: [Array], {"user":"      filters: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       filters: [Array],"}}
[info] >        fieldOrders: [Array], {"user":"      fieldOrders: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       fieldOrders: [Array],"}}
[info] >        startAt: undefined, {"user":"      startAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       startAt: undefined,"}}
[info] >        endAt: undefined, {"user":"      endAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       endAt: undefined,"}}
[info] >        limit: undefined, {"user":"      limit: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limit: undefined,"}}
[info] >        limitType: undefined, {"user":"      limitType: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limitType: undefined,"}}
[info] >        offset: undefined, {"user":"      offset: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       offset: undefined,"}}
[info] >        projection: undefined, {"user":"      projection: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       projection: undefined,"}}
[info] >        kindless: false, {"user":"      kindless: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       kindless: false,"}}
[info] >        requireConsistency: true {"user":"      requireConsistency: true","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       requireConsistency: true"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _serializer: Serializer { {"user":"    _serializer: Serializer {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _serializer: Serializer {"}}
[info] >        createReference: [Function (anonymous)], {"user":"      createReference: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createReference: [Function (anonymous)],"}}
[info] >        createInteger: [Function (anonymous)], {"user":"      createInteger: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createInteger: [Function (anonymous)],"}}
[info] >        allowUndefined: false {"user":"      allowUndefined: false","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allowUndefined: false"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _allowUndefined: false, {"user":"    _allowUndefined: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _allowUndefined: false,"}}
[info] >      _queryUtil: QueryUtil { {"user":"    _queryUtil: QueryUtil {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryUtil: QueryUtil {"}}
[info] >        _firestore: [Firestore], {"user":"      _firestore: [Firestore],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _firestore: [Firestore],"}}
[info] >        _queryOptions: [QueryOptions], {"user":"      _queryOptions: [QueryOptions],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _queryOptions: [QueryOptions],"}}
[info] >        _serializer: [Serializer] {"user":"      _serializer: [Serializer]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer]"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    _readTime: Timestamp { _seconds: 1729255008, _nanoseconds: 953495000 }, {"user":"  _readTime: Timestamp { _seconds: 1729255008, _nanoseconds: 953495000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _readTime: Timestamp { _seconds: 1729255008, _nanoseconds: 953495000 },"}}
[info] >    _size: 1, {"user":"  _size: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _size: 1,"}}
[info] >    _materializedDocs: null, {"user":"  _materializedDocs: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedDocs: null,"}}
[info] >    _materializedChanges: null, {"user":"  _materializedChanges: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedChanges: null,"}}
[info] >    _docs: [Function (anonymous)], {"user":"  _docs: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _docs: [Function (anonymous)],"}}
[info] >    _changes: [Function (anonymous)] {"user":"  _changes: [Function (anonymous)]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _changes: [Function (anonymous)]"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2024-10-18T12:36:49.372Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 62.9827ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 62.9827ms"}}
[debug] [2024-10-18T12:36:49.373Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T12:36:49.373Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:36:49.373Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:36:49.373Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] >  [ {"user":"[","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ["}}
[info] >    { {"user":"  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   {"}}
[info] >      id: 'AIxFbug16kvF6PQU0ybK', {"user":"    id: 'AIxFbug16kvF6PQU0ybK',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     id: 'AIxFbug16kvF6PQU0ybK',"}}
[info] >      productId: '2PHnd6lM4TG6lP6Y5fOc', {"user":"    productId: '2PHnd6lM4TG6lP6Y5fOc',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     productId: '2PHnd6lM4TG6lP6Y5fOc',"}}
[info] >      qty: 1, {"user":"    qty: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     qty: 1,"}}
[info] >      netPrice: 1, {"user":"    netPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     netPrice: 1,"}}
[info] >      partnerComm: 1, {"user":"    partnerComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     partnerComm: 1,"}}
[info] >      companyComm: 1, {"user":"    companyComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     companyComm: 1,"}}
[info] >      pricePerPerson: 1, {"user":"    pricePerPerson: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     pricePerPerson: 1,"}}
[info] >      minTotalPrice: 1, {"user":"    minTotalPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     minTotalPrice: 1,"}}
[info] >      totalPrice: 3, {"user":"    totalPrice: 3,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totalPrice: 3,"}}
[info] >      date: '2024-10-18', {"user":"    date: '2024-10-18',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: '2024-10-18',"}}
[info] >      cityId: 'OiCHcy7zKcp2uU3zlMPU', {"user":"    cityId: 'OiCHcy7zKcp2uU3zlMPU',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     cityId: 'OiCHcy7zKcp2uU3zlMPU',"}}
[info] >      totemId: '1LoQvuu4KzHC1ux7qfOR', {"user":"    totemId: '1LoQvuu4KzHC1ux7qfOR',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totemId: '1LoQvuu4KzHC1ux7qfOR',"}}
[info] >      purchaseId: 'zuDSRe9m9p2oU9O4Kz1o', {"user":"    purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',"}}
[info] >      customerId: 'rMuIfSk9AarUm73FZVtC', {"user":"    customerId: 'rMuIfSk9AarUm73FZVtC',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     customerId: 'rMuIfSk9AarUm73FZVtC',"}}
[info] >      timestamp: 1729177549038 {"user":"    timestamp: 1729177549038","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     timestamp: 1729177549038"}}
[info] >    } {"user":"  }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   }"}}
[info] >  ] {"user":"]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ]"}}
[debug] [2024-10-18T12:36:51.258Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:36:51.257Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:36:51.258Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:36:51.257Z"],"workRunningCount":1}
[debug] [2024-10-18T12:36:51.258Z] Accepted request GET /totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T12:36:51.260Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:36:51.260Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T12:36:51.261Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:36:51.262Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[debug] [2024-10-18T12:36:51.300Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 37.4153ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 37.4153ms"}}
[debug] [2024-10-18T12:36:51.301Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T12:36:51.301Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:36:51.301Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:36:51.301Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:36:51.304Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:36:51.304Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:36:51.304Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:36:51.304Z"],"workRunningCount":1}
[debug] [2024-10-18T12:36:51.304Z] Accepted request GET /totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T12:36:51.305Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:36:51.305Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T12:36:51.305Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:36:51.306Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[info] >  QuerySnapshot { {"user":"QuerySnapshot {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m QuerySnapshot {"}}
[info] >    _query: Query { {"user":"  _query: Query {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _query: Query {"}}
[info] >      _firestore: Firestore { {"user":"    _firestore: Firestore {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _firestore: Firestore {"}}
[info] >        _settings: [Object], {"user":"      _settings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settings: [Object],"}}
[info] >        _settingsFrozen: true, {"user":"      _settingsFrozen: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settingsFrozen: true,"}}
[info] >        _serializer: [Serializer], {"user":"      _serializer: [Serializer],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer],"}}
[info] >        _projectId: 'totem-tour', {"user":"      _projectId: 'totem-tour',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _projectId: 'totem-tour',"}}
[info] >        _databaseId: '(default)', {"user":"      _databaseId: '(default)',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _databaseId: '(default)',"}}
[info] >        registeredListenersCount: 0, {"user":"      registeredListenersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       registeredListenersCount: 0,"}}
[info] >        bulkWritersCount: 0, {"user":"      bulkWritersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       bulkWritersCount: 0,"}}
[info] >        _traceUtil: DisabledTraceUtil {}, {"user":"      _traceUtil: DisabledTraceUtil {},","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _traceUtil: DisabledTraceUtil {},"}}
[info] >        _backoffSettings: [Object], {"user":"      _backoffSettings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _backoffSettings: [Object],"}}
[info] >        _clientPool: [ClientPool], {"user":"      _clientPool: [ClientPool],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _clientPool: [ClientPool],"}}
[info] >        _gax: [Object] {"user":"      _gax: [Object]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _gax: [Object]"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _queryOptions: QueryOptions { {"user":"    _queryOptions: QueryOptions {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryOptions: QueryOptions {"}}
[info] >        parentPath: [ResourcePath], {"user":"      parentPath: [ResourcePath],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       parentPath: [ResourcePath],"}}
[info] >        collectionId: 'purchaseItems', {"user":"      collectionId: 'purchaseItems',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       collectionId: 'purchaseItems',"}}
[info] >        converter: [Object], {"user":"      converter: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       converter: [Object],"}}
[info] >        allDescendants: false, {"user":"      allDescendants: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allDescendants: false,"}}
[info] >        filters: [Array], {"user":"      filters: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       filters: [Array],"}}
[info] >        fieldOrders: [Array], {"user":"      fieldOrders: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       fieldOrders: [Array],"}}
[info] >        startAt: undefined, {"user":"      startAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       startAt: undefined,"}}
[info] >        endAt: undefined, {"user":"      endAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       endAt: undefined,"}}
[info] >        limit: undefined, {"user":"      limit: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limit: undefined,"}}
[info] >        limitType: undefined, {"user":"      limitType: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limitType: undefined,"}}
[info] >        offset: undefined, {"user":"      offset: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       offset: undefined,"}}
[info] >        projection: undefined, {"user":"      projection: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       projection: undefined,"}}
[info] >        kindless: false, {"user":"      kindless: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       kindless: false,"}}
[info] >        requireConsistency: true {"user":"      requireConsistency: true","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       requireConsistency: true"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _serializer: Serializer { {"user":"    _serializer: Serializer {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _serializer: Serializer {"}}
[info] >        createReference: [Function (anonymous)], {"user":"      createReference: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createReference: [Function (anonymous)],"}}
[info] >        createInteger: [Function (anonymous)], {"user":"      createInteger: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createInteger: [Function (anonymous)],"}}
[info] >        allowUndefined: false {"user":"      allowUndefined: false","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allowUndefined: false"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _allowUndefined: false, {"user":"    _allowUndefined: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _allowUndefined: false,"}}
[info] >      _queryUtil: QueryUtil { {"user":"    _queryUtil: QueryUtil {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryUtil: QueryUtil {"}}
[info] >        _firestore: [Firestore], {"user":"      _firestore: [Firestore],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _firestore: [Firestore],"}}
[info] >        _queryOptions: [QueryOptions], {"user":"      _queryOptions: [QueryOptions],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _queryOptions: [QueryOptions],"}}
[info] >        _serializer: [Serializer] {"user":"      _serializer: [Serializer]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer]"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    _readTime: Timestamp { _seconds: 1729255010, _nanoseconds: 951590000 }, {"user":"  _readTime: Timestamp { _seconds: 1729255010, _nanoseconds: 951590000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _readTime: Timestamp { _seconds: 1729255010, _nanoseconds: 951590000 },"}}
[info] >    _size: 1, {"user":"  _size: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _size: 1,"}}
[info] >    _materializedDocs: null, {"user":"  _materializedDocs: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedDocs: null,"}}
[info] >    _materializedChanges: null, {"user":"  _materializedChanges: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedChanges: null,"}}
[info] >    _docs: [Function (anonymous)], {"user":"  _docs: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _docs: [Function (anonymous)],"}}
[info] >    _changes: [Function (anonymous)] {"user":"  _changes: [Function (anonymous)]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _changes: [Function (anonymous)]"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2024-10-18T12:36:51.368Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 61.887ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 61.887ms"}}
[debug] [2024-10-18T12:36:51.368Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T12:36:51.368Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:36:51.368Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:36:51.368Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] >  [ {"user":"[","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ["}}
[info] >    { {"user":"  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   {"}}
[info] >      id: 'AIxFbug16kvF6PQU0ybK', {"user":"    id: 'AIxFbug16kvF6PQU0ybK',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     id: 'AIxFbug16kvF6PQU0ybK',"}}
[info] >      productId: '2PHnd6lM4TG6lP6Y5fOc', {"user":"    productId: '2PHnd6lM4TG6lP6Y5fOc',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     productId: '2PHnd6lM4TG6lP6Y5fOc',"}}
[info] >      qty: 1, {"user":"    qty: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     qty: 1,"}}
[info] >      netPrice: 1, {"user":"    netPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     netPrice: 1,"}}
[info] >      partnerComm: 1, {"user":"    partnerComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     partnerComm: 1,"}}
[info] >      companyComm: 1, {"user":"    companyComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     companyComm: 1,"}}
[info] >      pricePerPerson: 1, {"user":"    pricePerPerson: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     pricePerPerson: 1,"}}
[info] >      minTotalPrice: 1, {"user":"    minTotalPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     minTotalPrice: 1,"}}
[info] >      totalPrice: 3, {"user":"    totalPrice: 3,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totalPrice: 3,"}}
[info] >      date: '2024-10-18', {"user":"    date: '2024-10-18',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: '2024-10-18',"}}
[info] >      cityId: 'OiCHcy7zKcp2uU3zlMPU', {"user":"    cityId: 'OiCHcy7zKcp2uU3zlMPU',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     cityId: 'OiCHcy7zKcp2uU3zlMPU',"}}
[info] >      totemId: '1LoQvuu4KzHC1ux7qfOR', {"user":"    totemId: '1LoQvuu4KzHC1ux7qfOR',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totemId: '1LoQvuu4KzHC1ux7qfOR',"}}
[info] >      purchaseId: 'zuDSRe9m9p2oU9O4Kz1o', {"user":"    purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',"}}
[info] >      customerId: 'rMuIfSk9AarUm73FZVtC', {"user":"    customerId: 'rMuIfSk9AarUm73FZVtC',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     customerId: 'rMuIfSk9AarUm73FZVtC',"}}
[info] >      timestamp: 1729177549038 {"user":"    timestamp: 1729177549038","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     timestamp: 1729177549038"}}
[info] >    } {"user":"  }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   }"}}
[info] >  ] {"user":"]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ]"}}
[debug] [2024-10-18T12:36:55.240Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:36:55.240Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:36:55.240Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:36:55.240Z"],"workRunningCount":1}
[debug] [2024-10-18T12:36:55.241Z] Accepted request GET /totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T12:36:55.241Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:36:55.241Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T12:36:55.242Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:36:55.242Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[debug] [2024-10-18T12:36:55.277Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 34.4631ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 34.4631ms"}}
[debug] [2024-10-18T12:36:55.278Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T12:36:55.278Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:36:55.278Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:36:55.278Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:36:55.284Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:36:55.283Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:36:55.284Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:36:55.283Z"],"workRunningCount":1}
[debug] [2024-10-18T12:36:55.284Z] Accepted request GET /totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T12:36:55.285Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:36:55.285Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T12:36:55.285Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:36:55.287Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[info] >  QuerySnapshot { {"user":"QuerySnapshot {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m QuerySnapshot {"}}
[info] >    _query: Query { {"user":"  _query: Query {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _query: Query {"}}
[info] >      _firestore: Firestore { {"user":"    _firestore: Firestore {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _firestore: Firestore {"}}
[info] >        _settings: [Object], {"user":"      _settings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settings: [Object],"}}
[info] >        _settingsFrozen: true, {"user":"      _settingsFrozen: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settingsFrozen: true,"}}
[info] >        _serializer: [Serializer], {"user":"      _serializer: [Serializer],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer],"}}
[info] >        _projectId: 'totem-tour', {"user":"      _projectId: 'totem-tour',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _projectId: 'totem-tour',"}}
[info] >        _databaseId: '(default)', {"user":"      _databaseId: '(default)',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _databaseId: '(default)',"}}
[info] >        registeredListenersCount: 0, {"user":"      registeredListenersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       registeredListenersCount: 0,"}}
[info] >        bulkWritersCount: 0, {"user":"      bulkWritersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       bulkWritersCount: 0,"}}
[info] >        _traceUtil: DisabledTraceUtil {}, {"user":"      _traceUtil: DisabledTraceUtil {},","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _traceUtil: DisabledTraceUtil {},"}}
[info] >        _backoffSettings: [Object], {"user":"      _backoffSettings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _backoffSettings: [Object],"}}
[info] >        _clientPool: [ClientPool], {"user":"      _clientPool: [ClientPool],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _clientPool: [ClientPool],"}}
[info] >        _gax: [Object] {"user":"      _gax: [Object]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _gax: [Object]"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _queryOptions: QueryOptions { {"user":"    _queryOptions: QueryOptions {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryOptions: QueryOptions {"}}
[info] >        parentPath: [ResourcePath], {"user":"      parentPath: [ResourcePath],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       parentPath: [ResourcePath],"}}
[info] >        collectionId: 'purchaseItems', {"user":"      collectionId: 'purchaseItems',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       collectionId: 'purchaseItems',"}}
[info] >        converter: [Object], {"user":"      converter: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       converter: [Object],"}}
[info] >        allDescendants: false, {"user":"      allDescendants: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allDescendants: false,"}}
[info] >        filters: [Array], {"user":"      filters: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       filters: [Array],"}}
[info] >        fieldOrders: [Array], {"user":"      fieldOrders: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       fieldOrders: [Array],"}}
[info] >        startAt: undefined, {"user":"      startAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       startAt: undefined,"}}
[info] >        endAt: undefined, {"user":"      endAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       endAt: undefined,"}}
[info] >        limit: undefined, {"user":"      limit: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limit: undefined,"}}
[info] >        limitType: undefined, {"user":"      limitType: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limitType: undefined,"}}
[info] >        offset: undefined, {"user":"      offset: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       offset: undefined,"}}
[info] >        projection: undefined, {"user":"      projection: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       projection: undefined,"}}
[info] >        kindless: false, {"user":"      kindless: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       kindless: false,"}}
[info] >        requireConsistency: true {"user":"      requireConsistency: true","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       requireConsistency: true"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _serializer: Serializer { {"user":"    _serializer: Serializer {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _serializer: Serializer {"}}
[info] >        createReference: [Function (anonymous)], {"user":"      createReference: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createReference: [Function (anonymous)],"}}
[info] >        createInteger: [Function (anonymous)], {"user":"      createInteger: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createInteger: [Function (anonymous)],"}}
[info] >        allowUndefined: false {"user":"      allowUndefined: false","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allowUndefined: false"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _allowUndefined: false, {"user":"    _allowUndefined: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _allowUndefined: false,"}}
[info] >      _queryUtil: QueryUtil { {"user":"    _queryUtil: QueryUtil {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryUtil: QueryUtil {"}}
[info] >        _firestore: [Firestore], {"user":"      _firestore: [Firestore],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _firestore: [Firestore],"}}
[info] >        _queryOptions: [QueryOptions], {"user":"      _queryOptions: [QueryOptions],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _queryOptions: [QueryOptions],"}}
[info] >        _serializer: [Serializer] {"user":"      _serializer: [Serializer]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer]"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    _readTime: Timestamp { _seconds: 1729255014, _nanoseconds: 939789000 }, {"user":"  _readTime: Timestamp { _seconds: 1729255014, _nanoseconds: 939789000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _readTime: Timestamp { _seconds: 1729255014, _nanoseconds: 939789000 },"}}
[info] >    _size: 1, {"user":"  _size: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _size: 1,"}}
[info] >    _materializedDocs: null, {"user":"  _materializedDocs: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedDocs: null,"}}
[info] >    _materializedChanges: null, {"user":"  _materializedChanges: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedChanges: null,"}}
[info] >    _docs: [Function (anonymous)], {"user":"  _docs: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _docs: [Function (anonymous)],"}}
[info] >    _changes: [Function (anonymous)] {"user":"  _changes: [Function (anonymous)]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _changes: [Function (anonymous)]"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2024-10-18T12:36:55.362Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 75.0042ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 75.0042ms"}}
[debug] [2024-10-18T12:36:55.363Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T12:36:55.363Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:36:55.363Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:36:55.363Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] >  [ {"user":"[","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ["}}
[info] >    { {"user":"  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   {"}}
[info] >      id: 'AIxFbug16kvF6PQU0ybK', {"user":"    id: 'AIxFbug16kvF6PQU0ybK',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     id: 'AIxFbug16kvF6PQU0ybK',"}}
[info] >      productId: '2PHnd6lM4TG6lP6Y5fOc', {"user":"    productId: '2PHnd6lM4TG6lP6Y5fOc',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     productId: '2PHnd6lM4TG6lP6Y5fOc',"}}
[info] >      qty: 1, {"user":"    qty: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     qty: 1,"}}
[info] >      netPrice: 1, {"user":"    netPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     netPrice: 1,"}}
[info] >      partnerComm: 1, {"user":"    partnerComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     partnerComm: 1,"}}
[info] >      companyComm: 1, {"user":"    companyComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     companyComm: 1,"}}
[info] >      pricePerPerson: 1, {"user":"    pricePerPerson: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     pricePerPerson: 1,"}}
[info] >      minTotalPrice: 1, {"user":"    minTotalPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     minTotalPrice: 1,"}}
[info] >      totalPrice: 3, {"user":"    totalPrice: 3,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totalPrice: 3,"}}
[info] >      date: '2024-10-18', {"user":"    date: '2024-10-18',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: '2024-10-18',"}}
[info] >      cityId: 'OiCHcy7zKcp2uU3zlMPU', {"user":"    cityId: 'OiCHcy7zKcp2uU3zlMPU',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     cityId: 'OiCHcy7zKcp2uU3zlMPU',"}}
[info] >      totemId: '1LoQvuu4KzHC1ux7qfOR', {"user":"    totemId: '1LoQvuu4KzHC1ux7qfOR',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totemId: '1LoQvuu4KzHC1ux7qfOR',"}}
[info] >      purchaseId: 'zuDSRe9m9p2oU9O4Kz1o', {"user":"    purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',"}}
[info] >      customerId: 'rMuIfSk9AarUm73FZVtC', {"user":"    customerId: 'rMuIfSk9AarUm73FZVtC',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     customerId: 'rMuIfSk9AarUm73FZVtC',"}}
[info] >      timestamp: 1729177549038 {"user":"    timestamp: 1729177549038","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     timestamp: 1729177549038"}}
[info] >    } {"user":"  }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   }"}}
[info] >  ] {"user":"]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ]"}}
[debug] [2024-10-18T12:37:02.053Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:37:02.053Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:37:02.053Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:37:02.053Z"],"workRunningCount":1}
[debug] [2024-10-18T12:37:02.054Z] Accepted request GET /totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T12:37:02.055Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:37:02.056Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T12:37:02.056Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:37:02.057Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[debug] [2024-10-18T12:37:02.091Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 34.3954ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 34.3954ms"}}
[debug] [2024-10-18T12:37:02.092Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T12:37:02.092Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:37:02.093Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:37:02.093Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:37:02.096Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:37:02.096Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:37:02.097Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:37:02.096Z"],"workRunningCount":1}
[debug] [2024-10-18T12:37:02.097Z] Accepted request GET /totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T12:37:02.099Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:37:02.099Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T12:37:02.099Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:37:02.100Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[info] >  QuerySnapshot { {"user":"QuerySnapshot {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m QuerySnapshot {"}}
[info] >    _query: Query { {"user":"  _query: Query {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _query: Query {"}}
[info] >      _firestore: Firestore { {"user":"    _firestore: Firestore {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _firestore: Firestore {"}}
[info] >        _settings: [Object], {"user":"      _settings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settings: [Object],"}}
[info] >        _settingsFrozen: true, {"user":"      _settingsFrozen: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settingsFrozen: true,"}}
[info] >        _serializer: [Serializer], {"user":"      _serializer: [Serializer],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer],"}}
[info] >        _projectId: 'totem-tour', {"user":"      _projectId: 'totem-tour',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _projectId: 'totem-tour',"}}
[info] >        _databaseId: '(default)', {"user":"      _databaseId: '(default)',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _databaseId: '(default)',"}}
[info] >        registeredListenersCount: 0, {"user":"      registeredListenersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       registeredListenersCount: 0,"}}
[info] >        bulkWritersCount: 0, {"user":"      bulkWritersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       bulkWritersCount: 0,"}}
[info] >        _traceUtil: DisabledTraceUtil {}, {"user":"      _traceUtil: DisabledTraceUtil {},","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _traceUtil: DisabledTraceUtil {},"}}
[info] >        _backoffSettings: [Object], {"user":"      _backoffSettings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _backoffSettings: [Object],"}}
[info] >        _clientPool: [ClientPool], {"user":"      _clientPool: [ClientPool],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _clientPool: [ClientPool],"}}
[info] >        _gax: [Object] {"user":"      _gax: [Object]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _gax: [Object]"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _queryOptions: QueryOptions { {"user":"    _queryOptions: QueryOptions {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryOptions: QueryOptions {"}}
[info] >        parentPath: [ResourcePath], {"user":"      parentPath: [ResourcePath],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       parentPath: [ResourcePath],"}}
[info] >        collectionId: 'purchaseItems', {"user":"      collectionId: 'purchaseItems',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       collectionId: 'purchaseItems',"}}
[info] >        converter: [Object], {"user":"      converter: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       converter: [Object],"}}
[info] >        allDescendants: false, {"user":"      allDescendants: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allDescendants: false,"}}
[info] >        filters: [Array], {"user":"      filters: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       filters: [Array],"}}
[info] >        fieldOrders: [Array], {"user":"      fieldOrders: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       fieldOrders: [Array],"}}
[info] >        startAt: undefined, {"user":"      startAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       startAt: undefined,"}}
[info] >        endAt: undefined, {"user":"      endAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       endAt: undefined,"}}
[info] >        limit: undefined, {"user":"      limit: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limit: undefined,"}}
[info] >        limitType: undefined, {"user":"      limitType: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limitType: undefined,"}}
[info] >        offset: undefined, {"user":"      offset: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       offset: undefined,"}}
[info] >        projection: undefined, {"user":"      projection: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       projection: undefined,"}}
[info] >        kindless: false, {"user":"      kindless: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       kindless: false,"}}
[info] >        requireConsistency: true {"user":"      requireConsistency: true","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       requireConsistency: true"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _serializer: Serializer { {"user":"    _serializer: Serializer {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _serializer: Serializer {"}}
[info] >        createReference: [Function (anonymous)], {"user":"      createReference: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createReference: [Function (anonymous)],"}}
[info] >        createInteger: [Function (anonymous)], {"user":"      createInteger: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createInteger: [Function (anonymous)],"}}
[info] >        allowUndefined: false {"user":"      allowUndefined: false","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allowUndefined: false"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _allowUndefined: false, {"user":"    _allowUndefined: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _allowUndefined: false,"}}
[info] >      _queryUtil: QueryUtil { {"user":"    _queryUtil: QueryUtil {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryUtil: QueryUtil {"}}
[info] >        _firestore: [Firestore], {"user":"      _firestore: [Firestore],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _firestore: [Firestore],"}}
[info] >        _queryOptions: [QueryOptions], {"user":"      _queryOptions: [QueryOptions],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _queryOptions: [QueryOptions],"}}
[info] >        _serializer: [Serializer] {"user":"      _serializer: [Serializer]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer]"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    _readTime: Timestamp { _seconds: 1729255021, _nanoseconds: 742374000 }, {"user":"  _readTime: Timestamp { _seconds: 1729255021, _nanoseconds: 742374000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _readTime: Timestamp { _seconds: 1729255021, _nanoseconds: 742374000 },"}}
[info] >    _size: 1, {"user":"  _size: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _size: 1,"}}
[info] >    _materializedDocs: null, {"user":"  _materializedDocs: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedDocs: null,"}}
[info] >    _materializedChanges: null, {"user":"  _materializedChanges: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedChanges: null,"}}
[info] >    _docs: [Function (anonymous)], {"user":"  _docs: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _docs: [Function (anonymous)],"}}
[info] >    _changes: [Function (anonymous)] {"user":"  _changes: [Function (anonymous)]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _changes: [Function (anonymous)]"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2024-10-18T12:37:02.154Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 54.4664ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 54.4664ms"}}
[debug] [2024-10-18T12:37:02.155Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T12:37:02.155Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:37:02.155Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:37:02.155Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] >  [ {"user":"[","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ["}}
[info] >    { {"user":"  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   {"}}
[info] >      id: 'AIxFbug16kvF6PQU0ybK', {"user":"    id: 'AIxFbug16kvF6PQU0ybK',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     id: 'AIxFbug16kvF6PQU0ybK',"}}
[info] >      productId: '2PHnd6lM4TG6lP6Y5fOc', {"user":"    productId: '2PHnd6lM4TG6lP6Y5fOc',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     productId: '2PHnd6lM4TG6lP6Y5fOc',"}}
[info] >      qty: 1, {"user":"    qty: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     qty: 1,"}}
[info] >      netPrice: 1, {"user":"    netPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     netPrice: 1,"}}
[info] >      partnerComm: 1, {"user":"    partnerComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     partnerComm: 1,"}}
[info] >      companyComm: 1, {"user":"    companyComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     companyComm: 1,"}}
[info] >      pricePerPerson: 1, {"user":"    pricePerPerson: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     pricePerPerson: 1,"}}
[info] >      minTotalPrice: 1, {"user":"    minTotalPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     minTotalPrice: 1,"}}
[info] >      totalPrice: 3, {"user":"    totalPrice: 3,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totalPrice: 3,"}}
[info] >      date: '2024-10-18', {"user":"    date: '2024-10-18',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: '2024-10-18',"}}
[info] >      cityId: 'OiCHcy7zKcp2uU3zlMPU', {"user":"    cityId: 'OiCHcy7zKcp2uU3zlMPU',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     cityId: 'OiCHcy7zKcp2uU3zlMPU',"}}
[info] >      totemId: '1LoQvuu4KzHC1ux7qfOR', {"user":"    totemId: '1LoQvuu4KzHC1ux7qfOR',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totemId: '1LoQvuu4KzHC1ux7qfOR',"}}
[info] >      purchaseId: 'zuDSRe9m9p2oU9O4Kz1o', {"user":"    purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',"}}
[info] >      customerId: 'rMuIfSk9AarUm73FZVtC', {"user":"    customerId: 'rMuIfSk9AarUm73FZVtC',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     customerId: 'rMuIfSk9AarUm73FZVtC',"}}
[info] >      timestamp: 1729177549038 {"user":"    timestamp: 1729177549038","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     timestamp: 1729177549038"}}
[info] >    } {"user":"  }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   }"}}
[info] >  ] {"user":"]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ]"}}
[debug] [2024-10-18T12:37:02.957Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:37:02.957Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:37:02.957Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:37:02.957Z"],"workRunningCount":1}
[debug] [2024-10-18T12:37:02.957Z] Accepted request GET /totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T12:37:02.958Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:37:02.958Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T12:37:02.958Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:37:02.959Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[debug] [2024-10-18T12:37:02.987Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 27.7379ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 27.7379ms"}}
[debug] [2024-10-18T12:37:02.991Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T12:37:02.991Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:37:02.991Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:37:02.991Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:37:03.005Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:37:03.005Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:37:03.006Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:37:03.005Z"],"workRunningCount":1}
[debug] [2024-10-18T12:37:03.006Z] Accepted request GET /totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T12:37:03.006Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:37:03.007Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T12:37:03.007Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:37:03.007Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[info] >  QuerySnapshot { {"user":"QuerySnapshot {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m QuerySnapshot {"}}
[info] >    _query: Query { {"user":"  _query: Query {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _query: Query {"}}
[info] >      _firestore: Firestore { {"user":"    _firestore: Firestore {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _firestore: Firestore {"}}
[info] >        _settings: [Object], {"user":"      _settings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settings: [Object],"}}
[info] >        _settingsFrozen: true, {"user":"      _settingsFrozen: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settingsFrozen: true,"}}
[info] >        _serializer: [Serializer], {"user":"      _serializer: [Serializer],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer],"}}
[info] >        _projectId: 'totem-tour', {"user":"      _projectId: 'totem-tour',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _projectId: 'totem-tour',"}}
[info] >        _databaseId: '(default)', {"user":"      _databaseId: '(default)',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _databaseId: '(default)',"}}
[info] >        registeredListenersCount: 0, {"user":"      registeredListenersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       registeredListenersCount: 0,"}}
[info] >        bulkWritersCount: 0, {"user":"      bulkWritersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       bulkWritersCount: 0,"}}
[info] >        _traceUtil: DisabledTraceUtil {}, {"user":"      _traceUtil: DisabledTraceUtil {},","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _traceUtil: DisabledTraceUtil {},"}}
[info] >        _backoffSettings: [Object], {"user":"      _backoffSettings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _backoffSettings: [Object],"}}
[info] >        _clientPool: [ClientPool], {"user":"      _clientPool: [ClientPool],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _clientPool: [ClientPool],"}}
[info] >        _gax: [Object] {"user":"      _gax: [Object]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _gax: [Object]"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _queryOptions: QueryOptions { {"user":"    _queryOptions: QueryOptions {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryOptions: QueryOptions {"}}
[info] >        parentPath: [ResourcePath], {"user":"      parentPath: [ResourcePath],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       parentPath: [ResourcePath],"}}
[info] >        collectionId: 'purchaseItems', {"user":"      collectionId: 'purchaseItems',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       collectionId: 'purchaseItems',"}}
[info] >        converter: [Object], {"user":"      converter: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       converter: [Object],"}}
[info] >        allDescendants: false, {"user":"      allDescendants: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allDescendants: false,"}}
[info] >        filters: [Array], {"user":"      filters: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       filters: [Array],"}}
[info] >        fieldOrders: [Array], {"user":"      fieldOrders: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       fieldOrders: [Array],"}}
[info] >        startAt: undefined, {"user":"      startAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       startAt: undefined,"}}
[info] >        endAt: undefined, {"user":"      endAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       endAt: undefined,"}}
[info] >        limit: undefined, {"user":"      limit: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limit: undefined,"}}
[info] >        limitType: undefined, {"user":"      limitType: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limitType: undefined,"}}
[info] >        offset: undefined, {"user":"      offset: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       offset: undefined,"}}
[info] >        projection: undefined, {"user":"      projection: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       projection: undefined,"}}
[info] >        kindless: false, {"user":"      kindless: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       kindless: false,"}}
[info] >        requireConsistency: true {"user":"      requireConsistency: true","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       requireConsistency: true"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _serializer: Serializer { {"user":"    _serializer: Serializer {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _serializer: Serializer {"}}
[info] >        createReference: [Function (anonymous)], {"user":"      createReference: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createReference: [Function (anonymous)],"}}
[info] >        createInteger: [Function (anonymous)], {"user":"      createInteger: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createInteger: [Function (anonymous)],"}}
[info] >        allowUndefined: false {"user":"      allowUndefined: false","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allowUndefined: false"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _allowUndefined: false, {"user":"    _allowUndefined: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _allowUndefined: false,"}}
[info] >      _queryUtil: QueryUtil { {"user":"    _queryUtil: QueryUtil {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryUtil: QueryUtil {"}}
[info] >        _firestore: [Firestore], {"user":"      _firestore: [Firestore],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _firestore: [Firestore],"}}
[info] >        _queryOptions: [QueryOptions], {"user":"      _queryOptions: [QueryOptions],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _queryOptions: [QueryOptions],"}}
[info] >        _serializer: [Serializer] {"user":"      _serializer: [Serializer]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer]"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    _readTime: Timestamp { _seconds: 1729255022, _nanoseconds: 649857000 }, {"user":"  _readTime: Timestamp { _seconds: 1729255022, _nanoseconds: 649857000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _readTime: Timestamp { _seconds: 1729255022, _nanoseconds: 649857000 },"}}
[info] >    _size: 1, {"user":"  _size: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _size: 1,"}}
[info] >    _materializedDocs: null, {"user":"  _materializedDocs: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedDocs: null,"}}
[info] >    _materializedChanges: null, {"user":"  _materializedChanges: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedChanges: null,"}}
[info] >    _docs: [Function (anonymous)], {"user":"  _docs: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _docs: [Function (anonymous)],"}}
[info] >    _changes: [Function (anonymous)] {"user":"  _changes: [Function (anonymous)]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _changes: [Function (anonymous)]"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2024-10-18T12:37:03.065Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 57.9292ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 57.9292ms"}}
[debug] [2024-10-18T12:37:03.066Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T12:37:03.066Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:37:03.066Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:37:03.066Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] >  [ {"user":"[","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ["}}
[info] >    { {"user":"  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   {"}}
[info] >      id: 'AIxFbug16kvF6PQU0ybK', {"user":"    id: 'AIxFbug16kvF6PQU0ybK',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     id: 'AIxFbug16kvF6PQU0ybK',"}}
[info] >      productId: '2PHnd6lM4TG6lP6Y5fOc', {"user":"    productId: '2PHnd6lM4TG6lP6Y5fOc',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     productId: '2PHnd6lM4TG6lP6Y5fOc',"}}
[info] >      qty: 1, {"user":"    qty: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     qty: 1,"}}
[info] >      netPrice: 1, {"user":"    netPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     netPrice: 1,"}}
[info] >      partnerComm: 1, {"user":"    partnerComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     partnerComm: 1,"}}
[info] >      companyComm: 1, {"user":"    companyComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     companyComm: 1,"}}
[info] >      pricePerPerson: 1, {"user":"    pricePerPerson: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     pricePerPerson: 1,"}}
[info] >      minTotalPrice: 1, {"user":"    minTotalPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     minTotalPrice: 1,"}}
[info] >      totalPrice: 3, {"user":"    totalPrice: 3,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totalPrice: 3,"}}
[info] >      date: '2024-10-18', {"user":"    date: '2024-10-18',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: '2024-10-18',"}}
[info] >      cityId: 'OiCHcy7zKcp2uU3zlMPU', {"user":"    cityId: 'OiCHcy7zKcp2uU3zlMPU',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     cityId: 'OiCHcy7zKcp2uU3zlMPU',"}}
[info] >      totemId: '1LoQvuu4KzHC1ux7qfOR', {"user":"    totemId: '1LoQvuu4KzHC1ux7qfOR',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totemId: '1LoQvuu4KzHC1ux7qfOR',"}}
[info] >      purchaseId: 'zuDSRe9m9p2oU9O4Kz1o', {"user":"    purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',"}}
[info] >      customerId: 'rMuIfSk9AarUm73FZVtC', {"user":"    customerId: 'rMuIfSk9AarUm73FZVtC',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     customerId: 'rMuIfSk9AarUm73FZVtC',"}}
[info] >      timestamp: 1729177549038 {"user":"    timestamp: 1729177549038","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     timestamp: 1729177549038"}}
[info] >    } {"user":"  }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   }"}}
[info] >  ] {"user":"]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ]"}}
[debug] [2024-10-18T12:37:03.881Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:37:03.880Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:37:03.881Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:37:03.880Z"],"workRunningCount":1}
[debug] [2024-10-18T12:37:03.881Z] Accepted request GET /totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T12:37:03.882Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:37:03.882Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T12:37:03.882Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:37:03.883Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[debug] [2024-10-18T12:37:03.930Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 47.2246ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 47.2246ms"}}
[debug] [2024-10-18T12:37:03.949Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T12:37:03.949Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:37:03.949Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:37:03.949Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:37:03.977Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:37:03.977Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:37:03.977Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:37:03.977Z"],"workRunningCount":1}
[debug] [2024-10-18T12:37:03.977Z] Accepted request GET /totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T12:37:03.978Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:37:03.978Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T12:37:03.978Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:37:03.979Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[info] >  QuerySnapshot { {"user":"QuerySnapshot {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m QuerySnapshot {"}}
[info] >    _query: Query { {"user":"  _query: Query {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _query: Query {"}}
[info] >      _firestore: Firestore { {"user":"    _firestore: Firestore {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _firestore: Firestore {"}}
[info] >        _settings: [Object], {"user":"      _settings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settings: [Object],"}}
[info] >        _settingsFrozen: true, {"user":"      _settingsFrozen: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settingsFrozen: true,"}}
[info] >        _serializer: [Serializer], {"user":"      _serializer: [Serializer],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer],"}}
[info] >        _projectId: 'totem-tour', {"user":"      _projectId: 'totem-tour',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _projectId: 'totem-tour',"}}
[info] >        _databaseId: '(default)', {"user":"      _databaseId: '(default)',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _databaseId: '(default)',"}}
[info] >        registeredListenersCount: 0, {"user":"      registeredListenersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       registeredListenersCount: 0,"}}
[info] >        bulkWritersCount: 0, {"user":"      bulkWritersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       bulkWritersCount: 0,"}}
[info] >        _traceUtil: DisabledTraceUtil {}, {"user":"      _traceUtil: DisabledTraceUtil {},","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _traceUtil: DisabledTraceUtil {},"}}
[info] >        _backoffSettings: [Object], {"user":"      _backoffSettings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _backoffSettings: [Object],"}}
[info] >        _clientPool: [ClientPool], {"user":"      _clientPool: [ClientPool],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _clientPool: [ClientPool],"}}
[info] >        _gax: [Object] {"user":"      _gax: [Object]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _gax: [Object]"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _queryOptions: QueryOptions { {"user":"    _queryOptions: QueryOptions {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryOptions: QueryOptions {"}}
[info] >        parentPath: [ResourcePath], {"user":"      parentPath: [ResourcePath],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       parentPath: [ResourcePath],"}}
[info] >        collectionId: 'purchaseItems', {"user":"      collectionId: 'purchaseItems',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       collectionId: 'purchaseItems',"}}
[info] >        converter: [Object], {"user":"      converter: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       converter: [Object],"}}
[info] >        allDescendants: false, {"user":"      allDescendants: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allDescendants: false,"}}
[info] >        filters: [Array], {"user":"      filters: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       filters: [Array],"}}
[info] >        fieldOrders: [Array], {"user":"      fieldOrders: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       fieldOrders: [Array],"}}
[info] >        startAt: undefined, {"user":"      startAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       startAt: undefined,"}}
[info] >        endAt: undefined, {"user":"      endAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       endAt: undefined,"}}
[info] >        limit: undefined, {"user":"      limit: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limit: undefined,"}}
[info] >        limitType: undefined, {"user":"      limitType: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limitType: undefined,"}}
[info] >        offset: undefined, {"user":"      offset: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       offset: undefined,"}}
[info] >        projection: undefined, {"user":"      projection: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       projection: undefined,"}}
[info] >        kindless: false, {"user":"      kindless: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       kindless: false,"}}
[info] >        requireConsistency: true {"user":"      requireConsistency: true","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       requireConsistency: true"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _serializer: Serializer { {"user":"    _serializer: Serializer {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _serializer: Serializer {"}}
[info] >        createReference: [Function (anonymous)], {"user":"      createReference: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createReference: [Function (anonymous)],"}}
[info] >        createInteger: [Function (anonymous)], {"user":"      createInteger: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createInteger: [Function (anonymous)],"}}
[info] >        allowUndefined: false {"user":"      allowUndefined: false","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allowUndefined: false"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _allowUndefined: false, {"user":"    _allowUndefined: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _allowUndefined: false,"}}
[info] >      _queryUtil: QueryUtil { {"user":"    _queryUtil: QueryUtil {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryUtil: QueryUtil {"}}
[info] >        _firestore: [Firestore], {"user":"      _firestore: [Firestore],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _firestore: [Firestore],"}}
[info] >        _queryOptions: [QueryOptions], {"user":"      _queryOptions: [QueryOptions],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _queryOptions: [QueryOptions],"}}
[info] >        _serializer: [Serializer] {"user":"      _serializer: [Serializer]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer]"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    _readTime: Timestamp { _seconds: 1729255023, _nanoseconds: 624697000 }, {"user":"  _readTime: Timestamp { _seconds: 1729255023, _nanoseconds: 624697000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _readTime: Timestamp { _seconds: 1729255023, _nanoseconds: 624697000 },"}}
[info] >    _size: 1, {"user":"  _size: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _size: 1,"}}
[info] >    _materializedDocs: null, {"user":"  _materializedDocs: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedDocs: null,"}}
[info] >    _materializedChanges: null, {"user":"  _materializedChanges: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedChanges: null,"}}
[info] >    _docs: [Function (anonymous)], {"user":"  _docs: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _docs: [Function (anonymous)],"}}
[info] >    _changes: [Function (anonymous)] {"user":"  _changes: [Function (anonymous)]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _changes: [Function (anonymous)]"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2024-10-18T12:37:04.041Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 61.7246ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 61.7246ms"}}
[debug] [2024-10-18T12:37:04.041Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T12:37:04.041Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:37:04.041Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:37:04.042Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] >  [ {"user":"[","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ["}}
[info] >    { {"user":"  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   {"}}
[info] >      id: 'AIxFbug16kvF6PQU0ybK', {"user":"    id: 'AIxFbug16kvF6PQU0ybK',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     id: 'AIxFbug16kvF6PQU0ybK',"}}
[info] >      productId: '2PHnd6lM4TG6lP6Y5fOc', {"user":"    productId: '2PHnd6lM4TG6lP6Y5fOc',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     productId: '2PHnd6lM4TG6lP6Y5fOc',"}}
[info] >      qty: 1, {"user":"    qty: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     qty: 1,"}}
[info] >      netPrice: 1, {"user":"    netPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     netPrice: 1,"}}
[info] >      partnerComm: 1, {"user":"    partnerComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     partnerComm: 1,"}}
[info] >      companyComm: 1, {"user":"    companyComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     companyComm: 1,"}}
[info] >      pricePerPerson: 1, {"user":"    pricePerPerson: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     pricePerPerson: 1,"}}
[info] >      minTotalPrice: 1, {"user":"    minTotalPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     minTotalPrice: 1,"}}
[info] >      totalPrice: 3, {"user":"    totalPrice: 3,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totalPrice: 3,"}}
[info] >      date: '2024-10-18', {"user":"    date: '2024-10-18',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: '2024-10-18',"}}
[info] >      cityId: 'OiCHcy7zKcp2uU3zlMPU', {"user":"    cityId: 'OiCHcy7zKcp2uU3zlMPU',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     cityId: 'OiCHcy7zKcp2uU3zlMPU',"}}
[info] >      totemId: '1LoQvuu4KzHC1ux7qfOR', {"user":"    totemId: '1LoQvuu4KzHC1ux7qfOR',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totemId: '1LoQvuu4KzHC1ux7qfOR',"}}
[info] >      purchaseId: 'zuDSRe9m9p2oU9O4Kz1o', {"user":"    purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',"}}
[info] >      customerId: 'rMuIfSk9AarUm73FZVtC', {"user":"    customerId: 'rMuIfSk9AarUm73FZVtC',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     customerId: 'rMuIfSk9AarUm73FZVtC',"}}
[info] >      timestamp: 1729177549038 {"user":"    timestamp: 1729177549038","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     timestamp: 1729177549038"}}
[info] >    } {"user":"  }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   }"}}
[info] >  ] {"user":"]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ]"}}
[debug] [2024-10-18T12:37:44.280Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:37:44.280Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:37:44.280Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:37:44.280Z"],"workRunningCount":1}
[debug] [2024-10-18T12:37:44.280Z] Accepted request GET /totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T12:37:44.287Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:37:44.288Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T12:37:44.288Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:37:44.290Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[debug] [2024-10-18T12:37:44.391Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 101.3159ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 101.3159ms"}}
[debug] [2024-10-18T12:37:44.392Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T12:37:44.392Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:37:44.392Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:37:44.393Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:37:44.397Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:37:44.397Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:37:44.397Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:37:44.397Z"],"workRunningCount":1}
[debug] [2024-10-18T12:37:44.397Z] Accepted request GET /totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T12:37:44.400Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:37:44.400Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T12:37:44.400Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:37:44.401Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[info] >  QuerySnapshot { {"user":"QuerySnapshot {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m QuerySnapshot {"}}
[info] >    _query: Query { {"user":"  _query: Query {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _query: Query {"}}
[info] >      _firestore: Firestore { {"user":"    _firestore: Firestore {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _firestore: Firestore {"}}
[info] >        _settings: [Object], {"user":"      _settings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settings: [Object],"}}
[info] >        _settingsFrozen: true, {"user":"      _settingsFrozen: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settingsFrozen: true,"}}
[info] >        _serializer: [Serializer], {"user":"      _serializer: [Serializer],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer],"}}
[info] >        _projectId: 'totem-tour', {"user":"      _projectId: 'totem-tour',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _projectId: 'totem-tour',"}}
[info] >        _databaseId: '(default)', {"user":"      _databaseId: '(default)',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _databaseId: '(default)',"}}
[info] >        registeredListenersCount: 0, {"user":"      registeredListenersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       registeredListenersCount: 0,"}}
[info] >        bulkWritersCount: 0, {"user":"      bulkWritersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       bulkWritersCount: 0,"}}
[info] >        _traceUtil: DisabledTraceUtil {}, {"user":"      _traceUtil: DisabledTraceUtil {},","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _traceUtil: DisabledTraceUtil {},"}}
[info] >        _backoffSettings: [Object], {"user":"      _backoffSettings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _backoffSettings: [Object],"}}
[info] >        _clientPool: [ClientPool], {"user":"      _clientPool: [ClientPool],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _clientPool: [ClientPool],"}}
[info] >        _gax: [Object] {"user":"      _gax: [Object]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _gax: [Object]"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _queryOptions: QueryOptions { {"user":"    _queryOptions: QueryOptions {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryOptions: QueryOptions {"}}
[info] >        parentPath: [ResourcePath], {"user":"      parentPath: [ResourcePath],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       parentPath: [ResourcePath],"}}
[info] >        collectionId: 'purchaseItems', {"user":"      collectionId: 'purchaseItems',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       collectionId: 'purchaseItems',"}}
[info] >        converter: [Object], {"user":"      converter: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       converter: [Object],"}}
[info] >        allDescendants: false, {"user":"      allDescendants: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allDescendants: false,"}}
[info] >        filters: [Array], {"user":"      filters: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       filters: [Array],"}}
[info] >        fieldOrders: [Array], {"user":"      fieldOrders: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       fieldOrders: [Array],"}}
[info] >        startAt: undefined, {"user":"      startAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       startAt: undefined,"}}
[info] >        endAt: undefined, {"user":"      endAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       endAt: undefined,"}}
[info] >        limit: undefined, {"user":"      limit: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limit: undefined,"}}
[info] >        limitType: undefined, {"user":"      limitType: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limitType: undefined,"}}
[info] >        offset: undefined, {"user":"      offset: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       offset: undefined,"}}
[info] >        projection: undefined, {"user":"      projection: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       projection: undefined,"}}
[info] >        kindless: false, {"user":"      kindless: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       kindless: false,"}}
[info] >        requireConsistency: true {"user":"      requireConsistency: true","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       requireConsistency: true"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _serializer: Serializer { {"user":"    _serializer: Serializer {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _serializer: Serializer {"}}
[info] >        createReference: [Function (anonymous)], {"user":"      createReference: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createReference: [Function (anonymous)],"}}
[info] >        createInteger: [Function (anonymous)], {"user":"      createInteger: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createInteger: [Function (anonymous)],"}}
[info] >        allowUndefined: false {"user":"      allowUndefined: false","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allowUndefined: false"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _allowUndefined: false, {"user":"    _allowUndefined: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _allowUndefined: false,"}}
[info] >      _queryUtil: QueryUtil { {"user":"    _queryUtil: QueryUtil {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryUtil: QueryUtil {"}}
[info] >        _firestore: [Firestore], {"user":"      _firestore: [Firestore],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _firestore: [Firestore],"}}
[info] >        _queryOptions: [QueryOptions], {"user":"      _queryOptions: [QueryOptions],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _queryOptions: [QueryOptions],"}}
[info] >        _serializer: [Serializer] {"user":"      _serializer: [Serializer]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer]"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    _readTime: Timestamp { _seconds: 1729255064, _nanoseconds: 40117000 }, {"user":"  _readTime: Timestamp { _seconds: 1729255064, _nanoseconds: 40117000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _readTime: Timestamp { _seconds: 1729255064, _nanoseconds: 40117000 },"}}
[info] >    _size: 1, {"user":"  _size: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _size: 1,"}}
[info] >    _materializedDocs: null, {"user":"  _materializedDocs: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedDocs: null,"}}
[info] >    _materializedChanges: null, {"user":"  _materializedChanges: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedChanges: null,"}}
[info] >    _docs: [Function (anonymous)], {"user":"  _docs: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _docs: [Function (anonymous)],"}}
[info] >    _changes: [Function (anonymous)] {"user":"  _changes: [Function (anonymous)]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _changes: [Function (anonymous)]"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2024-10-18T12:37:44.454Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 53.2925ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 53.2925ms"}}
[debug] [2024-10-18T12:37:44.455Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T12:37:44.455Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:37:44.455Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:37:44.455Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] >  [ {"user":"[","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ["}}
[info] >    { {"user":"  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   {"}}
[info] >      id: 'AIxFbug16kvF6PQU0ybK', {"user":"    id: 'AIxFbug16kvF6PQU0ybK',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     id: 'AIxFbug16kvF6PQU0ybK',"}}
[info] >      productId: '2PHnd6lM4TG6lP6Y5fOc', {"user":"    productId: '2PHnd6lM4TG6lP6Y5fOc',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     productId: '2PHnd6lM4TG6lP6Y5fOc',"}}
[info] >      qty: 1, {"user":"    qty: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     qty: 1,"}}
[info] >      netPrice: 1, {"user":"    netPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     netPrice: 1,"}}
[info] >      partnerComm: 1, {"user":"    partnerComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     partnerComm: 1,"}}
[info] >      companyComm: 1, {"user":"    companyComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     companyComm: 1,"}}
[info] >      pricePerPerson: 1, {"user":"    pricePerPerson: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     pricePerPerson: 1,"}}
[info] >      minTotalPrice: 1, {"user":"    minTotalPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     minTotalPrice: 1,"}}
[info] >      totalPrice: 3, {"user":"    totalPrice: 3,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totalPrice: 3,"}}
[info] >      date: '2024-10-18', {"user":"    date: '2024-10-18',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: '2024-10-18',"}}
[info] >      cityId: 'OiCHcy7zKcp2uU3zlMPU', {"user":"    cityId: 'OiCHcy7zKcp2uU3zlMPU',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     cityId: 'OiCHcy7zKcp2uU3zlMPU',"}}
[info] >      totemId: '1LoQvuu4KzHC1ux7qfOR', {"user":"    totemId: '1LoQvuu4KzHC1ux7qfOR',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totemId: '1LoQvuu4KzHC1ux7qfOR',"}}
[info] >      purchaseId: 'zuDSRe9m9p2oU9O4Kz1o', {"user":"    purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',"}}
[info] >      customerId: 'rMuIfSk9AarUm73FZVtC', {"user":"    customerId: 'rMuIfSk9AarUm73FZVtC',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     customerId: 'rMuIfSk9AarUm73FZVtC',"}}
[info] >      timestamp: 1729177549038 {"user":"    timestamp: 1729177549038","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     timestamp: 1729177549038"}}
[info] >    } {"user":"  }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   }"}}
[info] >  ] {"user":"]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ]"}}
[debug] [2024-10-18T12:37:48.259Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:37:48.259Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:37:48.259Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:37:48.259Z"],"workRunningCount":1}
[debug] [2024-10-18T12:37:48.259Z] Accepted request GET /totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T12:37:48.260Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:37:48.260Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T12:37:48.260Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:37:48.261Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[debug] [2024-10-18T12:37:48.298Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 36.92ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 36.92ms"}}
[debug] [2024-10-18T12:37:48.299Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T12:37:48.299Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:37:48.299Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:37:48.299Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:37:48.302Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:37:48.302Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:37:48.302Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:37:48.302Z"],"workRunningCount":1}
[debug] [2024-10-18T12:37:48.302Z] Accepted request GET /totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T12:37:48.303Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:37:48.303Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T12:37:48.303Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:37:48.303Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[info] >  QuerySnapshot { {"user":"QuerySnapshot {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m QuerySnapshot {"}}
[info] >    _query: Query { {"user":"  _query: Query {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _query: Query {"}}
[info] >      _firestore: Firestore { {"user":"    _firestore: Firestore {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _firestore: Firestore {"}}
[info] >        _settings: [Object], {"user":"      _settings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settings: [Object],"}}
[info] >        _settingsFrozen: true, {"user":"      _settingsFrozen: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settingsFrozen: true,"}}
[info] >        _serializer: [Serializer], {"user":"      _serializer: [Serializer],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer],"}}
[info] >        _projectId: 'totem-tour', {"user":"      _projectId: 'totem-tour',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _projectId: 'totem-tour',"}}
[info] >        _databaseId: '(default)', {"user":"      _databaseId: '(default)',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _databaseId: '(default)',"}}
[info] >        registeredListenersCount: 0, {"user":"      registeredListenersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       registeredListenersCount: 0,"}}
[info] >        bulkWritersCount: 0, {"user":"      bulkWritersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       bulkWritersCount: 0,"}}
[info] >        _traceUtil: DisabledTraceUtil {}, {"user":"      _traceUtil: DisabledTraceUtil {},","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _traceUtil: DisabledTraceUtil {},"}}
[info] >        _backoffSettings: [Object], {"user":"      _backoffSettings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _backoffSettings: [Object],"}}
[info] >        _clientPool: [ClientPool], {"user":"      _clientPool: [ClientPool],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _clientPool: [ClientPool],"}}
[info] >        _gax: [Object] {"user":"      _gax: [Object]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _gax: [Object]"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _queryOptions: QueryOptions { {"user":"    _queryOptions: QueryOptions {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryOptions: QueryOptions {"}}
[info] >        parentPath: [ResourcePath], {"user":"      parentPath: [ResourcePath],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       parentPath: [ResourcePath],"}}
[info] >        collectionId: 'purchaseItems', {"user":"      collectionId: 'purchaseItems',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       collectionId: 'purchaseItems',"}}
[info] >        converter: [Object], {"user":"      converter: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       converter: [Object],"}}
[info] >        allDescendants: false, {"user":"      allDescendants: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allDescendants: false,"}}
[info] >        filters: [Array], {"user":"      filters: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       filters: [Array],"}}
[info] >        fieldOrders: [Array], {"user":"      fieldOrders: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       fieldOrders: [Array],"}}
[info] >        startAt: undefined, {"user":"      startAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       startAt: undefined,"}}
[info] >        endAt: undefined, {"user":"      endAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       endAt: undefined,"}}
[info] >        limit: undefined, {"user":"      limit: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limit: undefined,"}}
[info] >        limitType: undefined, {"user":"      limitType: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limitType: undefined,"}}
[info] >        offset: undefined, {"user":"      offset: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       offset: undefined,"}}
[info] >        projection: undefined, {"user":"      projection: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       projection: undefined,"}}
[info] >        kindless: false, {"user":"      kindless: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       kindless: false,"}}
[info] >        requireConsistency: true {"user":"      requireConsistency: true","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       requireConsistency: true"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _serializer: Serializer { {"user":"    _serializer: Serializer {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _serializer: Serializer {"}}
[info] >        createReference: [Function (anonymous)], {"user":"      createReference: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createReference: [Function (anonymous)],"}}
[info] >        createInteger: [Function (anonymous)], {"user":"      createInteger: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createInteger: [Function (anonymous)],"}}
[info] >        allowUndefined: false {"user":"      allowUndefined: false","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allowUndefined: false"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _allowUndefined: false, {"user":"    _allowUndefined: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _allowUndefined: false,"}}
[info] >      _queryUtil: QueryUtil { {"user":"    _queryUtil: QueryUtil {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryUtil: QueryUtil {"}}
[info] >        _firestore: [Firestore], {"user":"      _firestore: [Firestore],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _firestore: [Firestore],"}}
[info] >        _queryOptions: [QueryOptions], {"user":"      _queryOptions: [QueryOptions],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _queryOptions: [QueryOptions],"}}
[info] >        _serializer: [Serializer] {"user":"      _serializer: [Serializer]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer]"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    _readTime: Timestamp { _seconds: 1729255067, _nanoseconds: 956772000 }, {"user":"  _readTime: Timestamp { _seconds: 1729255067, _nanoseconds: 956772000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _readTime: Timestamp { _seconds: 1729255067, _nanoseconds: 956772000 },"}}
[info] >    _size: 1, {"user":"  _size: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _size: 1,"}}
[info] >    _materializedDocs: null, {"user":"  _materializedDocs: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedDocs: null,"}}
[info] >    _materializedChanges: null, {"user":"  _materializedChanges: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedChanges: null,"}}
[info] >    _docs: [Function (anonymous)], {"user":"  _docs: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _docs: [Function (anonymous)],"}}
[info] >    _changes: [Function (anonymous)] {"user":"  _changes: [Function (anonymous)]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _changes: [Function (anonymous)]"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2024-10-18T12:37:48.376Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 72.4203ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 72.4203ms"}}
[debug] [2024-10-18T12:37:48.376Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T12:37:48.376Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:37:48.376Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:37:48.376Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] >  [ {"user":"[","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ["}}
[info] >    { {"user":"  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   {"}}
[info] >      id: 'AIxFbug16kvF6PQU0ybK', {"user":"    id: 'AIxFbug16kvF6PQU0ybK',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     id: 'AIxFbug16kvF6PQU0ybK',"}}
[info] >      productId: '2PHnd6lM4TG6lP6Y5fOc', {"user":"    productId: '2PHnd6lM4TG6lP6Y5fOc',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     productId: '2PHnd6lM4TG6lP6Y5fOc',"}}
[info] >      qty: 1, {"user":"    qty: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     qty: 1,"}}
[info] >      netPrice: 1, {"user":"    netPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     netPrice: 1,"}}
[info] >      partnerComm: 1, {"user":"    partnerComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     partnerComm: 1,"}}
[info] >      companyComm: 1, {"user":"    companyComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     companyComm: 1,"}}
[info] >      pricePerPerson: 1, {"user":"    pricePerPerson: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     pricePerPerson: 1,"}}
[info] >      minTotalPrice: 1, {"user":"    minTotalPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     minTotalPrice: 1,"}}
[info] >      totalPrice: 3, {"user":"    totalPrice: 3,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totalPrice: 3,"}}
[info] >      date: '2024-10-18', {"user":"    date: '2024-10-18',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: '2024-10-18',"}}
[info] >      cityId: 'OiCHcy7zKcp2uU3zlMPU', {"user":"    cityId: 'OiCHcy7zKcp2uU3zlMPU',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     cityId: 'OiCHcy7zKcp2uU3zlMPU',"}}
[info] >      totemId: '1LoQvuu4KzHC1ux7qfOR', {"user":"    totemId: '1LoQvuu4KzHC1ux7qfOR',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totemId: '1LoQvuu4KzHC1ux7qfOR',"}}
[info] >      purchaseId: 'zuDSRe9m9p2oU9O4Kz1o', {"user":"    purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',"}}
[info] >      customerId: 'rMuIfSk9AarUm73FZVtC', {"user":"    customerId: 'rMuIfSk9AarUm73FZVtC',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     customerId: 'rMuIfSk9AarUm73FZVtC',"}}
[info] >      timestamp: 1729177549038 {"user":"    timestamp: 1729177549038","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     timestamp: 1729177549038"}}
[info] >    } {"user":"  }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   }"}}
[info] >  ] {"user":"]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ]"}}
[debug] [2024-10-18T12:37:58.261Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:37:58.261Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:37:58.262Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:37:58.261Z"],"workRunningCount":1}
[debug] [2024-10-18T12:37:58.262Z] Accepted request GET /totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T12:37:58.265Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:37:58.266Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T12:37:58.266Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:37:58.267Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[debug] [2024-10-18T12:37:58.306Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 39.2889ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 39.2889ms"}}
[debug] [2024-10-18T12:37:58.307Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T12:37:58.307Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:37:58.307Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:37:58.307Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:37:58.310Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:37:58.310Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:37:58.310Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:37:58.310Z"],"workRunningCount":1}
[debug] [2024-10-18T12:37:58.310Z] Accepted request GET /totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T12:37:58.312Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:37:58.312Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T12:37:58.312Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:37:58.313Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[info] >  QuerySnapshot { {"user":"QuerySnapshot {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m QuerySnapshot {"}}
[info] >    _query: Query { {"user":"  _query: Query {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _query: Query {"}}
[info] >      _firestore: Firestore { {"user":"    _firestore: Firestore {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _firestore: Firestore {"}}
[info] >        _settings: [Object], {"user":"      _settings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settings: [Object],"}}
[info] >        _settingsFrozen: true, {"user":"      _settingsFrozen: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settingsFrozen: true,"}}
[info] >        _serializer: [Serializer], {"user":"      _serializer: [Serializer],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer],"}}
[info] >        _projectId: 'totem-tour', {"user":"      _projectId: 'totem-tour',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _projectId: 'totem-tour',"}}
[info] >        _databaseId: '(default)', {"user":"      _databaseId: '(default)',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _databaseId: '(default)',"}}
[info] >        registeredListenersCount: 0, {"user":"      registeredListenersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       registeredListenersCount: 0,"}}
[info] >        bulkWritersCount: 0, {"user":"      bulkWritersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       bulkWritersCount: 0,"}}
[info] >        _traceUtil: DisabledTraceUtil {}, {"user":"      _traceUtil: DisabledTraceUtil {},","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _traceUtil: DisabledTraceUtil {},"}}
[info] >        _backoffSettings: [Object], {"user":"      _backoffSettings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _backoffSettings: [Object],"}}
[info] >        _clientPool: [ClientPool], {"user":"      _clientPool: [ClientPool],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _clientPool: [ClientPool],"}}
[info] >        _gax: [Object] {"user":"      _gax: [Object]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _gax: [Object]"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _queryOptions: QueryOptions { {"user":"    _queryOptions: QueryOptions {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryOptions: QueryOptions {"}}
[info] >        parentPath: [ResourcePath], {"user":"      parentPath: [ResourcePath],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       parentPath: [ResourcePath],"}}
[info] >        collectionId: 'purchaseItems', {"user":"      collectionId: 'purchaseItems',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       collectionId: 'purchaseItems',"}}
[info] >        converter: [Object], {"user":"      converter: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       converter: [Object],"}}
[info] >        allDescendants: false, {"user":"      allDescendants: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allDescendants: false,"}}
[info] >        filters: [Array], {"user":"      filters: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       filters: [Array],"}}
[info] >        fieldOrders: [Array], {"user":"      fieldOrders: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       fieldOrders: [Array],"}}
[info] >        startAt: undefined, {"user":"      startAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       startAt: undefined,"}}
[info] >        endAt: undefined, {"user":"      endAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       endAt: undefined,"}}
[info] >        limit: undefined, {"user":"      limit: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limit: undefined,"}}
[info] >        limitType: undefined, {"user":"      limitType: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limitType: undefined,"}}
[info] >        offset: undefined, {"user":"      offset: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       offset: undefined,"}}
[info] >        projection: undefined, {"user":"      projection: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       projection: undefined,"}}
[info] >        kindless: false, {"user":"      kindless: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       kindless: false,"}}
[info] >        requireConsistency: true {"user":"      requireConsistency: true","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       requireConsistency: true"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _serializer: Serializer { {"user":"    _serializer: Serializer {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _serializer: Serializer {"}}
[info] >        createReference: [Function (anonymous)], {"user":"      createReference: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createReference: [Function (anonymous)],"}}
[info] >        createInteger: [Function (anonymous)], {"user":"      createInteger: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createInteger: [Function (anonymous)],"}}
[info] >        allowUndefined: false {"user":"      allowUndefined: false","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allowUndefined: false"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _allowUndefined: false, {"user":"    _allowUndefined: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _allowUndefined: false,"}}
[info] >      _queryUtil: QueryUtil { {"user":"    _queryUtil: QueryUtil {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryUtil: QueryUtil {"}}
[info] >        _firestore: [Firestore], {"user":"      _firestore: [Firestore],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _firestore: [Firestore],"}}
[info] >        _queryOptions: [QueryOptions], {"user":"      _queryOptions: [QueryOptions],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _queryOptions: [QueryOptions],"}}
[info] >        _serializer: [Serializer] {"user":"      _serializer: [Serializer]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer]"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    _readTime: Timestamp { _seconds: 1729255077, _nanoseconds: 961419000 }, {"user":"  _readTime: Timestamp { _seconds: 1729255077, _nanoseconds: 961419000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _readTime: Timestamp { _seconds: 1729255077, _nanoseconds: 961419000 },"}}
[info] >    _size: 1, {"user":"  _size: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _size: 1,"}}
[info] >    _materializedDocs: null, {"user":"  _materializedDocs: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedDocs: null,"}}
[info] >    _materializedChanges: null, {"user":"  _materializedChanges: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedChanges: null,"}}
[info] >    _docs: [Function (anonymous)], {"user":"  _docs: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _docs: [Function (anonymous)],"}}
[info] >    _changes: [Function (anonymous)] {"user":"  _changes: [Function (anonymous)]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _changes: [Function (anonymous)]"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2024-10-18T12:37:58.378Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 64.7321ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 64.7321ms"}}
[debug] [2024-10-18T12:37:58.378Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T12:37:58.378Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:37:58.378Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:37:58.378Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] >  [ {"user":"[","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ["}}
[info] >    { {"user":"  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   {"}}
[info] >      id: 'AIxFbug16kvF6PQU0ybK', {"user":"    id: 'AIxFbug16kvF6PQU0ybK',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     id: 'AIxFbug16kvF6PQU0ybK',"}}
[info] >      productId: '2PHnd6lM4TG6lP6Y5fOc', {"user":"    productId: '2PHnd6lM4TG6lP6Y5fOc',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     productId: '2PHnd6lM4TG6lP6Y5fOc',"}}
[info] >      qty: 1, {"user":"    qty: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     qty: 1,"}}
[info] >      netPrice: 1, {"user":"    netPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     netPrice: 1,"}}
[info] >      partnerComm: 1, {"user":"    partnerComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     partnerComm: 1,"}}
[info] >      companyComm: 1, {"user":"    companyComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     companyComm: 1,"}}
[info] >      pricePerPerson: 1, {"user":"    pricePerPerson: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     pricePerPerson: 1,"}}
[info] >      minTotalPrice: 1, {"user":"    minTotalPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     minTotalPrice: 1,"}}
[info] >      totalPrice: 3, {"user":"    totalPrice: 3,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totalPrice: 3,"}}
[info] >      date: '2024-10-18', {"user":"    date: '2024-10-18',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: '2024-10-18',"}}
[info] >      cityId: 'OiCHcy7zKcp2uU3zlMPU', {"user":"    cityId: 'OiCHcy7zKcp2uU3zlMPU',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     cityId: 'OiCHcy7zKcp2uU3zlMPU',"}}
[info] >      totemId: '1LoQvuu4KzHC1ux7qfOR', {"user":"    totemId: '1LoQvuu4KzHC1ux7qfOR',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totemId: '1LoQvuu4KzHC1ux7qfOR',"}}
[info] >      purchaseId: 'zuDSRe9m9p2oU9O4Kz1o', {"user":"    purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',"}}
[info] >      customerId: 'rMuIfSk9AarUm73FZVtC', {"user":"    customerId: 'rMuIfSk9AarUm73FZVtC',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     customerId: 'rMuIfSk9AarUm73FZVtC',"}}
[info] >      timestamp: 1729177549038 {"user":"    timestamp: 1729177549038","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     timestamp: 1729177549038"}}
[info] >    } {"user":"  }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   }"}}
[info] >  ] {"user":"]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ]"}}
[debug] [2024-10-18T12:38:00.248Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:38:00.248Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:38:00.249Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:38:00.248Z"],"workRunningCount":1}
[debug] [2024-10-18T12:38:00.249Z] Accepted request GET /totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T12:38:00.249Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:38:00.250Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T12:38:00.250Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:38:00.250Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[debug] [2024-10-18T12:38:00.284Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 34.4075ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 34.4075ms"}}
[debug] [2024-10-18T12:38:00.286Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T12:38:00.286Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:38:00.286Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:38:00.286Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:38:00.291Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:38:00.291Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:38:00.292Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:38:00.291Z"],"workRunningCount":1}
[debug] [2024-10-18T12:38:00.292Z] Accepted request GET /totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T12:38:00.292Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:38:00.293Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T12:38:00.293Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:38:00.293Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[info] >  QuerySnapshot { {"user":"QuerySnapshot {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m QuerySnapshot {"}}
[info] >    _query: Query { {"user":"  _query: Query {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _query: Query {"}}
[info] >      _firestore: Firestore { {"user":"    _firestore: Firestore {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _firestore: Firestore {"}}
[info] >        _settings: [Object], {"user":"      _settings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settings: [Object],"}}
[info] >        _settingsFrozen: true, {"user":"      _settingsFrozen: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settingsFrozen: true,"}}
[info] >        _serializer: [Serializer], {"user":"      _serializer: [Serializer],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer],"}}
[info] >        _projectId: 'totem-tour', {"user":"      _projectId: 'totem-tour',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _projectId: 'totem-tour',"}}
[info] >        _databaseId: '(default)', {"user":"      _databaseId: '(default)',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _databaseId: '(default)',"}}
[info] >        registeredListenersCount: 0, {"user":"      registeredListenersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       registeredListenersCount: 0,"}}
[info] >        bulkWritersCount: 0, {"user":"      bulkWritersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       bulkWritersCount: 0,"}}
[info] >        _traceUtil: DisabledTraceUtil {}, {"user":"      _traceUtil: DisabledTraceUtil {},","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _traceUtil: DisabledTraceUtil {},"}}
[info] >        _backoffSettings: [Object], {"user":"      _backoffSettings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _backoffSettings: [Object],"}}
[info] >        _clientPool: [ClientPool], {"user":"      _clientPool: [ClientPool],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _clientPool: [ClientPool],"}}
[info] >        _gax: [Object] {"user":"      _gax: [Object]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _gax: [Object]"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _queryOptions: QueryOptions { {"user":"    _queryOptions: QueryOptions {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryOptions: QueryOptions {"}}
[info] >        parentPath: [ResourcePath], {"user":"      parentPath: [ResourcePath],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       parentPath: [ResourcePath],"}}
[info] >        collectionId: 'purchaseItems', {"user":"      collectionId: 'purchaseItems',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       collectionId: 'purchaseItems',"}}
[info] >        converter: [Object], {"user":"      converter: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       converter: [Object],"}}
[info] >        allDescendants: false, {"user":"      allDescendants: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allDescendants: false,"}}
[info] >        filters: [Array], {"user":"      filters: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       filters: [Array],"}}
[info] >        fieldOrders: [Array], {"user":"      fieldOrders: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       fieldOrders: [Array],"}}
[info] >        startAt: undefined, {"user":"      startAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       startAt: undefined,"}}
[info] >        endAt: undefined, {"user":"      endAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       endAt: undefined,"}}
[info] >        limit: undefined, {"user":"      limit: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limit: undefined,"}}
[info] >        limitType: undefined, {"user":"      limitType: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limitType: undefined,"}}
[info] >        offset: undefined, {"user":"      offset: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       offset: undefined,"}}
[info] >        projection: undefined, {"user":"      projection: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       projection: undefined,"}}
[info] >        kindless: false, {"user":"      kindless: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       kindless: false,"}}
[info] >        requireConsistency: true {"user":"      requireConsistency: true","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       requireConsistency: true"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _serializer: Serializer { {"user":"    _serializer: Serializer {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _serializer: Serializer {"}}
[info] >        createReference: [Function (anonymous)], {"user":"      createReference: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createReference: [Function (anonymous)],"}}
[info] >        createInteger: [Function (anonymous)], {"user":"      createInteger: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createInteger: [Function (anonymous)],"}}
[info] >        allowUndefined: false {"user":"      allowUndefined: false","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allowUndefined: false"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _allowUndefined: false, {"user":"    _allowUndefined: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _allowUndefined: false,"}}
[info] >      _queryUtil: QueryUtil { {"user":"    _queryUtil: QueryUtil {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryUtil: QueryUtil {"}}
[info] >        _firestore: [Firestore], {"user":"      _firestore: [Firestore],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _firestore: [Firestore],"}}
[info] >        _queryOptions: [QueryOptions], {"user":"      _queryOptions: [QueryOptions],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _queryOptions: [QueryOptions],"}}
[info] >        _serializer: [Serializer] {"user":"      _serializer: [Serializer]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer]"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    _readTime: Timestamp { _seconds: 1729255079, _nanoseconds: 947662000 }, {"user":"  _readTime: Timestamp { _seconds: 1729255079, _nanoseconds: 947662000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _readTime: Timestamp { _seconds: 1729255079, _nanoseconds: 947662000 },"}}
[info] >    _size: 1, {"user":"  _size: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _size: 1,"}}
[info] >    _materializedDocs: null, {"user":"  _materializedDocs: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedDocs: null,"}}
[info] >    _materializedChanges: null, {"user":"  _materializedChanges: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedChanges: null,"}}
[info] >    _docs: [Function (anonymous)], {"user":"  _docs: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _docs: [Function (anonymous)],"}}
[info] >    _changes: [Function (anonymous)] {"user":"  _changes: [Function (anonymous)]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _changes: [Function (anonymous)]"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2024-10-18T12:38:00.367Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 73.8619ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 73.8619ms"}}
[debug] [2024-10-18T12:38:00.368Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T12:38:00.368Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:38:00.368Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:38:00.368Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] >  [ {"user":"[","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ["}}
[info] >    { {"user":"  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   {"}}
[info] >      id: 'AIxFbug16kvF6PQU0ybK', {"user":"    id: 'AIxFbug16kvF6PQU0ybK',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     id: 'AIxFbug16kvF6PQU0ybK',"}}
[info] >      productId: '2PHnd6lM4TG6lP6Y5fOc', {"user":"    productId: '2PHnd6lM4TG6lP6Y5fOc',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     productId: '2PHnd6lM4TG6lP6Y5fOc',"}}
[info] >      qty: 1, {"user":"    qty: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     qty: 1,"}}
[info] >      netPrice: 1, {"user":"    netPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     netPrice: 1,"}}
[info] >      partnerComm: 1, {"user":"    partnerComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     partnerComm: 1,"}}
[info] >      companyComm: 1, {"user":"    companyComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     companyComm: 1,"}}
[info] >      pricePerPerson: 1, {"user":"    pricePerPerson: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     pricePerPerson: 1,"}}
[info] >      minTotalPrice: 1, {"user":"    minTotalPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     minTotalPrice: 1,"}}
[info] >      totalPrice: 3, {"user":"    totalPrice: 3,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totalPrice: 3,"}}
[info] >      date: '2024-10-18', {"user":"    date: '2024-10-18',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: '2024-10-18',"}}
[info] >      cityId: 'OiCHcy7zKcp2uU3zlMPU', {"user":"    cityId: 'OiCHcy7zKcp2uU3zlMPU',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     cityId: 'OiCHcy7zKcp2uU3zlMPU',"}}
[info] >      totemId: '1LoQvuu4KzHC1ux7qfOR', {"user":"    totemId: '1LoQvuu4KzHC1ux7qfOR',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totemId: '1LoQvuu4KzHC1ux7qfOR',"}}
[info] >      purchaseId: 'zuDSRe9m9p2oU9O4Kz1o', {"user":"    purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',"}}
[info] >      customerId: 'rMuIfSk9AarUm73FZVtC', {"user":"    customerId: 'rMuIfSk9AarUm73FZVtC',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     customerId: 'rMuIfSk9AarUm73FZVtC',"}}
[info] >      timestamp: 1729177549038 {"user":"    timestamp: 1729177549038","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     timestamp: 1729177549038"}}
[info] >    } {"user":"  }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   }"}}
[info] >  ] {"user":"]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ]"}}
[debug] [2024-10-18T12:39:04.094Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:39:04.094Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:39:04.094Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:39:04.094Z"],"workRunningCount":1}
[debug] [2024-10-18T12:39:04.094Z] Accepted request GET /totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T12:39:04.097Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:39:04.097Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T12:39:04.097Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:39:04.098Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[debug] [2024-10-18T12:39:04.231Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 133.7304ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 133.7304ms"}}
[debug] [2024-10-18T12:39:04.233Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T12:39:04.233Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:39:04.234Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:39:04.234Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:39:04.241Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:39:04.241Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:39:04.242Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:39:04.241Z"],"workRunningCount":1}
[debug] [2024-10-18T12:39:04.242Z] Accepted request GET /totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T12:39:04.252Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:39:04.252Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T12:39:04.253Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:39:04.254Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[info] >  QuerySnapshot { {"user":"QuerySnapshot {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m QuerySnapshot {"}}
[info] >    _query: Query { {"user":"  _query: Query {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _query: Query {"}}
[info] >      _firestore: Firestore { {"user":"    _firestore: Firestore {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _firestore: Firestore {"}}
[info] >        _settings: [Object], {"user":"      _settings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settings: [Object],"}}
[info] >        _settingsFrozen: true, {"user":"      _settingsFrozen: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settingsFrozen: true,"}}
[info] >        _serializer: [Serializer], {"user":"      _serializer: [Serializer],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer],"}}
[info] >        _projectId: 'totem-tour', {"user":"      _projectId: 'totem-tour',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _projectId: 'totem-tour',"}}
[info] >        _databaseId: '(default)', {"user":"      _databaseId: '(default)',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _databaseId: '(default)',"}}
[info] >        registeredListenersCount: 0, {"user":"      registeredListenersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       registeredListenersCount: 0,"}}
[info] >        bulkWritersCount: 0, {"user":"      bulkWritersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       bulkWritersCount: 0,"}}
[info] >        _traceUtil: DisabledTraceUtil {}, {"user":"      _traceUtil: DisabledTraceUtil {},","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _traceUtil: DisabledTraceUtil {},"}}
[info] >        _backoffSettings: [Object], {"user":"      _backoffSettings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _backoffSettings: [Object],"}}
[info] >        _clientPool: [ClientPool], {"user":"      _clientPool: [ClientPool],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _clientPool: [ClientPool],"}}
[info] >        _gax: [Object] {"user":"      _gax: [Object]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _gax: [Object]"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _queryOptions: QueryOptions { {"user":"    _queryOptions: QueryOptions {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryOptions: QueryOptions {"}}
[info] >        parentPath: [ResourcePath], {"user":"      parentPath: [ResourcePath],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       parentPath: [ResourcePath],"}}
[info] >        collectionId: 'purchaseItems', {"user":"      collectionId: 'purchaseItems',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       collectionId: 'purchaseItems',"}}
[info] >        converter: [Object], {"user":"      converter: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       converter: [Object],"}}
[info] >        allDescendants: false, {"user":"      allDescendants: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allDescendants: false,"}}
[info] >        filters: [Array], {"user":"      filters: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       filters: [Array],"}}
[info] >        fieldOrders: [Array], {"user":"      fieldOrders: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       fieldOrders: [Array],"}}
[info] >        startAt: undefined, {"user":"      startAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       startAt: undefined,"}}
[info] >        endAt: undefined, {"user":"      endAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       endAt: undefined,"}}
[info] >        limit: undefined, {"user":"      limit: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limit: undefined,"}}
[info] >        limitType: undefined, {"user":"      limitType: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limitType: undefined,"}}
[info] >        offset: undefined, {"user":"      offset: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       offset: undefined,"}}
[info] >        projection: undefined, {"user":"      projection: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       projection: undefined,"}}
[info] >        kindless: false, {"user":"      kindless: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       kindless: false,"}}
[info] >        requireConsistency: true {"user":"      requireConsistency: true","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       requireConsistency: true"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _serializer: Serializer { {"user":"    _serializer: Serializer {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _serializer: Serializer {"}}
[info] >        createReference: [Function (anonymous)], {"user":"      createReference: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createReference: [Function (anonymous)],"}}
[info] >        createInteger: [Function (anonymous)], {"user":"      createInteger: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createInteger: [Function (anonymous)],"}}
[info] >        allowUndefined: false {"user":"      allowUndefined: false","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allowUndefined: false"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _allowUndefined: false, {"user":"    _allowUndefined: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _allowUndefined: false,"}}
[info] >      _queryUtil: QueryUtil { {"user":"    _queryUtil: QueryUtil {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryUtil: QueryUtil {"}}
[info] >        _firestore: [Firestore], {"user":"      _firestore: [Firestore],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _firestore: [Firestore],"}}
[info] >        _queryOptions: [QueryOptions], {"user":"      _queryOptions: [QueryOptions],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _queryOptions: [QueryOptions],"}}
[info] >        _serializer: [Serializer] {"user":"      _serializer: [Serializer]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer]"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    _readTime: Timestamp { _seconds: 1729255143, _nanoseconds: 906391000 }, {"user":"  _readTime: Timestamp { _seconds: 1729255143, _nanoseconds: 906391000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _readTime: Timestamp { _seconds: 1729255143, _nanoseconds: 906391000 },"}}
[info] >    _size: 1, {"user":"  _size: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _size: 1,"}}
[info] >    _materializedDocs: null, {"user":"  _materializedDocs: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedDocs: null,"}}
[info] >    _materializedChanges: null, {"user":"  _materializedChanges: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedChanges: null,"}}
[info] >    _docs: [Function (anonymous)], {"user":"  _docs: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _docs: [Function (anonymous)],"}}
[info] >    _changes: [Function (anonymous)] {"user":"  _changes: [Function (anonymous)]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _changes: [Function (anonymous)]"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2024-10-18T12:39:04.334Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 79.7862ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 79.7862ms"}}
[debug] [2024-10-18T12:39:04.335Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T12:39:04.335Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:39:04.335Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:39:04.335Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] >  [ {"user":"[","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ["}}
[info] >    { {"user":"  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   {"}}
[info] >      id: 'AIxFbug16kvF6PQU0ybK', {"user":"    id: 'AIxFbug16kvF6PQU0ybK',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     id: 'AIxFbug16kvF6PQU0ybK',"}}
[info] >      productId: '2PHnd6lM4TG6lP6Y5fOc', {"user":"    productId: '2PHnd6lM4TG6lP6Y5fOc',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     productId: '2PHnd6lM4TG6lP6Y5fOc',"}}
[info] >      qty: 1, {"user":"    qty: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     qty: 1,"}}
[info] >      netPrice: 1, {"user":"    netPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     netPrice: 1,"}}
[info] >      partnerComm: 1, {"user":"    partnerComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     partnerComm: 1,"}}
[info] >      companyComm: 1, {"user":"    companyComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     companyComm: 1,"}}
[info] >      pricePerPerson: 1, {"user":"    pricePerPerson: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     pricePerPerson: 1,"}}
[info] >      minTotalPrice: 1, {"user":"    minTotalPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     minTotalPrice: 1,"}}
[info] >      totalPrice: 3, {"user":"    totalPrice: 3,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totalPrice: 3,"}}
[info] >      date: '2024-10-18', {"user":"    date: '2024-10-18',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: '2024-10-18',"}}
[info] >      cityId: 'OiCHcy7zKcp2uU3zlMPU', {"user":"    cityId: 'OiCHcy7zKcp2uU3zlMPU',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     cityId: 'OiCHcy7zKcp2uU3zlMPU',"}}
[info] >      totemId: '1LoQvuu4KzHC1ux7qfOR', {"user":"    totemId: '1LoQvuu4KzHC1ux7qfOR',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totemId: '1LoQvuu4KzHC1ux7qfOR',"}}
[info] >      purchaseId: 'zuDSRe9m9p2oU9O4Kz1o', {"user":"    purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',"}}
[info] >      customerId: 'rMuIfSk9AarUm73FZVtC', {"user":"    customerId: 'rMuIfSk9AarUm73FZVtC',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     customerId: 'rMuIfSk9AarUm73FZVtC',"}}
[info] >      timestamp: 1729177549038 {"user":"    timestamp: 1729177549038","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     timestamp: 1729177549038"}}
[info] >    } {"user":"  }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   }"}}
[info] >  ] {"user":"]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ]"}}
[debug] [2024-10-18T12:39:15.801Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:39:15.801Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:39:15.801Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:39:15.801Z"],"workRunningCount":1}
[debug] [2024-10-18T12:39:15.801Z] Accepted request GET /totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T12:39:15.804Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:39:15.805Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T12:39:15.805Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:39:15.805Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[debug] [2024-10-18T12:39:15.847Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 41.9783ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 41.9783ms"}}
[debug] [2024-10-18T12:39:15.848Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T12:39:15.848Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:39:15.848Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:39:15.848Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:39:15.851Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:39:15.851Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:39:15.851Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:39:15.851Z"],"workRunningCount":1}
[debug] [2024-10-18T12:39:15.851Z] Accepted request GET /totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T12:39:15.853Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:39:15.853Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T12:39:15.853Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:39:15.854Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[info] >  QuerySnapshot { {"user":"QuerySnapshot {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m QuerySnapshot {"}}
[info] >    _query: Query { {"user":"  _query: Query {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _query: Query {"}}
[info] >      _firestore: Firestore { {"user":"    _firestore: Firestore {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _firestore: Firestore {"}}
[info] >        _settings: [Object], {"user":"      _settings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settings: [Object],"}}
[info] >        _settingsFrozen: true, {"user":"      _settingsFrozen: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settingsFrozen: true,"}}
[info] >        _serializer: [Serializer], {"user":"      _serializer: [Serializer],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer],"}}
[info] >        _projectId: 'totem-tour', {"user":"      _projectId: 'totem-tour',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _projectId: 'totem-tour',"}}
[info] >        _databaseId: '(default)', {"user":"      _databaseId: '(default)',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _databaseId: '(default)',"}}
[info] >        registeredListenersCount: 0, {"user":"      registeredListenersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       registeredListenersCount: 0,"}}
[info] >        bulkWritersCount: 0, {"user":"      bulkWritersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       bulkWritersCount: 0,"}}
[info] >        _traceUtil: DisabledTraceUtil {}, {"user":"      _traceUtil: DisabledTraceUtil {},","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _traceUtil: DisabledTraceUtil {},"}}
[info] >        _backoffSettings: [Object], {"user":"      _backoffSettings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _backoffSettings: [Object],"}}
[info] >        _clientPool: [ClientPool], {"user":"      _clientPool: [ClientPool],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _clientPool: [ClientPool],"}}
[info] >        _gax: [Object] {"user":"      _gax: [Object]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _gax: [Object]"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _queryOptions: QueryOptions { {"user":"    _queryOptions: QueryOptions {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryOptions: QueryOptions {"}}
[info] >        parentPath: [ResourcePath], {"user":"      parentPath: [ResourcePath],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       parentPath: [ResourcePath],"}}
[info] >        collectionId: 'purchaseItems', {"user":"      collectionId: 'purchaseItems',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       collectionId: 'purchaseItems',"}}
[info] >        converter: [Object], {"user":"      converter: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       converter: [Object],"}}
[info] >        allDescendants: false, {"user":"      allDescendants: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allDescendants: false,"}}
[info] >        filters: [Array], {"user":"      filters: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       filters: [Array],"}}
[info] >        fieldOrders: [Array], {"user":"      fieldOrders: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       fieldOrders: [Array],"}}
[info] >        startAt: undefined, {"user":"      startAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       startAt: undefined,"}}
[info] >        endAt: undefined, {"user":"      endAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       endAt: undefined,"}}
[info] >        limit: undefined, {"user":"      limit: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limit: undefined,"}}
[info] >        limitType: undefined, {"user":"      limitType: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limitType: undefined,"}}
[info] >        offset: undefined, {"user":"      offset: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       offset: undefined,"}}
[info] >        projection: undefined, {"user":"      projection: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       projection: undefined,"}}
[info] >        kindless: false, {"user":"      kindless: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       kindless: false,"}}
[info] >        requireConsistency: true {"user":"      requireConsistency: true","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       requireConsistency: true"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _serializer: Serializer { {"user":"    _serializer: Serializer {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _serializer: Serializer {"}}
[info] >        createReference: [Function (anonymous)], {"user":"      createReference: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createReference: [Function (anonymous)],"}}
[info] >        createInteger: [Function (anonymous)], {"user":"      createInteger: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createInteger: [Function (anonymous)],"}}
[info] >        allowUndefined: false {"user":"      allowUndefined: false","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allowUndefined: false"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _allowUndefined: false, {"user":"    _allowUndefined: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _allowUndefined: false,"}}
[info] >      _queryUtil: QueryUtil { {"user":"    _queryUtil: QueryUtil {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryUtil: QueryUtil {"}}
[info] >        _firestore: [Firestore], {"user":"      _firestore: [Firestore],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _firestore: [Firestore],"}}
[info] >        _queryOptions: [QueryOptions], {"user":"      _queryOptions: [QueryOptions],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _queryOptions: [QueryOptions],"}}
[info] >        _serializer: [Serializer] {"user":"      _serializer: [Serializer]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer]"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    _readTime: Timestamp { _seconds: 1729255155, _nanoseconds: 514183000 }, {"user":"  _readTime: Timestamp { _seconds: 1729255155, _nanoseconds: 514183000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _readTime: Timestamp { _seconds: 1729255155, _nanoseconds: 514183000 },"}}
[info] >    _size: 1, {"user":"  _size: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _size: 1,"}}
[info] >    _materializedDocs: null, {"user":"  _materializedDocs: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedDocs: null,"}}
[info] >    _materializedChanges: null, {"user":"  _materializedChanges: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedChanges: null,"}}
[info] >    _docs: [Function (anonymous)], {"user":"  _docs: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _docs: [Function (anonymous)],"}}
[info] >    _changes: [Function (anonymous)] {"user":"  _changes: [Function (anonymous)]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _changes: [Function (anonymous)]"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2024-10-18T12:39:15.937Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 83.1244ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 83.1244ms"}}
[debug] [2024-10-18T12:39:15.938Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T12:39:15.938Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:39:15.938Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:39:15.938Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] >  [ {"user":"[","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ["}}
[info] >    { {"user":"  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   {"}}
[info] >      id: 'AIxFbug16kvF6PQU0ybK', {"user":"    id: 'AIxFbug16kvF6PQU0ybK',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     id: 'AIxFbug16kvF6PQU0ybK',"}}
[info] >      productId: '2PHnd6lM4TG6lP6Y5fOc', {"user":"    productId: '2PHnd6lM4TG6lP6Y5fOc',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     productId: '2PHnd6lM4TG6lP6Y5fOc',"}}
[info] >      qty: 1, {"user":"    qty: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     qty: 1,"}}
[info] >      netPrice: 1, {"user":"    netPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     netPrice: 1,"}}
[info] >      partnerComm: 1, {"user":"    partnerComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     partnerComm: 1,"}}
[info] >      companyComm: 1, {"user":"    companyComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     companyComm: 1,"}}
[info] >      pricePerPerson: 1, {"user":"    pricePerPerson: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     pricePerPerson: 1,"}}
[info] >      minTotalPrice: 1, {"user":"    minTotalPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     minTotalPrice: 1,"}}
[info] >      totalPrice: 3, {"user":"    totalPrice: 3,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totalPrice: 3,"}}
[info] >      date: '2024-10-18', {"user":"    date: '2024-10-18',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: '2024-10-18',"}}
[info] >      cityId: 'OiCHcy7zKcp2uU3zlMPU', {"user":"    cityId: 'OiCHcy7zKcp2uU3zlMPU',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     cityId: 'OiCHcy7zKcp2uU3zlMPU',"}}
[info] >      totemId: '1LoQvuu4KzHC1ux7qfOR', {"user":"    totemId: '1LoQvuu4KzHC1ux7qfOR',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totemId: '1LoQvuu4KzHC1ux7qfOR',"}}
[info] >      purchaseId: 'zuDSRe9m9p2oU9O4Kz1o', {"user":"    purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',"}}
[info] >      customerId: 'rMuIfSk9AarUm73FZVtC', {"user":"    customerId: 'rMuIfSk9AarUm73FZVtC',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     customerId: 'rMuIfSk9AarUm73FZVtC',"}}
[info] >      timestamp: 1729177549038 {"user":"    timestamp: 1729177549038","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     timestamp: 1729177549038"}}
[info] >    } {"user":"  }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   }"}}
[info] >  ] {"user":"]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ]"}}
[debug] [2024-10-18T12:39:29.246Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:39:29.246Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:39:29.246Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:39:29.246Z"],"workRunningCount":1}
[debug] [2024-10-18T12:39:29.246Z] Accepted request GET /totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T12:39:29.248Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:39:29.249Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T12:39:29.249Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:39:29.249Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[debug] [2024-10-18T12:39:29.292Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 42.9301ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 42.9301ms"}}
[debug] [2024-10-18T12:39:29.293Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T12:39:29.293Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:39:29.293Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:39:29.293Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:39:29.296Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:39:29.296Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:39:29.297Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:39:29.296Z"],"workRunningCount":1}
[debug] [2024-10-18T12:39:29.297Z] Accepted request GET /totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T12:39:29.299Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:39:29.299Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T12:39:29.299Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:39:29.300Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[info] >  QuerySnapshot { {"user":"QuerySnapshot {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m QuerySnapshot {"}}
[info] >    _query: Query { {"user":"  _query: Query {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _query: Query {"}}
[info] >      _firestore: Firestore { {"user":"    _firestore: Firestore {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _firestore: Firestore {"}}
[info] >        _settings: [Object], {"user":"      _settings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settings: [Object],"}}
[info] >        _settingsFrozen: true, {"user":"      _settingsFrozen: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settingsFrozen: true,"}}
[info] >        _serializer: [Serializer], {"user":"      _serializer: [Serializer],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer],"}}
[info] >        _projectId: 'totem-tour', {"user":"      _projectId: 'totem-tour',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _projectId: 'totem-tour',"}}
[info] >        _databaseId: '(default)', {"user":"      _databaseId: '(default)',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _databaseId: '(default)',"}}
[info] >        registeredListenersCount: 0, {"user":"      registeredListenersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       registeredListenersCount: 0,"}}
[info] >        bulkWritersCount: 0, {"user":"      bulkWritersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       bulkWritersCount: 0,"}}
[info] >        _traceUtil: DisabledTraceUtil {}, {"user":"      _traceUtil: DisabledTraceUtil {},","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _traceUtil: DisabledTraceUtil {},"}}
[info] >        _backoffSettings: [Object], {"user":"      _backoffSettings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _backoffSettings: [Object],"}}
[info] >        _clientPool: [ClientPool], {"user":"      _clientPool: [ClientPool],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _clientPool: [ClientPool],"}}
[info] >        _gax: [Object] {"user":"      _gax: [Object]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _gax: [Object]"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _queryOptions: QueryOptions { {"user":"    _queryOptions: QueryOptions {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryOptions: QueryOptions {"}}
[info] >        parentPath: [ResourcePath], {"user":"      parentPath: [ResourcePath],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       parentPath: [ResourcePath],"}}
[info] >        collectionId: 'purchaseItems', {"user":"      collectionId: 'purchaseItems',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       collectionId: 'purchaseItems',"}}
[info] >        converter: [Object], {"user":"      converter: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       converter: [Object],"}}
[info] >        allDescendants: false, {"user":"      allDescendants: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allDescendants: false,"}}
[info] >        filters: [Array], {"user":"      filters: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       filters: [Array],"}}
[info] >        fieldOrders: [Array], {"user":"      fieldOrders: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       fieldOrders: [Array],"}}
[info] >        startAt: undefined, {"user":"      startAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       startAt: undefined,"}}
[info] >        endAt: undefined, {"user":"      endAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       endAt: undefined,"}}
[info] >        limit: undefined, {"user":"      limit: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limit: undefined,"}}
[info] >        limitType: undefined, {"user":"      limitType: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limitType: undefined,"}}
[info] >        offset: undefined, {"user":"      offset: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       offset: undefined,"}}
[info] >        projection: undefined, {"user":"      projection: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       projection: undefined,"}}
[info] >        kindless: false, {"user":"      kindless: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       kindless: false,"}}
[info] >        requireConsistency: true {"user":"      requireConsistency: true","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       requireConsistency: true"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _serializer: Serializer { {"user":"    _serializer: Serializer {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _serializer: Serializer {"}}
[info] >        createReference: [Function (anonymous)], {"user":"      createReference: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createReference: [Function (anonymous)],"}}
[info] >        createInteger: [Function (anonymous)], {"user":"      createInteger: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createInteger: [Function (anonymous)],"}}
[info] >        allowUndefined: false {"user":"      allowUndefined: false","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allowUndefined: false"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _allowUndefined: false, {"user":"    _allowUndefined: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _allowUndefined: false,"}}
[info] >      _queryUtil: QueryUtil { {"user":"    _queryUtil: QueryUtil {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryUtil: QueryUtil {"}}
[info] >        _firestore: [Firestore], {"user":"      _firestore: [Firestore],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _firestore: [Firestore],"}}
[info] >        _queryOptions: [QueryOptions], {"user":"      _queryOptions: [QueryOptions],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _queryOptions: [QueryOptions],"}}
[info] >        _serializer: [Serializer] {"user":"      _serializer: [Serializer]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer]"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    _readTime: Timestamp { _seconds: 1729255168, _nanoseconds: 950773000 }, {"user":"  _readTime: Timestamp { _seconds: 1729255168, _nanoseconds: 950773000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _readTime: Timestamp { _seconds: 1729255168, _nanoseconds: 950773000 },"}}
[info] >    _size: 1, {"user":"  _size: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _size: 1,"}}
[info] >    _materializedDocs: null, {"user":"  _materializedDocs: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedDocs: null,"}}
[info] >    _materializedChanges: null, {"user":"  _materializedChanges: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedChanges: null,"}}
[info] >    _docs: [Function (anonymous)], {"user":"  _docs: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _docs: [Function (anonymous)],"}}
[info] >    _changes: [Function (anonymous)] {"user":"  _changes: [Function (anonymous)]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _changes: [Function (anonymous)]"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2024-10-18T12:39:29.402Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 102.8791ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 102.8791ms"}}
[debug] [2024-10-18T12:39:29.403Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T12:39:29.403Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:39:29.403Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:39:29.403Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] >  [ {"user":"[","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ["}}
[info] >    { {"user":"  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   {"}}
[info] >      id: 'AIxFbug16kvF6PQU0ybK', {"user":"    id: 'AIxFbug16kvF6PQU0ybK',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     id: 'AIxFbug16kvF6PQU0ybK',"}}
[info] >      productId: '2PHnd6lM4TG6lP6Y5fOc', {"user":"    productId: '2PHnd6lM4TG6lP6Y5fOc',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     productId: '2PHnd6lM4TG6lP6Y5fOc',"}}
[info] >      qty: 1, {"user":"    qty: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     qty: 1,"}}
[info] >      netPrice: 1, {"user":"    netPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     netPrice: 1,"}}
[info] >      partnerComm: 1, {"user":"    partnerComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     partnerComm: 1,"}}
[info] >      companyComm: 1, {"user":"    companyComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     companyComm: 1,"}}
[info] >      pricePerPerson: 1, {"user":"    pricePerPerson: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     pricePerPerson: 1,"}}
[info] >      minTotalPrice: 1, {"user":"    minTotalPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     minTotalPrice: 1,"}}
[info] >      totalPrice: 3, {"user":"    totalPrice: 3,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totalPrice: 3,"}}
[info] >      date: '2024-10-18', {"user":"    date: '2024-10-18',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: '2024-10-18',"}}
[info] >      cityId: 'OiCHcy7zKcp2uU3zlMPU', {"user":"    cityId: 'OiCHcy7zKcp2uU3zlMPU',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     cityId: 'OiCHcy7zKcp2uU3zlMPU',"}}
[info] >      totemId: '1LoQvuu4KzHC1ux7qfOR', {"user":"    totemId: '1LoQvuu4KzHC1ux7qfOR',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totemId: '1LoQvuu4KzHC1ux7qfOR',"}}
[info] >      purchaseId: 'zuDSRe9m9p2oU9O4Kz1o', {"user":"    purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',"}}
[info] >      customerId: 'rMuIfSk9AarUm73FZVtC', {"user":"    customerId: 'rMuIfSk9AarUm73FZVtC',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     customerId: 'rMuIfSk9AarUm73FZVtC',"}}
[info] >      timestamp: 1729177549038 {"user":"    timestamp: 1729177549038","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     timestamp: 1729177549038"}}
[info] >    } {"user":"  }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   }"}}
[info] >  ] {"user":"]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ]"}}
[debug] [2024-10-18T12:39:30.246Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:39:30.245Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:39:30.246Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:39:30.245Z"],"workRunningCount":1}
[debug] [2024-10-18T12:39:30.246Z] Accepted request GET /totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T12:39:30.247Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:39:30.247Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T12:39:30.247Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:39:30.247Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[debug] [2024-10-18T12:39:30.287Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 39.3332ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 39.3332ms"}}
[debug] [2024-10-18T12:39:30.287Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T12:39:30.287Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:39:30.288Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:39:30.288Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:39:30.290Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:39:30.290Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:39:30.290Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:39:30.290Z"],"workRunningCount":1}
[debug] [2024-10-18T12:39:30.290Z] Accepted request GET /totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T12:39:30.291Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:39:30.291Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T12:39:30.291Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:39:30.292Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[info] >  QuerySnapshot { {"user":"QuerySnapshot {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m QuerySnapshot {"}}
[info] >    _query: Query { {"user":"  _query: Query {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _query: Query {"}}
[info] >      _firestore: Firestore { {"user":"    _firestore: Firestore {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _firestore: Firestore {"}}
[info] >        _settings: [Object], {"user":"      _settings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settings: [Object],"}}
[info] >        _settingsFrozen: true, {"user":"      _settingsFrozen: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settingsFrozen: true,"}}
[info] >        _serializer: [Serializer], {"user":"      _serializer: [Serializer],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer],"}}
[info] >        _projectId: 'totem-tour', {"user":"      _projectId: 'totem-tour',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _projectId: 'totem-tour',"}}
[info] >        _databaseId: '(default)', {"user":"      _databaseId: '(default)',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _databaseId: '(default)',"}}
[info] >        registeredListenersCount: 0, {"user":"      registeredListenersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       registeredListenersCount: 0,"}}
[info] >        bulkWritersCount: 0, {"user":"      bulkWritersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       bulkWritersCount: 0,"}}
[info] >        _traceUtil: DisabledTraceUtil {}, {"user":"      _traceUtil: DisabledTraceUtil {},","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _traceUtil: DisabledTraceUtil {},"}}
[info] >        _backoffSettings: [Object], {"user":"      _backoffSettings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _backoffSettings: [Object],"}}
[info] >        _clientPool: [ClientPool], {"user":"      _clientPool: [ClientPool],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _clientPool: [ClientPool],"}}
[info] >        _gax: [Object] {"user":"      _gax: [Object]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _gax: [Object]"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _queryOptions: QueryOptions { {"user":"    _queryOptions: QueryOptions {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryOptions: QueryOptions {"}}
[info] >        parentPath: [ResourcePath], {"user":"      parentPath: [ResourcePath],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       parentPath: [ResourcePath],"}}
[info] >        collectionId: 'purchaseItems', {"user":"      collectionId: 'purchaseItems',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       collectionId: 'purchaseItems',"}}
[info] >        converter: [Object], {"user":"      converter: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       converter: [Object],"}}
[info] >        allDescendants: false, {"user":"      allDescendants: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allDescendants: false,"}}
[info] >        filters: [Array], {"user":"      filters: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       filters: [Array],"}}
[info] >        fieldOrders: [Array], {"user":"      fieldOrders: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       fieldOrders: [Array],"}}
[info] >        startAt: undefined, {"user":"      startAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       startAt: undefined,"}}
[info] >        endAt: undefined, {"user":"      endAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       endAt: undefined,"}}
[info] >        limit: undefined, {"user":"      limit: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limit: undefined,"}}
[info] >        limitType: undefined, {"user":"      limitType: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limitType: undefined,"}}
[info] >        offset: undefined, {"user":"      offset: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       offset: undefined,"}}
[info] >        projection: undefined, {"user":"      projection: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       projection: undefined,"}}
[info] >        kindless: false, {"user":"      kindless: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       kindless: false,"}}
[info] >        requireConsistency: true {"user":"      requireConsistency: true","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       requireConsistency: true"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _serializer: Serializer { {"user":"    _serializer: Serializer {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _serializer: Serializer {"}}
[info] >        createReference: [Function (anonymous)], {"user":"      createReference: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createReference: [Function (anonymous)],"}}
[info] >        createInteger: [Function (anonymous)], {"user":"      createInteger: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createInteger: [Function (anonymous)],"}}
[info] >        allowUndefined: false {"user":"      allowUndefined: false","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allowUndefined: false"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _allowUndefined: false, {"user":"    _allowUndefined: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _allowUndefined: false,"}}
[info] >      _queryUtil: QueryUtil { {"user":"    _queryUtil: QueryUtil {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryUtil: QueryUtil {"}}
[info] >        _firestore: [Firestore], {"user":"      _firestore: [Firestore],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _firestore: [Firestore],"}}
[info] >        _queryOptions: [QueryOptions], {"user":"      _queryOptions: [QueryOptions],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _queryOptions: [QueryOptions],"}}
[info] >        _serializer: [Serializer] {"user":"      _serializer: [Serializer]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer]"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    _readTime: Timestamp { _seconds: 1729255169, _nanoseconds: 937674000 }, {"user":"  _readTime: Timestamp { _seconds: 1729255169, _nanoseconds: 937674000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _readTime: Timestamp { _seconds: 1729255169, _nanoseconds: 937674000 },"}}
[info] >    _size: 1, {"user":"  _size: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _size: 1,"}}
[info] >    _materializedDocs: null, {"user":"  _materializedDocs: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedDocs: null,"}}
[info] >    _materializedChanges: null, {"user":"  _materializedChanges: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedChanges: null,"}}
[info] >    _docs: [Function (anonymous)], {"user":"  _docs: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _docs: [Function (anonymous)],"}}
[info] >    _changes: [Function (anonymous)] {"user":"  _changes: [Function (anonymous)]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _changes: [Function (anonymous)]"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2024-10-18T12:39:30.354Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 61.598ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 61.598ms"}}
[debug] [2024-10-18T12:39:30.354Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T12:39:30.354Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:39:30.354Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:39:30.355Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] >  [ {"user":"[","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ["}}
[info] >    { {"user":"  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   {"}}
[info] >      id: 'AIxFbug16kvF6PQU0ybK', {"user":"    id: 'AIxFbug16kvF6PQU0ybK',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     id: 'AIxFbug16kvF6PQU0ybK',"}}
[info] >      productId: '2PHnd6lM4TG6lP6Y5fOc', {"user":"    productId: '2PHnd6lM4TG6lP6Y5fOc',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     productId: '2PHnd6lM4TG6lP6Y5fOc',"}}
[info] >      qty: 1, {"user":"    qty: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     qty: 1,"}}
[info] >      netPrice: 1, {"user":"    netPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     netPrice: 1,"}}
[info] >      partnerComm: 1, {"user":"    partnerComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     partnerComm: 1,"}}
[info] >      companyComm: 1, {"user":"    companyComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     companyComm: 1,"}}
[info] >      pricePerPerson: 1, {"user":"    pricePerPerson: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     pricePerPerson: 1,"}}
[info] >      minTotalPrice: 1, {"user":"    minTotalPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     minTotalPrice: 1,"}}
[info] >      totalPrice: 3, {"user":"    totalPrice: 3,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totalPrice: 3,"}}
[info] >      date: '2024-10-18', {"user":"    date: '2024-10-18',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: '2024-10-18',"}}
[info] >      cityId: 'OiCHcy7zKcp2uU3zlMPU', {"user":"    cityId: 'OiCHcy7zKcp2uU3zlMPU',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     cityId: 'OiCHcy7zKcp2uU3zlMPU',"}}
[info] >      totemId: '1LoQvuu4KzHC1ux7qfOR', {"user":"    totemId: '1LoQvuu4KzHC1ux7qfOR',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totemId: '1LoQvuu4KzHC1ux7qfOR',"}}
[info] >      purchaseId: 'zuDSRe9m9p2oU9O4Kz1o', {"user":"    purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',"}}
[info] >      customerId: 'rMuIfSk9AarUm73FZVtC', {"user":"    customerId: 'rMuIfSk9AarUm73FZVtC',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     customerId: 'rMuIfSk9AarUm73FZVtC',"}}
[info] >      timestamp: 1729177549038 {"user":"    timestamp: 1729177549038","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     timestamp: 1729177549038"}}
[info] >    } {"user":"  }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   }"}}
[info] >  ] {"user":"]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ]"}}
[debug] [2024-10-18T12:39:35.264Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:39:35.264Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:39:35.265Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:39:35.264Z"],"workRunningCount":1}
[debug] [2024-10-18T12:39:35.265Z] Accepted request GET /totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T12:39:35.266Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:39:35.266Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T12:39:35.266Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:39:35.268Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[debug] [2024-10-18T12:39:35.322Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 54.1636ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 54.1636ms"}}
[debug] [2024-10-18T12:39:35.322Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T12:39:35.322Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:39:35.323Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:39:35.323Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:39:35.326Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:39:35.326Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:39:35.326Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:39:35.326Z"],"workRunningCount":1}
[debug] [2024-10-18T12:39:35.326Z] Accepted request GET /totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T12:39:35.329Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:39:35.329Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T12:39:35.329Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:39:35.330Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[info] >  QuerySnapshot { {"user":"QuerySnapshot {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m QuerySnapshot {"}}
[info] >    _query: Query { {"user":"  _query: Query {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _query: Query {"}}
[info] >      _firestore: Firestore { {"user":"    _firestore: Firestore {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _firestore: Firestore {"}}
[info] >        _settings: [Object], {"user":"      _settings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settings: [Object],"}}
[info] >        _settingsFrozen: true, {"user":"      _settingsFrozen: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settingsFrozen: true,"}}
[info] >        _serializer: [Serializer], {"user":"      _serializer: [Serializer],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer],"}}
[info] >        _projectId: 'totem-tour', {"user":"      _projectId: 'totem-tour',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _projectId: 'totem-tour',"}}
[info] >        _databaseId: '(default)', {"user":"      _databaseId: '(default)',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _databaseId: '(default)',"}}
[info] >        registeredListenersCount: 0, {"user":"      registeredListenersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       registeredListenersCount: 0,"}}
[info] >        bulkWritersCount: 0, {"user":"      bulkWritersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       bulkWritersCount: 0,"}}
[info] >        _traceUtil: DisabledTraceUtil {}, {"user":"      _traceUtil: DisabledTraceUtil {},","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _traceUtil: DisabledTraceUtil {},"}}
[info] >        _backoffSettings: [Object], {"user":"      _backoffSettings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _backoffSettings: [Object],"}}
[info] >        _clientPool: [ClientPool], {"user":"      _clientPool: [ClientPool],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _clientPool: [ClientPool],"}}
[info] >        _gax: [Object] {"user":"      _gax: [Object]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _gax: [Object]"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _queryOptions: QueryOptions { {"user":"    _queryOptions: QueryOptions {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryOptions: QueryOptions {"}}
[info] >        parentPath: [ResourcePath], {"user":"      parentPath: [ResourcePath],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       parentPath: [ResourcePath],"}}
[info] >        collectionId: 'purchaseItems', {"user":"      collectionId: 'purchaseItems',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       collectionId: 'purchaseItems',"}}
[info] >        converter: [Object], {"user":"      converter: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       converter: [Object],"}}
[info] >        allDescendants: false, {"user":"      allDescendants: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allDescendants: false,"}}
[info] >        filters: [Array], {"user":"      filters: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       filters: [Array],"}}
[info] >        fieldOrders: [Array], {"user":"      fieldOrders: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       fieldOrders: [Array],"}}
[info] >        startAt: undefined, {"user":"      startAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       startAt: undefined,"}}
[info] >        endAt: undefined, {"user":"      endAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       endAt: undefined,"}}
[info] >        limit: undefined, {"user":"      limit: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limit: undefined,"}}
[info] >        limitType: undefined, {"user":"      limitType: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limitType: undefined,"}}
[info] >        offset: undefined, {"user":"      offset: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       offset: undefined,"}}
[info] >        projection: undefined, {"user":"      projection: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       projection: undefined,"}}
[info] >        kindless: false, {"user":"      kindless: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       kindless: false,"}}
[info] >        requireConsistency: true {"user":"      requireConsistency: true","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       requireConsistency: true"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _serializer: Serializer { {"user":"    _serializer: Serializer {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _serializer: Serializer {"}}
[info] >        createReference: [Function (anonymous)], {"user":"      createReference: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createReference: [Function (anonymous)],"}}
[info] >        createInteger: [Function (anonymous)], {"user":"      createInteger: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createInteger: [Function (anonymous)],"}}
[info] >        allowUndefined: false {"user":"      allowUndefined: false","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allowUndefined: false"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _allowUndefined: false, {"user":"    _allowUndefined: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _allowUndefined: false,"}}
[info] >      _queryUtil: QueryUtil { {"user":"    _queryUtil: QueryUtil {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryUtil: QueryUtil {"}}
[info] >        _firestore: [Firestore], {"user":"      _firestore: [Firestore],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _firestore: [Firestore],"}}
[info] >        _queryOptions: [QueryOptions], {"user":"      _queryOptions: [QueryOptions],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _queryOptions: [QueryOptions],"}}
[info] >        _serializer: [Serializer] {"user":"      _serializer: [Serializer]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer]"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    _readTime: Timestamp { _seconds: 1729255174, _nanoseconds: 991338000 }, {"user":"  _readTime: Timestamp { _seconds: 1729255174, _nanoseconds: 991338000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _readTime: Timestamp { _seconds: 1729255174, _nanoseconds: 991338000 },"}}
[info] >    _size: 1, {"user":"  _size: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _size: 1,"}}
[info] >    _materializedDocs: null, {"user":"  _materializedDocs: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedDocs: null,"}}
[info] >    _materializedChanges: null, {"user":"  _materializedChanges: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedChanges: null,"}}
[info] >    _docs: [Function (anonymous)], {"user":"  _docs: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _docs: [Function (anonymous)],"}}
[info] >    _changes: [Function (anonymous)] {"user":"  _changes: [Function (anonymous)]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _changes: [Function (anonymous)]"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2024-10-18T12:39:35.420Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 90.7225ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 90.7225ms"}}
[debug] [2024-10-18T12:39:35.421Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T12:39:35.421Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:39:35.421Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:39:35.421Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] >  [ {"user":"[","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ["}}
[info] >    { {"user":"  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   {"}}
[info] >      id: 'AIxFbug16kvF6PQU0ybK', {"user":"    id: 'AIxFbug16kvF6PQU0ybK',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     id: 'AIxFbug16kvF6PQU0ybK',"}}
[info] >      productId: '2PHnd6lM4TG6lP6Y5fOc', {"user":"    productId: '2PHnd6lM4TG6lP6Y5fOc',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     productId: '2PHnd6lM4TG6lP6Y5fOc',"}}
[info] >      qty: 1, {"user":"    qty: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     qty: 1,"}}
[info] >      netPrice: 1, {"user":"    netPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     netPrice: 1,"}}
[info] >      partnerComm: 1, {"user":"    partnerComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     partnerComm: 1,"}}
[info] >      companyComm: 1, {"user":"    companyComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     companyComm: 1,"}}
[info] >      pricePerPerson: 1, {"user":"    pricePerPerson: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     pricePerPerson: 1,"}}
[info] >      minTotalPrice: 1, {"user":"    minTotalPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     minTotalPrice: 1,"}}
[info] >      totalPrice: 3, {"user":"    totalPrice: 3,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totalPrice: 3,"}}
[info] >      date: '2024-10-18', {"user":"    date: '2024-10-18',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: '2024-10-18',"}}
[info] >      cityId: 'OiCHcy7zKcp2uU3zlMPU', {"user":"    cityId: 'OiCHcy7zKcp2uU3zlMPU',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     cityId: 'OiCHcy7zKcp2uU3zlMPU',"}}
[info] >      totemId: '1LoQvuu4KzHC1ux7qfOR', {"user":"    totemId: '1LoQvuu4KzHC1ux7qfOR',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totemId: '1LoQvuu4KzHC1ux7qfOR',"}}
[info] >      purchaseId: 'zuDSRe9m9p2oU9O4Kz1o', {"user":"    purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',"}}
[info] >      customerId: 'rMuIfSk9AarUm73FZVtC', {"user":"    customerId: 'rMuIfSk9AarUm73FZVtC',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     customerId: 'rMuIfSk9AarUm73FZVtC',"}}
[info] >      timestamp: 1729177549038 {"user":"    timestamp: 1729177549038","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     timestamp: 1729177549038"}}
[info] >    } {"user":"  }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   }"}}
[info] >  ] {"user":"]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ]"}}
[debug] [2024-10-18T12:39:38.292Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:39:38.292Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:39:38.292Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:39:38.292Z"],"workRunningCount":1}
[debug] [2024-10-18T12:39:38.292Z] Accepted request GET /totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T12:39:38.292Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:39:38.292Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T12:39:38.292Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:39:38.293Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[debug] [2024-10-18T12:39:38.337Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 44.4856ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 44.4856ms"}}
[debug] [2024-10-18T12:39:38.338Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T12:39:38.338Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:39:38.339Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:39:38.339Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:39:38.342Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:39:38.342Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:39:38.343Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:39:38.342Z"],"workRunningCount":1}
[debug] [2024-10-18T12:39:38.343Z] Accepted request GET /totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T12:39:38.344Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:39:38.344Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T12:39:38.344Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:39:38.345Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[info] >  QuerySnapshot { {"user":"QuerySnapshot {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m QuerySnapshot {"}}
[info] >    _query: Query { {"user":"  _query: Query {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _query: Query {"}}
[info] >      _firestore: Firestore { {"user":"    _firestore: Firestore {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _firestore: Firestore {"}}
[info] >        _settings: [Object], {"user":"      _settings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settings: [Object],"}}
[info] >        _settingsFrozen: true, {"user":"      _settingsFrozen: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settingsFrozen: true,"}}
[info] >        _serializer: [Serializer], {"user":"      _serializer: [Serializer],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer],"}}
[info] >        _projectId: 'totem-tour', {"user":"      _projectId: 'totem-tour',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _projectId: 'totem-tour',"}}
[info] >        _databaseId: '(default)', {"user":"      _databaseId: '(default)',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _databaseId: '(default)',"}}
[info] >        registeredListenersCount: 0, {"user":"      registeredListenersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       registeredListenersCount: 0,"}}
[info] >        bulkWritersCount: 0, {"user":"      bulkWritersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       bulkWritersCount: 0,"}}
[info] >        _traceUtil: DisabledTraceUtil {}, {"user":"      _traceUtil: DisabledTraceUtil {},","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _traceUtil: DisabledTraceUtil {},"}}
[info] >        _backoffSettings: [Object], {"user":"      _backoffSettings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _backoffSettings: [Object],"}}
[info] >        _clientPool: [ClientPool], {"user":"      _clientPool: [ClientPool],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _clientPool: [ClientPool],"}}
[info] >        _gax: [Object] {"user":"      _gax: [Object]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _gax: [Object]"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _queryOptions: QueryOptions { {"user":"    _queryOptions: QueryOptions {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryOptions: QueryOptions {"}}
[info] >        parentPath: [ResourcePath], {"user":"      parentPath: [ResourcePath],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       parentPath: [ResourcePath],"}}
[info] >        collectionId: 'purchaseItems', {"user":"      collectionId: 'purchaseItems',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       collectionId: 'purchaseItems',"}}
[info] >        converter: [Object], {"user":"      converter: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       converter: [Object],"}}
[info] >        allDescendants: false, {"user":"      allDescendants: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allDescendants: false,"}}
[info] >        filters: [Array], {"user":"      filters: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       filters: [Array],"}}
[info] >        fieldOrders: [Array], {"user":"      fieldOrders: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       fieldOrders: [Array],"}}
[info] >        startAt: undefined, {"user":"      startAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       startAt: undefined,"}}
[info] >        endAt: undefined, {"user":"      endAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       endAt: undefined,"}}
[info] >        limit: undefined, {"user":"      limit: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limit: undefined,"}}
[info] >        limitType: undefined, {"user":"      limitType: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limitType: undefined,"}}
[info] >        offset: undefined, {"user":"      offset: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       offset: undefined,"}}
[info] >        projection: undefined, {"user":"      projection: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       projection: undefined,"}}
[info] >        kindless: false, {"user":"      kindless: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       kindless: false,"}}
[info] >        requireConsistency: true {"user":"      requireConsistency: true","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       requireConsistency: true"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _serializer: Serializer { {"user":"    _serializer: Serializer {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _serializer: Serializer {"}}
[info] >        createReference: [Function (anonymous)], {"user":"      createReference: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createReference: [Function (anonymous)],"}}
[info] >        createInteger: [Function (anonymous)], {"user":"      createInteger: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createInteger: [Function (anonymous)],"}}
[info] >        allowUndefined: false {"user":"      allowUndefined: false","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allowUndefined: false"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _allowUndefined: false, {"user":"    _allowUndefined: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _allowUndefined: false,"}}
[info] >      _queryUtil: QueryUtil { {"user":"    _queryUtil: QueryUtil {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryUtil: QueryUtil {"}}
[info] >        _firestore: [Firestore], {"user":"      _firestore: [Firestore],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _firestore: [Firestore],"}}
[info] >        _queryOptions: [QueryOptions], {"user":"      _queryOptions: [QueryOptions],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _queryOptions: [QueryOptions],"}}
[info] >        _serializer: [Serializer] {"user":"      _serializer: [Serializer]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer]"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    _readTime: Timestamp { _seconds: 1729255177, _nanoseconds: 990473000 }, {"user":"  _readTime: Timestamp { _seconds: 1729255177, _nanoseconds: 990473000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _readTime: Timestamp { _seconds: 1729255177, _nanoseconds: 990473000 },"}}
[info] >    _size: 1, {"user":"  _size: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _size: 1,"}}
[info] >    _materializedDocs: null, {"user":"  _materializedDocs: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedDocs: null,"}}
[info] >    _materializedChanges: null, {"user":"  _materializedChanges: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedChanges: null,"}}
[info] >    _docs: [Function (anonymous)], {"user":"  _docs: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _docs: [Function (anonymous)],"}}
[info] >    _changes: [Function (anonymous)] {"user":"  _changes: [Function (anonymous)]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _changes: [Function (anonymous)]"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2024-10-18T12:39:38.406Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 61.6271ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 61.6271ms"}}
[debug] [2024-10-18T12:39:38.407Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T12:39:38.407Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:39:38.407Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:39:38.407Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] >  [ {"user":"[","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ["}}
[info] >    { {"user":"  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   {"}}
[info] >      id: 'AIxFbug16kvF6PQU0ybK', {"user":"    id: 'AIxFbug16kvF6PQU0ybK',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     id: 'AIxFbug16kvF6PQU0ybK',"}}
[info] >      productId: '2PHnd6lM4TG6lP6Y5fOc', {"user":"    productId: '2PHnd6lM4TG6lP6Y5fOc',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     productId: '2PHnd6lM4TG6lP6Y5fOc',"}}
[info] >      qty: 1, {"user":"    qty: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     qty: 1,"}}
[info] >      netPrice: 1, {"user":"    netPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     netPrice: 1,"}}
[info] >      partnerComm: 1, {"user":"    partnerComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     partnerComm: 1,"}}
[info] >      companyComm: 1, {"user":"    companyComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     companyComm: 1,"}}
[info] >      pricePerPerson: 1, {"user":"    pricePerPerson: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     pricePerPerson: 1,"}}
[info] >      minTotalPrice: 1, {"user":"    minTotalPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     minTotalPrice: 1,"}}
[info] >      totalPrice: 3, {"user":"    totalPrice: 3,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totalPrice: 3,"}}
[info] >      date: '2024-10-18', {"user":"    date: '2024-10-18',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: '2024-10-18',"}}
[info] >      cityId: 'OiCHcy7zKcp2uU3zlMPU', {"user":"    cityId: 'OiCHcy7zKcp2uU3zlMPU',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     cityId: 'OiCHcy7zKcp2uU3zlMPU',"}}
[info] >      totemId: '1LoQvuu4KzHC1ux7qfOR', {"user":"    totemId: '1LoQvuu4KzHC1ux7qfOR',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totemId: '1LoQvuu4KzHC1ux7qfOR',"}}
[info] >      purchaseId: 'zuDSRe9m9p2oU9O4Kz1o', {"user":"    purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',"}}
[info] >      customerId: 'rMuIfSk9AarUm73FZVtC', {"user":"    customerId: 'rMuIfSk9AarUm73FZVtC',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     customerId: 'rMuIfSk9AarUm73FZVtC',"}}
[info] >      timestamp: 1729177549038 {"user":"    timestamp: 1729177549038","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     timestamp: 1729177549038"}}
[info] >    } {"user":"  }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   }"}}
[info] >  ] {"user":"]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ]"}}
[debug] [2024-10-18T12:40:43.254Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:40:43.254Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:40:43.254Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:40:43.254Z"],"workRunningCount":1}
[debug] [2024-10-18T12:40:43.254Z] Accepted request GET /totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T12:40:43.257Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:40:43.258Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T12:40:43.258Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:40:43.259Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[debug] [2024-10-18T12:40:43.348Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 89.5484ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 89.5484ms"}}
[debug] [2024-10-18T12:40:43.349Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T12:40:43.349Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:40:43.349Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:40:43.349Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:40:43.354Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:40:43.354Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:40:43.354Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:40:43.354Z"],"workRunningCount":1}
[debug] [2024-10-18T12:40:43.354Z] Accepted request GET /totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T12:40:43.357Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:40:43.357Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T12:40:43.357Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:40:43.358Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[info] >  QuerySnapshot { {"user":"QuerySnapshot {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m QuerySnapshot {"}}
[info] >    _query: Query { {"user":"  _query: Query {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _query: Query {"}}
[info] >      _firestore: Firestore { {"user":"    _firestore: Firestore {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _firestore: Firestore {"}}
[info] >        _settings: [Object], {"user":"      _settings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settings: [Object],"}}
[info] >        _settingsFrozen: true, {"user":"      _settingsFrozen: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settingsFrozen: true,"}}
[info] >        _serializer: [Serializer], {"user":"      _serializer: [Serializer],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer],"}}
[info] >        _projectId: 'totem-tour', {"user":"      _projectId: 'totem-tour',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _projectId: 'totem-tour',"}}
[info] >        _databaseId: '(default)', {"user":"      _databaseId: '(default)',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _databaseId: '(default)',"}}
[info] >        registeredListenersCount: 0, {"user":"      registeredListenersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       registeredListenersCount: 0,"}}
[info] >        bulkWritersCount: 0, {"user":"      bulkWritersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       bulkWritersCount: 0,"}}
[info] >        _traceUtil: DisabledTraceUtil {}, {"user":"      _traceUtil: DisabledTraceUtil {},","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _traceUtil: DisabledTraceUtil {},"}}
[info] >        _backoffSettings: [Object], {"user":"      _backoffSettings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _backoffSettings: [Object],"}}
[info] >        _clientPool: [ClientPool], {"user":"      _clientPool: [ClientPool],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _clientPool: [ClientPool],"}}
[info] >        _gax: [Object] {"user":"      _gax: [Object]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _gax: [Object]"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _queryOptions: QueryOptions { {"user":"    _queryOptions: QueryOptions {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryOptions: QueryOptions {"}}
[info] >        parentPath: [ResourcePath], {"user":"      parentPath: [ResourcePath],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       parentPath: [ResourcePath],"}}
[info] >        collectionId: 'purchaseItems', {"user":"      collectionId: 'purchaseItems',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       collectionId: 'purchaseItems',"}}
[info] >        converter: [Object], {"user":"      converter: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       converter: [Object],"}}
[info] >        allDescendants: false, {"user":"      allDescendants: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allDescendants: false,"}}
[info] >        filters: [Array], {"user":"      filters: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       filters: [Array],"}}
[info] >        fieldOrders: [Array], {"user":"      fieldOrders: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       fieldOrders: [Array],"}}
[info] >        startAt: undefined, {"user":"      startAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       startAt: undefined,"}}
[info] >        endAt: undefined, {"user":"      endAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       endAt: undefined,"}}
[info] >        limit: undefined, {"user":"      limit: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limit: undefined,"}}
[info] >        limitType: undefined, {"user":"      limitType: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limitType: undefined,"}}
[info] >        offset: undefined, {"user":"      offset: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       offset: undefined,"}}
[info] >        projection: undefined, {"user":"      projection: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       projection: undefined,"}}
[info] >        kindless: false, {"user":"      kindless: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       kindless: false,"}}
[info] >        requireConsistency: true {"user":"      requireConsistency: true","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       requireConsistency: true"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _serializer: Serializer { {"user":"    _serializer: Serializer {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _serializer: Serializer {"}}
[info] >        createReference: [Function (anonymous)], {"user":"      createReference: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createReference: [Function (anonymous)],"}}
[info] >        createInteger: [Function (anonymous)], {"user":"      createInteger: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createInteger: [Function (anonymous)],"}}
[info] >        allowUndefined: false {"user":"      allowUndefined: false","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allowUndefined: false"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _allowUndefined: false, {"user":"    _allowUndefined: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _allowUndefined: false,"}}
[info] >      _queryUtil: QueryUtil { {"user":"    _queryUtil: QueryUtil {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryUtil: QueryUtil {"}}
[info] >        _firestore: [Firestore], {"user":"      _firestore: [Firestore],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _firestore: [Firestore],"}}
[info] >        _queryOptions: [QueryOptions], {"user":"      _queryOptions: [QueryOptions],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _queryOptions: [QueryOptions],"}}
[info] >        _serializer: [Serializer] {"user":"      _serializer: [Serializer]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer]"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    _readTime: Timestamp { _seconds: 1729255243, _nanoseconds: 12591000 }, {"user":"  _readTime: Timestamp { _seconds: 1729255243, _nanoseconds: 12591000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _readTime: Timestamp { _seconds: 1729255243, _nanoseconds: 12591000 },"}}
[info] >    _size: 1, {"user":"  _size: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _size: 1,"}}
[info] >    _materializedDocs: null, {"user":"  _materializedDocs: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedDocs: null,"}}
[info] >    _materializedChanges: null, {"user":"  _materializedChanges: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedChanges: null,"}}
[info] >    _docs: [Function (anonymous)], {"user":"  _docs: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _docs: [Function (anonymous)],"}}
[info] >    _changes: [Function (anonymous)] {"user":"  _changes: [Function (anonymous)]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _changes: [Function (anonymous)]"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2024-10-18T12:40:43.430Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 72.3956ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 72.3956ms"}}
[debug] [2024-10-18T12:40:43.431Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T12:40:43.431Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:40:43.431Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:40:43.431Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] >  [ {"user":"[","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ["}}
[info] >    { {"user":"  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   {"}}
[info] >      id: 'AIxFbug16kvF6PQU0ybK', {"user":"    id: 'AIxFbug16kvF6PQU0ybK',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     id: 'AIxFbug16kvF6PQU0ybK',"}}
[info] >      productId: '2PHnd6lM4TG6lP6Y5fOc', {"user":"    productId: '2PHnd6lM4TG6lP6Y5fOc',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     productId: '2PHnd6lM4TG6lP6Y5fOc',"}}
[info] >      qty: 1, {"user":"    qty: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     qty: 1,"}}
[info] >      netPrice: 1, {"user":"    netPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     netPrice: 1,"}}
[info] >      partnerComm: 1, {"user":"    partnerComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     partnerComm: 1,"}}
[info] >      companyComm: 1, {"user":"    companyComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     companyComm: 1,"}}
[info] >      pricePerPerson: 1, {"user":"    pricePerPerson: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     pricePerPerson: 1,"}}
[info] >      minTotalPrice: 1, {"user":"    minTotalPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     minTotalPrice: 1,"}}
[info] >      totalPrice: 3, {"user":"    totalPrice: 3,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totalPrice: 3,"}}
[info] >      date: '2024-10-18', {"user":"    date: '2024-10-18',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: '2024-10-18',"}}
[info] >      cityId: 'OiCHcy7zKcp2uU3zlMPU', {"user":"    cityId: 'OiCHcy7zKcp2uU3zlMPU',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     cityId: 'OiCHcy7zKcp2uU3zlMPU',"}}
[info] >      totemId: '1LoQvuu4KzHC1ux7qfOR', {"user":"    totemId: '1LoQvuu4KzHC1ux7qfOR',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totemId: '1LoQvuu4KzHC1ux7qfOR',"}}
[info] >      purchaseId: 'zuDSRe9m9p2oU9O4Kz1o', {"user":"    purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',"}}
[info] >      customerId: 'rMuIfSk9AarUm73FZVtC', {"user":"    customerId: 'rMuIfSk9AarUm73FZVtC',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     customerId: 'rMuIfSk9AarUm73FZVtC',"}}
[info] >      timestamp: 1729177549038 {"user":"    timestamp: 1729177549038","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     timestamp: 1729177549038"}}
[info] >    } {"user":"  }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   }"}}
[info] >  ] {"user":"]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ]"}}
[debug] [2024-10-18T12:40:46.240Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:40:46.240Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:40:46.241Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:40:46.240Z"],"workRunningCount":1}
[debug] [2024-10-18T12:40:46.241Z] Accepted request GET /totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T12:40:46.241Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:40:46.242Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T12:40:46.242Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:40:46.242Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[debug] [2024-10-18T12:40:46.281Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 38.9273ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 38.9273ms"}}
[debug] [2024-10-18T12:40:46.282Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T12:40:46.282Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:40:46.282Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:40:46.282Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:40:46.285Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:40:46.285Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:40:46.286Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:40:46.285Z"],"workRunningCount":1}
[debug] [2024-10-18T12:40:46.286Z] Accepted request GET /totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T12:40:46.286Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:40:46.286Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T12:40:46.286Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:40:46.287Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[info] >  QuerySnapshot { {"user":"QuerySnapshot {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m QuerySnapshot {"}}
[info] >    _query: Query { {"user":"  _query: Query {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _query: Query {"}}
[info] >      _firestore: Firestore { {"user":"    _firestore: Firestore {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _firestore: Firestore {"}}
[info] >        _settings: [Object], {"user":"      _settings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settings: [Object],"}}
[info] >        _settingsFrozen: true, {"user":"      _settingsFrozen: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settingsFrozen: true,"}}
[info] >        _serializer: [Serializer], {"user":"      _serializer: [Serializer],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer],"}}
[info] >        _projectId: 'totem-tour', {"user":"      _projectId: 'totem-tour',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _projectId: 'totem-tour',"}}
[info] >        _databaseId: '(default)', {"user":"      _databaseId: '(default)',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _databaseId: '(default)',"}}
[info] >        registeredListenersCount: 0, {"user":"      registeredListenersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       registeredListenersCount: 0,"}}
[info] >        bulkWritersCount: 0, {"user":"      bulkWritersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       bulkWritersCount: 0,"}}
[info] >        _traceUtil: DisabledTraceUtil {}, {"user":"      _traceUtil: DisabledTraceUtil {},","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _traceUtil: DisabledTraceUtil {},"}}
[info] >        _backoffSettings: [Object], {"user":"      _backoffSettings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _backoffSettings: [Object],"}}
[info] >        _clientPool: [ClientPool], {"user":"      _clientPool: [ClientPool],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _clientPool: [ClientPool],"}}
[info] >        _gax: [Object] {"user":"      _gax: [Object]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _gax: [Object]"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _queryOptions: QueryOptions { {"user":"    _queryOptions: QueryOptions {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryOptions: QueryOptions {"}}
[info] >        parentPath: [ResourcePath], {"user":"      parentPath: [ResourcePath],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       parentPath: [ResourcePath],"}}
[info] >        collectionId: 'purchaseItems', {"user":"      collectionId: 'purchaseItems',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       collectionId: 'purchaseItems',"}}
[info] >        converter: [Object], {"user":"      converter: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       converter: [Object],"}}
[info] >        allDescendants: false, {"user":"      allDescendants: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allDescendants: false,"}}
[info] >        filters: [Array], {"user":"      filters: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       filters: [Array],"}}
[info] >        fieldOrders: [Array], {"user":"      fieldOrders: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       fieldOrders: [Array],"}}
[info] >        startAt: undefined, {"user":"      startAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       startAt: undefined,"}}
[info] >        endAt: undefined, {"user":"      endAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       endAt: undefined,"}}
[info] >        limit: undefined, {"user":"      limit: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limit: undefined,"}}
[info] >        limitType: undefined, {"user":"      limitType: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limitType: undefined,"}}
[info] >        offset: undefined, {"user":"      offset: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       offset: undefined,"}}
[info] >        projection: undefined, {"user":"      projection: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       projection: undefined,"}}
[info] >        kindless: false, {"user":"      kindless: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       kindless: false,"}}
[info] >        requireConsistency: true {"user":"      requireConsistency: true","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       requireConsistency: true"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _serializer: Serializer { {"user":"    _serializer: Serializer {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _serializer: Serializer {"}}
[info] >        createReference: [Function (anonymous)], {"user":"      createReference: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createReference: [Function (anonymous)],"}}
[info] >        createInteger: [Function (anonymous)], {"user":"      createInteger: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createInteger: [Function (anonymous)],"}}
[info] >        allowUndefined: false {"user":"      allowUndefined: false","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allowUndefined: false"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _allowUndefined: false, {"user":"    _allowUndefined: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _allowUndefined: false,"}}
[info] >      _queryUtil: QueryUtil { {"user":"    _queryUtil: QueryUtil {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryUtil: QueryUtil {"}}
[info] >        _firestore: [Firestore], {"user":"      _firestore: [Firestore],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _firestore: [Firestore],"}}
[info] >        _queryOptions: [QueryOptions], {"user":"      _queryOptions: [QueryOptions],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _queryOptions: [QueryOptions],"}}
[info] >        _serializer: [Serializer] {"user":"      _serializer: [Serializer]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer]"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    _readTime: Timestamp { _seconds: 1729255245, _nanoseconds: 940700000 }, {"user":"  _readTime: Timestamp { _seconds: 1729255245, _nanoseconds: 940700000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _readTime: Timestamp { _seconds: 1729255245, _nanoseconds: 940700000 },"}}
[info] >    _size: 1, {"user":"  _size: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _size: 1,"}}
[info] >    _materializedDocs: null, {"user":"  _materializedDocs: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedDocs: null,"}}
[info] >    _materializedChanges: null, {"user":"  _materializedChanges: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedChanges: null,"}}
[info] >    _docs: [Function (anonymous)], {"user":"  _docs: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _docs: [Function (anonymous)],"}}
[info] >    _changes: [Function (anonymous)] {"user":"  _changes: [Function (anonymous)]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _changes: [Function (anonymous)]"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2024-10-18T12:40:46.360Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 73.4118ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 73.4118ms"}}
[debug] [2024-10-18T12:40:46.361Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T12:40:46.361Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:40:46.361Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:40:46.361Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] >  [ {"user":"[","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ["}}
[info] >    { {"user":"  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   {"}}
[info] >      id: 'AIxFbug16kvF6PQU0ybK', {"user":"    id: 'AIxFbug16kvF6PQU0ybK',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     id: 'AIxFbug16kvF6PQU0ybK',"}}
[info] >      productId: '2PHnd6lM4TG6lP6Y5fOc', {"user":"    productId: '2PHnd6lM4TG6lP6Y5fOc',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     productId: '2PHnd6lM4TG6lP6Y5fOc',"}}
[info] >      qty: 1, {"user":"    qty: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     qty: 1,"}}
[info] >      netPrice: 1, {"user":"    netPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     netPrice: 1,"}}
[info] >      partnerComm: 1, {"user":"    partnerComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     partnerComm: 1,"}}
[info] >      companyComm: 1, {"user":"    companyComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     companyComm: 1,"}}
[info] >      pricePerPerson: 1, {"user":"    pricePerPerson: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     pricePerPerson: 1,"}}
[info] >      minTotalPrice: 1, {"user":"    minTotalPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     minTotalPrice: 1,"}}
[info] >      totalPrice: 3, {"user":"    totalPrice: 3,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totalPrice: 3,"}}
[info] >      date: '2024-10-18', {"user":"    date: '2024-10-18',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: '2024-10-18',"}}
[info] >      cityId: 'OiCHcy7zKcp2uU3zlMPU', {"user":"    cityId: 'OiCHcy7zKcp2uU3zlMPU',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     cityId: 'OiCHcy7zKcp2uU3zlMPU',"}}
[info] >      totemId: '1LoQvuu4KzHC1ux7qfOR', {"user":"    totemId: '1LoQvuu4KzHC1ux7qfOR',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totemId: '1LoQvuu4KzHC1ux7qfOR',"}}
[info] >      purchaseId: 'zuDSRe9m9p2oU9O4Kz1o', {"user":"    purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',"}}
[info] >      customerId: 'rMuIfSk9AarUm73FZVtC', {"user":"    customerId: 'rMuIfSk9AarUm73FZVtC',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     customerId: 'rMuIfSk9AarUm73FZVtC',"}}
[info] >      timestamp: 1729177549038 {"user":"    timestamp: 1729177549038","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     timestamp: 1729177549038"}}
[info] >    } {"user":"  }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   }"}}
[info] >  ] {"user":"]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ]"}}
[debug] [2024-10-18T12:40:47.804Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:40:47.804Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:40:47.805Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:40:47.804Z"],"workRunningCount":1}
[debug] [2024-10-18T12:40:47.805Z] Accepted request GET /totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T12:40:47.806Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:40:47.806Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T12:40:47.806Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:40:47.806Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[debug] [2024-10-18T12:40:47.840Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 33.8454ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 33.8454ms"}}
[debug] [2024-10-18T12:40:47.841Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T12:40:47.841Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:40:47.842Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:40:47.842Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:40:47.846Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:40:47.845Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T12:40:47.846Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T12:40:47.845Z"],"workRunningCount":1}
[debug] [2024-10-18T12:40:47.846Z] Accepted request GET /totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T12:40:47.847Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T12:40:47.847Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T12:40:47.847Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T12:40:47.848Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[info] >  QuerySnapshot { {"user":"QuerySnapshot {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m QuerySnapshot {"}}
[info] >    _query: Query { {"user":"  _query: Query {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _query: Query {"}}
[info] >      _firestore: Firestore { {"user":"    _firestore: Firestore {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _firestore: Firestore {"}}
[info] >        _settings: [Object], {"user":"      _settings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settings: [Object],"}}
[info] >        _settingsFrozen: true, {"user":"      _settingsFrozen: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settingsFrozen: true,"}}
[info] >        _serializer: [Serializer], {"user":"      _serializer: [Serializer],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer],"}}
[info] >        _projectId: 'totem-tour', {"user":"      _projectId: 'totem-tour',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _projectId: 'totem-tour',"}}
[info] >        _databaseId: '(default)', {"user":"      _databaseId: '(default)',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _databaseId: '(default)',"}}
[info] >        registeredListenersCount: 0, {"user":"      registeredListenersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       registeredListenersCount: 0,"}}
[info] >        bulkWritersCount: 0, {"user":"      bulkWritersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       bulkWritersCount: 0,"}}
[info] >        _traceUtil: DisabledTraceUtil {}, {"user":"      _traceUtil: DisabledTraceUtil {},","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _traceUtil: DisabledTraceUtil {},"}}
[info] >        _backoffSettings: [Object], {"user":"      _backoffSettings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _backoffSettings: [Object],"}}
[info] >        _clientPool: [ClientPool], {"user":"      _clientPool: [ClientPool],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _clientPool: [ClientPool],"}}
[info] >        _gax: [Object] {"user":"      _gax: [Object]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _gax: [Object]"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _queryOptions: QueryOptions { {"user":"    _queryOptions: QueryOptions {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryOptions: QueryOptions {"}}
[info] >        parentPath: [ResourcePath], {"user":"      parentPath: [ResourcePath],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       parentPath: [ResourcePath],"}}
[info] >        collectionId: 'purchaseItems', {"user":"      collectionId: 'purchaseItems',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       collectionId: 'purchaseItems',"}}
[info] >        converter: [Object], {"user":"      converter: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       converter: [Object],"}}
[info] >        allDescendants: false, {"user":"      allDescendants: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allDescendants: false,"}}
[info] >        filters: [Array], {"user":"      filters: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       filters: [Array],"}}
[info] >        fieldOrders: [Array], {"user":"      fieldOrders: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       fieldOrders: [Array],"}}
[info] >        startAt: undefined, {"user":"      startAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       startAt: undefined,"}}
[info] >        endAt: undefined, {"user":"      endAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       endAt: undefined,"}}
[info] >        limit: undefined, {"user":"      limit: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limit: undefined,"}}
[info] >        limitType: undefined, {"user":"      limitType: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limitType: undefined,"}}
[info] >        offset: undefined, {"user":"      offset: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       offset: undefined,"}}
[info] >        projection: undefined, {"user":"      projection: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       projection: undefined,"}}
[info] >        kindless: false, {"user":"      kindless: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       kindless: false,"}}
[info] >        requireConsistency: true {"user":"      requireConsistency: true","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       requireConsistency: true"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _serializer: Serializer { {"user":"    _serializer: Serializer {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _serializer: Serializer {"}}
[info] >        createReference: [Function (anonymous)], {"user":"      createReference: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createReference: [Function (anonymous)],"}}
[info] >        createInteger: [Function (anonymous)], {"user":"      createInteger: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createInteger: [Function (anonymous)],"}}
[info] >        allowUndefined: false {"user":"      allowUndefined: false","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allowUndefined: false"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _allowUndefined: false, {"user":"    _allowUndefined: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _allowUndefined: false,"}}
[info] >      _queryUtil: QueryUtil { {"user":"    _queryUtil: QueryUtil {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryUtil: QueryUtil {"}}
[info] >        _firestore: [Firestore], {"user":"      _firestore: [Firestore],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _firestore: [Firestore],"}}
[info] >        _queryOptions: [QueryOptions], {"user":"      _queryOptions: [QueryOptions],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _queryOptions: [QueryOptions],"}}
[info] >        _serializer: [Serializer] {"user":"      _serializer: [Serializer]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer]"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    _readTime: Timestamp { _seconds: 1729255247, _nanoseconds: 500381000 }, {"user":"  _readTime: Timestamp { _seconds: 1729255247, _nanoseconds: 500381000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _readTime: Timestamp { _seconds: 1729255247, _nanoseconds: 500381000 },"}}
[info] >    _size: 1, {"user":"  _size: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _size: 1,"}}
[info] >    _materializedDocs: null, {"user":"  _materializedDocs: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedDocs: null,"}}
[info] >    _materializedChanges: null, {"user":"  _materializedChanges: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedChanges: null,"}}
[info] >    _docs: [Function (anonymous)], {"user":"  _docs: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _docs: [Function (anonymous)],"}}
[info] >    _changes: [Function (anonymous)] {"user":"  _changes: [Function (anonymous)]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _changes: [Function (anonymous)]"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2024-10-18T12:40:47.912Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 64.3693ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 64.3693ms"}}
[debug] [2024-10-18T12:40:47.912Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T12:40:47.912Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T12:40:47.913Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T12:40:47.913Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] >  [ {"user":"[","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ["}}
[info] >    { {"user":"  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   {"}}
[info] >      id: 'AIxFbug16kvF6PQU0ybK', {"user":"    id: 'AIxFbug16kvF6PQU0ybK',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     id: 'AIxFbug16kvF6PQU0ybK',"}}
[info] >      productId: '2PHnd6lM4TG6lP6Y5fOc', {"user":"    productId: '2PHnd6lM4TG6lP6Y5fOc',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     productId: '2PHnd6lM4TG6lP6Y5fOc',"}}
[info] >      qty: 1, {"user":"    qty: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     qty: 1,"}}
[info] >      netPrice: 1, {"user":"    netPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     netPrice: 1,"}}
[info] >      partnerComm: 1, {"user":"    partnerComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     partnerComm: 1,"}}
[info] >      companyComm: 1, {"user":"    companyComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     companyComm: 1,"}}
[info] >      pricePerPerson: 1, {"user":"    pricePerPerson: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     pricePerPerson: 1,"}}
[info] >      minTotalPrice: 1, {"user":"    minTotalPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     minTotalPrice: 1,"}}
[info] >      totalPrice: 3, {"user":"    totalPrice: 3,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totalPrice: 3,"}}
[info] >      date: '2024-10-18', {"user":"    date: '2024-10-18',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: '2024-10-18',"}}
[info] >      cityId: 'OiCHcy7zKcp2uU3zlMPU', {"user":"    cityId: 'OiCHcy7zKcp2uU3zlMPU',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     cityId: 'OiCHcy7zKcp2uU3zlMPU',"}}
[info] >      totemId: '1LoQvuu4KzHC1ux7qfOR', {"user":"    totemId: '1LoQvuu4KzHC1ux7qfOR',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totemId: '1LoQvuu4KzHC1ux7qfOR',"}}
[info] >      purchaseId: 'zuDSRe9m9p2oU9O4Kz1o', {"user":"    purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',"}}
[info] >      customerId: 'rMuIfSk9AarUm73FZVtC', {"user":"    customerId: 'rMuIfSk9AarUm73FZVtC',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     customerId: 'rMuIfSk9AarUm73FZVtC',"}}
[info] >      timestamp: 1729177549038 {"user":"    timestamp: 1729177549038","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     timestamp: 1729177549038"}}
[info] >    } {"user":"  }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   }"}}
[info] >  ] {"user":"]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ]"}}
[debug] [2024-10-18T13:13:18.959Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchases/-2024-10-18T13:13:18.959Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T13:13:18.960Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchases/-2024-10-18T13:13:18.959Z"],"workRunningCount":1}
[debug] [2024-10-18T13:13:18.960Z] Accepted request GET /totem-tour/us-central1/totem/purchases/ --> us-central1-totem
[debug] [2024-10-18T13:13:18.963Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T13:13:18.963Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchases/, mapping to path=/purchases/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchases/, mapping to path=/purchases/"}}
[debug] [2024-10-18T13:13:18.964Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T13:13:18.965Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[debug] [2024-10-18T13:13:19.403Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 438.015ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 438.015ms"}}
[debug] [2024-10-18T13:13:19.404Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T13:13:19.404Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T13:13:19.404Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T13:13:19.404Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T13:13:34.406Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T13:13:34.406Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T13:13:34.406Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T13:13:34.406Z"],"workRunningCount":1}
[debug] [2024-10-18T13:13:34.406Z] Accepted request GET /totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T13:13:34.409Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T13:13:34.409Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchases/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchases/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T13:13:34.409Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T13:13:34.410Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[debug] [2024-10-18T13:13:34.470Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 60.203ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 60.203ms"}}
[debug] [2024-10-18T13:13:34.471Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T13:13:34.471Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T13:13:34.471Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T13:13:34.471Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T13:13:34.474Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T13:13:34.474Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T13:13:34.474Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o-2024-10-18T13:13:34.474Z"],"workRunningCount":1}
[debug] [2024-10-18T13:13:34.474Z] Accepted request GET /totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o --> us-central1-totem
[debug] [2024-10-18T13:13:34.476Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T13:13:34.476Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o, mapping to path=/purchasePurchaseItens/zuDSRe9m9p2oU9O4Kz1o"}}
[debug] [2024-10-18T13:13:34.476Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T13:13:34.477Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[info] >  QuerySnapshot { {"user":"QuerySnapshot {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m QuerySnapshot {"}}
[info] >    _query: Query { {"user":"  _query: Query {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _query: Query {"}}
[info] >      _firestore: Firestore { {"user":"    _firestore: Firestore {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _firestore: Firestore {"}}
[info] >        _settings: [Object], {"user":"      _settings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settings: [Object],"}}
[info] >        _settingsFrozen: true, {"user":"      _settingsFrozen: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settingsFrozen: true,"}}
[info] >        _serializer: [Serializer], {"user":"      _serializer: [Serializer],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer],"}}
[info] >        _projectId: 'totem-tour', {"user":"      _projectId: 'totem-tour',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _projectId: 'totem-tour',"}}
[info] >        _databaseId: '(default)', {"user":"      _databaseId: '(default)',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _databaseId: '(default)',"}}
[info] >        registeredListenersCount: 0, {"user":"      registeredListenersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       registeredListenersCount: 0,"}}
[info] >        bulkWritersCount: 0, {"user":"      bulkWritersCount: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       bulkWritersCount: 0,"}}
[info] >        _traceUtil: DisabledTraceUtil {}, {"user":"      _traceUtil: DisabledTraceUtil {},","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _traceUtil: DisabledTraceUtil {},"}}
[info] >        _backoffSettings: [Object], {"user":"      _backoffSettings: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _backoffSettings: [Object],"}}
[info] >        _clientPool: [ClientPool], {"user":"      _clientPool: [ClientPool],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _clientPool: [ClientPool],"}}
[info] >        _gax: [Object] {"user":"      _gax: [Object]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _gax: [Object]"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _queryOptions: QueryOptions { {"user":"    _queryOptions: QueryOptions {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryOptions: QueryOptions {"}}
[info] >        parentPath: [ResourcePath], {"user":"      parentPath: [ResourcePath],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       parentPath: [ResourcePath],"}}
[info] >        collectionId: 'purchaseItems', {"user":"      collectionId: 'purchaseItems',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       collectionId: 'purchaseItems',"}}
[info] >        converter: [Object], {"user":"      converter: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       converter: [Object],"}}
[info] >        allDescendants: false, {"user":"      allDescendants: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allDescendants: false,"}}
[info] >        filters: [Array], {"user":"      filters: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       filters: [Array],"}}
[info] >        fieldOrders: [Array], {"user":"      fieldOrders: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       fieldOrders: [Array],"}}
[info] >        startAt: undefined, {"user":"      startAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       startAt: undefined,"}}
[info] >        endAt: undefined, {"user":"      endAt: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       endAt: undefined,"}}
[info] >        limit: undefined, {"user":"      limit: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limit: undefined,"}}
[info] >        limitType: undefined, {"user":"      limitType: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       limitType: undefined,"}}
[info] >        offset: undefined, {"user":"      offset: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       offset: undefined,"}}
[info] >        projection: undefined, {"user":"      projection: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       projection: undefined,"}}
[info] >        kindless: false, {"user":"      kindless: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       kindless: false,"}}
[info] >        requireConsistency: true {"user":"      requireConsistency: true","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       requireConsistency: true"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _serializer: Serializer { {"user":"    _serializer: Serializer {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _serializer: Serializer {"}}
[info] >        createReference: [Function (anonymous)], {"user":"      createReference: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createReference: [Function (anonymous)],"}}
[info] >        createInteger: [Function (anonymous)], {"user":"      createInteger: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       createInteger: [Function (anonymous)],"}}
[info] >        allowUndefined: false {"user":"      allowUndefined: false","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       allowUndefined: false"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _allowUndefined: false, {"user":"    _allowUndefined: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _allowUndefined: false,"}}
[info] >      _queryUtil: QueryUtil { {"user":"    _queryUtil: QueryUtil {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     _queryUtil: QueryUtil {"}}
[info] >        _firestore: [Firestore], {"user":"      _firestore: [Firestore],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _firestore: [Firestore],"}}
[info] >        _queryOptions: [QueryOptions], {"user":"      _queryOptions: [QueryOptions],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _queryOptions: [QueryOptions],"}}
[info] >        _serializer: [Serializer] {"user":"      _serializer: [Serializer]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m       _serializer: [Serializer]"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    _readTime: Timestamp { _seconds: 1729257214, _nanoseconds: 154588000 }, {"user":"  _readTime: Timestamp { _seconds: 1729257214, _nanoseconds: 154588000 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _readTime: Timestamp { _seconds: 1729257214, _nanoseconds: 154588000 },"}}
[info] >    _size: 1, {"user":"  _size: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _size: 1,"}}
[info] >    _materializedDocs: null, {"user":"  _materializedDocs: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedDocs: null,"}}
[info] >    _materializedChanges: null, {"user":"  _materializedChanges: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _materializedChanges: null,"}}
[info] >    _docs: [Function (anonymous)], {"user":"  _docs: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _docs: [Function (anonymous)],"}}
[info] >    _changes: [Function (anonymous)] {"user":"  _changes: [Function (anonymous)]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   _changes: [Function (anonymous)]"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2024-10-18T13:13:34.602Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 125.5616ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 125.5616ms"}}
[debug] [2024-10-18T13:13:34.604Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T13:13:34.604Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T13:13:34.604Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T13:13:34.604Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] >  [ {"user":"[","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ["}}
[info] >    { {"user":"  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   {"}}
[info] >      id: 'AIxFbug16kvF6PQU0ybK', {"user":"    id: 'AIxFbug16kvF6PQU0ybK',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     id: 'AIxFbug16kvF6PQU0ybK',"}}
[info] >      productId: '2PHnd6lM4TG6lP6Y5fOc', {"user":"    productId: '2PHnd6lM4TG6lP6Y5fOc',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     productId: '2PHnd6lM4TG6lP6Y5fOc',"}}
[info] >      qty: 1, {"user":"    qty: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     qty: 1,"}}
[info] >      netPrice: 1, {"user":"    netPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     netPrice: 1,"}}
[info] >      partnerComm: 1, {"user":"    partnerComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     partnerComm: 1,"}}
[info] >      companyComm: 1, {"user":"    companyComm: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     companyComm: 1,"}}
[info] >      pricePerPerson: 1, {"user":"    pricePerPerson: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     pricePerPerson: 1,"}}
[info] >      minTotalPrice: 1, {"user":"    minTotalPrice: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     minTotalPrice: 1,"}}
[info] >      totalPrice: 3, {"user":"    totalPrice: 3,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totalPrice: 3,"}}
[info] >      date: '2024-10-18', {"user":"    date: '2024-10-18',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: '2024-10-18',"}}
[info] >      cityId: 'OiCHcy7zKcp2uU3zlMPU', {"user":"    cityId: 'OiCHcy7zKcp2uU3zlMPU',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     cityId: 'OiCHcy7zKcp2uU3zlMPU',"}}
[info] >      totemId: '1LoQvuu4KzHC1ux7qfOR', {"user":"    totemId: '1LoQvuu4KzHC1ux7qfOR',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     totemId: '1LoQvuu4KzHC1ux7qfOR',"}}
[info] >      purchaseId: 'zuDSRe9m9p2oU9O4Kz1o', {"user":"    purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     purchaseId: 'zuDSRe9m9p2oU9O4Kz1o',"}}
[info] >      customerId: 'rMuIfSk9AarUm73FZVtC', {"user":"    customerId: 'rMuIfSk9AarUm73FZVtC',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     customerId: 'rMuIfSk9AarUm73FZVtC',"}}
[info] >      timestamp: 1729177549038 {"user":"    timestamp: 1729177549038","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m     timestamp: 1729177549038"}}
[info] >    } {"user":"  }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m   }"}}
[info] >  ] {"user":"]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"\u001b[90m> \u001b[39m ]"}}
[debug] [2024-10-18T13:15:26.522Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchases/-2024-10-18T13:15:26.522Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T13:15:26.523Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchases/-2024-10-18T13:15:26.522Z"],"workRunningCount":1}
[debug] [2024-10-18T13:15:26.523Z] Accepted request GET /totem-tour/us-central1/totem/purchases/ --> us-central1-totem
[debug] [2024-10-18T13:15:26.527Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T13:15:26.527Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchases/, mapping to path=/purchases/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchases/, mapping to path=/purchases/"}}
[debug] [2024-10-18T13:15:26.527Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T13:15:26.528Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[debug] [2024-10-18T13:15:26.631Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 103.2502ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 103.2502ms"}}
[debug] [2024-10-18T13:15:26.633Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T13:15:26.633Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T13:15:26.633Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T13:15:26.633Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T13:15:28.675Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/sales/-2024-10-18T13:15:28.675Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T13:15:28.675Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/sales/-2024-10-18T13:15:28.675Z"],"workRunningCount":1}
[debug] [2024-10-18T13:15:28.675Z] Accepted request GET /totem-tour/us-central1/totem/sales/ --> us-central1-totem
[debug] [2024-10-18T13:15:28.676Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T13:15:28.676Z] [functions] Got req.url=/totem-tour/us-central1/totem/sales/, mapping to path=/sales/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/sales/, mapping to path=/sales/"}}
[debug] [2024-10-18T13:15:28.676Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T13:15:28.677Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[debug] [2024-10-18T13:15:28.742Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 65.521ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 65.521ms"}}
[debug] [2024-10-18T13:15:28.743Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T13:15:28.743Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T13:15:28.743Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T13:15:28.744Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T13:15:29.314Z] [work-queue] {"queuedWork":["/totem-tour/us-central1/totem/purchases/-2024-10-18T13:15:29.314Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-10-18T13:15:29.314Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/totem-tour/us-central1/totem/purchases/-2024-10-18T13:15:29.314Z"],"workRunningCount":1}
[debug] [2024-10-18T13:15:29.314Z] Accepted request GET /totem-tour/us-central1/totem/purchases/ --> us-central1-totem
[debug] [2024-10-18T13:15:29.315Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-10-18T13:15:29.315Z] [functions] Got req.url=/totem-tour/us-central1/totem/purchases/, mapping to path=/purchases/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/totem-tour/us-central1/totem/purchases/, mapping to path=/purchases/"}}
[debug] [2024-10-18T13:15:29.315Z] [worker-pool] submitRequest(triggerId=us-central1-totem) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-totem)"}}
[info] i  functions: Beginning execution of "us-central1-totem" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Beginning execution of \"us-central1-totem\""}}
[debug] [2024-10-18T13:15:29.316Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: BUSY"}}
[debug] [2024-10-18T13:15:29.362Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-totem" in 46.3781ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finished \"us-central1-totem\" in 46.3781ms"}}
[debug] [2024-10-18T13:15:29.363Z] [worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"[worker-us-central1-totem-64739971-7bbe-47b3-a164-c0fcac07358e]: IDLE"}}
[debug] [2024-10-18T13:15:29.363Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-10-18T13:15:29.363Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-totem"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-10-18T13:15:29.363Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
